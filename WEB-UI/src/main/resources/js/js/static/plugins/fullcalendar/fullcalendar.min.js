/*!
 * FullCalendar v2.2.5
 * Docs & License: http://arshaw.com/fullcalendar/
 * (c) 2013 Adam Shaw
 */
(function(b){"function"==typeof define&&define.amd?define(["jquery","moment"],b):b(jQuery,moment)})(function(bS,bl){function by(aa){br(U,aa)}function br(aa){function ac(ad,af){bS.isPlainObject(af)&&bS.isPlainObject(aa[ad])&&!bQ(ad)?aa[ad]=br({},aa[ad],af):void 0!==af&&(aa[ad]=af)}for(var ab=1;arguments.length>ab;ab++){bS.each(arguments[ab],ac)}return aa}function bQ(aa){return/(Time|Duration)$/.test(aa)}function bR(ab){var aa=bl.localeData||bl.langData;return aa.call(bl,ab)||aa.call(bl,"en")}function bz(ab,aa){aa.left&&ab.css({"border-left-width":1,"margin-left":aa.left-1}),aa.right&&ab.css({"border-right-width":1,"margin-right":aa.right-1})}function bu(aa){aa.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function b2(){bS("body").addClass("fc-not-allowed")}function bT(){bS("body").removeClass("fc-not-allowed")}function bk(ad,ah,af){var aj=Math.floor(ah/ad.length),aa=Math.floor(ah-aj*(ad.length-1)),ai=[],ag=[],ac=[],ab=0;bj(ad),ad.each(function(aC,aA){var aB=aC===ad.length-1?aa:aj,ak=bS(aA).outerHeight(!0);aB>ak?(ai.push(aA),ag.push(ak),ac.push(bS(aA).height())):ab+=ak}),af&&(ah-=ab,aj=Math.floor(ah/ai.length),aa=Math.floor(ah-aj*(ai.length-1))),bS(ai).each(function(aE,aB){var aA=aE===ai.length-1?aa:aj,ak=ag[aE],aD=ac[aE],aC=aA-(ak-aD);aA>ak&&bS(aB).height(aC)})}function bj(aa){aa.height("")}function bq(ab){var aa=0;return ab.find("> *").each(function(ac,af){var ad=bS(af).outerWidth();ad>aa&&(aa=ad)}),aa++,ab.width(aa),aa}function bm(ab,aa){return ab.height(aa).addClass("fc-scroller"),ab[0].scrollHeight-1>ab[0].clientHeight?!0:(bn(ab),!1)}function bn(aa){aa.height("").removeClass("fc-scroller")}function bN(aa){var ac=aa.css("position"),ab=aa.parents().filter(function(){var ad=bS(this);return/(auto|scroll)/.test(ad.css("overflow")+ad.css("overflow-y")+ad.css("overflow-x"))}).eq(0);return"fixed"!==ac&&ab.length?ab:bS(aa[0].ownerDocument||document)}function bx(aa){var ad=aa.offset().left,ac=ad+aa.width(),ab=aa.children(),af=ab.offset().left,ag=af+ab.outerWidth();return{left:af-ad,right:ac-ag}}function A(aa){return 1==aa.which&&!aa.ctrlKey}function F(ab,af){var ai,ag,ak,aa,aj=ab.start,ah=ab.end,ad=af.start,ac=af.end;return ah>ad&&ac>aj?(aj>=ad?(ai=aj.clone(),ak=!0):(ai=ad.clone(),ak=!1),ac>=ah?(ag=ah.clone(),aa=!0):(ag=ac.clone(),aa=!1),{start:ai,end:ag,isStart:ak,isEnd:aa}):void 0}function B(aa,ad){if(aa=aa||{},void 0!==aa[ad]){return aa[ad]}for(var ac,ab=ad.split(/(?=[A-Z])/),af=ab.length-1;af>=0;af--){if(ac=aa[ab[af].toLowerCase()],void 0!==ac){return ac}}return aa["default"]}function d(ab,aa){return bl.duration({days:ab.clone().stripTime().diff(aa.clone().stripTime(),"days"),ms:ab.time()-aa.time()})}function x(ab,aa){return bl.duration({days:ab.clone().stripTime().diff(aa.clone().stripTime(),"days")})}function a(aa,ad){var ac,ab;for(ac=0;az.length>ac&&(ab=az[ac],!c(ab,aa,ad));ac++){}return ab}function c(aa,ac,ab){var ad;return ad=null!=ab?ab.diff(ac,aa,!0):bl.isDuration(ac)?ac.as(aa):ac.end.diff(ac.start,aa,!0),ad>=1&&b1(ad)?ad:!1}function bf(aa){return"[object Date]"===Object.prototype.toString.call(aa)||aa instanceof Date}function z(aa){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(aa)}function D(ab){var aa=function(){};return aa.prototype=ab,new aa}function h(ab,aa){for(var ac in ab){w(ab,ac)&&(aa[ac]=ab[ac])}}function w(ab,aa){return ap.call(ab,aa)}function bt(aa){return/undefined|null|boolean|number|string/.test(bS.type(aa))}function o(ad,ac,ab){if(bS.isFunction(ad)&&(ad=[ad]),ad){var af,aa;for(af=0;ad.length>af;af++){aa=ad[af].apply(ac,ab)||aa}return aa}}function e(){for(var aa=0;arguments.length>aa;aa++){if(void 0!==arguments[aa]){return arguments[aa]}}}function H(aa){return(aa+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function n(aa){return aa.replace(/&.*?;/g,"")}function u(aa){return aa.charAt(0).toUpperCase()+aa.slice(1)}function bV(ab,aa){return ab-aa}function b1(aa){return 0===aa%1}function f(aa,af){var ac,ab,ag,ah,ad=function(){var ai=+new Date-ah;af>ai&&ai>0?ac=setTimeout(ad,af-ai):(ac=null,aa.apply(ag,ab),ac||(ag=ab=null))};return function(){ag=this,ab=arguments,ah=+new Date,ac||(ac=setTimeout(ad,af))}}function bb(ah,af,aj){var aa,ai,ag,ac,ab=ah[0],ad=1==ah.length&&"string"==typeof ab;return bl.isMoment(ab)?(ac=bl.apply(null,ah),bY(ab,ac)):bf(ab)||void 0===ab?ac=bl.apply(null,ah):(aa=!1,ai=!1,ad?bh.test(ab)?(ab+="-01",ah=[ab],aa=!0,ai=!0):(ag=b0.exec(ab))&&(aa=!ag[5],ai=!0):bS.isArray(ab)&&(ai=!0),ac=af||aa?bl.utc.apply(bl,ah):bl.apply(null,ah),aa?(ac._ambigTime=!0,ac._ambigZone=!0):aj&&(ai?ac._ambigZone=!0:ad&&ac.zone(ab))),ac._fullCalendar=!0,ac}function r(ag,ab){var ah,ad,af=!1,ac=!1,ai=ag.length,aa=[];for(ah=0;ai>ah;ah++){ad=ag[ah],bl.isMoment(ad)||(ad=bv.moment.parseZone(ad)),af=af||ad._ambigTime,ac=ac||ad._ambigZone,aa.push(ad)}for(ah=0;ai>ah;ah++){ad=aa[ah],ab||!af||ad._ambigTime?ac&&!ad._ambigZone&&(aa[ah]=ad.clone().stripZone()):aa[ah]=ad.clone().stripTime()}return aa}function bY(ab,aa){ab._ambigTime?aa._ambigTime=!0:aa._ambigTime&&(aa._ambigTime=!1),ab._ambigZone?aa._ambigZone=!0:aa._ambigZone&&(aa._ambigZone=!1)}function t(ab,aa){ab.year(aa[0]||0).month(aa[1]||0).date(aa[2]||0).hours(aa[3]||0).minutes(aa[4]||0).seconds(aa[5]||0).milliseconds(aa[6]||0)}function bd(ab,aa){return L.format.call(ab,aa)}function bZ(ab,aa){return k(ab,bU(aa))}function k(aa,ad){var ac,ab="";for(ac=0;ad.length>ac;ac++){ab+=bW(aa,ad[ac])}return ab}function bW(aa,ad){var ac,ab;return"string"==typeof ad?ad:(ac=ad.token)?N[ac]?N[ac](aa):bd(aa,ac):ad.maybe&&(ab=k(aa,ad.maybe),ab.match(/[1-9]/))?ab:""}function bs(aa,ad,ac,ab,af){var ag;return aa=bv.moment.parseZone(aa),ad=bv.moment.parseZone(ad),ag=(aa.localeData||aa.lang).call(aa),ac=ag.longDateFormat(ac)||ac,ab=ab||" - ",bX(aa,ad,bU(ac),ab,af)}function bX(ad,aD,ah,af,aA){var ac,ai,ag,ak,aj="",aC="",aB="",ab="",aa="";for(ai=0;ah.length>ai&&(ac=X(ad,aD,ah[ai]),ac!==!1);ai++){aj+=ac}for(ag=ah.length-1;ag>ai&&(ac=X(ad,aD,ah[ag]),ac!==!1);ag--){aC=ac+aC}for(ak=ai;ag>=ak;ak++){aB+=bW(ad,ah[ak]),ab+=bW(aD,ah[ak])}return(aB||ab)&&(aa=aA?ab+af+aB:aB+af+ab),aj+aa+aC}function X(aa,ad,ac){var ab,af;return"string"==typeof ac?ac:(ab=ac.token)&&(af=ae[ab.charAt(0)],af&&aa.isSame(ad,af))?bd(aa,ab):!1}function bU(aa){return aa in be?be[aa]:be[aa]=bO(aa)}function bO(aa){for(var ad,ac=[],ab=/\[([^\]]*)\]|\(([^\)]*)\)|(LT|(\w)\4*o?)|([^\w\[\(]+)/g;ad=ab.exec(aa);){ad[1]?ac.push(ad[1]):ad[2]?ac.push({maybe:bO(ad[2])}):ad[3]?ac.push({token:ad[3]}):ad[5]&&ac.push(ad[5])}return ac}function m(){}function v(ab,aa){return ab||aa?ab&&aa?ab.grid===aa.grid&&ab.row===aa.row&&ab.col===aa.col:!1:!0}function l(ab){var aa=a0(ab);return"background"===aa||"inverse-background"===aa}function b(aa){return"inverse-background"===a0(aa)}function a0(aa){return e((aa.source||{}).rendering,aa.rendering)}function j(aa){var ad,ac,ab={};for(ad=0;aa.length>ad;ad++){ac=aa[ad],(ab[ac._id]||(ab[ac._id]=[])).push(ac)}return ab}function bw(ab,aa){return ab.eventStartMS-aa.eventStartMS}function J(ab,aa){return ab.eventStartMS-aa.eventStartMS||aa.eventDurationMS-ab.eventDurationMS||aa.event.allDay-ab.event.allDay||(ab.event.title||"").localeCompare(aa.event.title)}function am(ac){var aa,af,ag,ad,ab=bv.dataAttrPrefix;return ab&&(ab+="-"),aa=ac.data(ab+"event")||null,aa&&(aa="object"==typeof aa?bS.extend({},aa):{},af=aa.start,null==af&&(af=aa.time),ag=aa.duration,ad=aa.stick,delete aa.start,delete aa.time,delete aa.duration,delete aa.stick),null==af&&(af=ac.data(ab+"start")),null==af&&(af=ac.data(ab+"time")),null==ag&&(ag=ac.data(ab+"duration")),null==ad&&(ad=ac.data(ab+"stick")),af=null!=af?bl.duration(af):null,ag=null!=ag?bl.duration(ag):null,ad=Boolean(ad),{eventProps:aa,startTime:af,duration:ag,stick:ad}}function bp(aa,ad){var ac,ab;for(ac=0;ad.length>ac;ac++){if(ab=ad[ac],ab.leftCol<=aa.rightCol&&ab.rightCol>=aa.leftCol){return !0}}return !1}function M(ab,aa){return ab.leftCol-aa.leftCol}function ax(aa){var ad,ac,ab;if(aa.sort(J),ad=bi(aa),Y(ad),ac=ad[0]){for(ab=0;ac.length>ab;ab++){bP(ac[ab])}for(ab=0;ac.length>ab;ab++){s(ac[ab],0,0)}}}function bi(aa){var ad,ac,ab,af=[];for(ad=0;aa.length>ad;ad++){for(ac=aa[ad],ab=0;af.length>ab&&Q(ac,af[ab]).length;ab++){}ac.level=ab,(af[ab]||(af[ab]=[])).push(ac)}return af}function Y(aa){var ad,ac,ab,af,ag;for(ad=0;aa.length>ad;ad++){for(ac=aa[ad],ab=0;ac.length>ab;ab++){for(af=ac[ab],af.forwardSegs=[],ag=ad+1;aa.length>ag;ag++){Q(af,aa[ag],af.forwardSegs)}}}}function bP(aa){var ad,ac,ab=aa.forwardSegs,af=0;if(void 0===aa.forwardPressure){for(ad=0;ab.length>ad;ad++){ac=ab[ad],bP(ac),af=Math.max(af,1+ac.forwardPressure)}aa.forwardPressure=af}}function s(aa,ad,ac){var ab,af=aa.forwardSegs;if(void 0===aa.forwardCoord){for(af.length?(af.sort(S),s(af[0],ad+1,ac),aa.forwardCoord=af[0].backwardCoord):aa.forwardCoord=1,aa.backwardCoord=aa.forwardCoord-(aa.forwardCoord-ac)/(ad+1),ab=0;af.length>ab;ab++){s(af[ab],0,aa.forwardCoord)}}}function Q(aa,ad,ac){ac=ac||[];for(var ab=0;ad.length>ab;ab++){av(aa,ad[ab])&&ac.push(ad[ab])}return ac}function av(ab,aa){return ab.bottom>aa.top&&ab.top<aa.bottom}function S(ab,aa){return aa.forwardPressure-ab.forwardPressure||(ab.backwardCoord||0)-(aa.backwardCoord||0)||J(ab,aa)}function aq(cR,ai){function cS(b3){return(b3.locale||b3.lang).call(b3,a6.lang).humanize()}function ce(b3){aU?bE()&&(aJ(),bI(b3)):bA()}function bA(){aM=a6.theme?"ui":"fc",cR.addClass("fc"),a6.isRTL?cR.addClass("fc-rtl"):cR.addClass("fc-ltr"),a6.theme?cR.addClass("ui-widget"):cR.addClass("fc-unthemed"),aU=bS("<div class='fc-view-container'/>").prependTo(cR),aQ=new O(aP,a6),aG=aQ.render(),aG&&cR.prepend(aG),bD(a6.defaultView),a6.handleWindowResize&&(aC=f(a4,a6.windowResizeDelay),bS(window).resize(aC))}function ak(){aO&&aO.destroyView(),aQ.destroy(),aU.remove(),cR.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"),bS(window).unbind("resize",aC)}function bE(){return cR.is(":visible")}function bD(b3){bI(0,b3)}function bI(b3,b4){aV++,aO&&b4&&aO.type!==b4&&(aQ.deactivateButton(aO.type),bJ(),aO.start&&aO.destroyView(),aO.el.remove(),aO=null),!aO&&b4&&(aO=bF(b4),aO.el=bS("<div class='fc-view fc-"+b4+"-view' />").appendTo(aU),aQ.activateButton(b4)),aO&&(0>b3?a1=aO.computePrevDate(a1):b3>0&&(a1=aO.computeNextDate(a1)),aO.start&&!b3&&a1.isWithin(aO.intervalStart,aO.intervalEnd)||bE()&&(bJ(),aO.start&&aO.destroyView(),aO.setDate(a1),aO.renderView(),a7(),ah(),aL(),aj())),a7(),aV--}function bF(b3){var b4=bG(b3);return new b4["class"](aP,b4.options,b3)}function bG(b8){function b4(ch){"function"==typeof ch?cg=ch:"object"==typeof ch&&bS.extend(ca,ch)}var ca,cg,b7,b5,b3,cb=a6.defaultButtonText||{},b6=a6.buttonText||{},cf=a6.views||{},cc=b8,cd=[],b9=!1;if(aX[b8]){return aX[b8]}for(;cc&&!cg;){ca={},b4(p[cc]),b4(cf[cc]),cd.unshift(ca),cc=ca.type}return cd.unshift({}),ca=bS.extend.apply(bS,cd),cg?(b7=ca.duration||cg.duration,b7&&(b7=bl.duration(b7),b5=a(b7),b9=1===c(b5,b7)),b9&&cf[b5]&&(ca=bS.extend({},cf[b5],ca)),b3=b6[b8]||(b9?b6[b5]:null)||cb[b8]||(b9?cb[b5]:null)||ca.buttonText||cg.buttonText||(b7?cS(b7):null)||b8,aX[b8]={"class":cg,options:ca,buttonText:b3}):void 0}function aa(b3){return Boolean(bG(b3))}function cQ(b3){var b4=bG(b3);return b4?b4.buttonText:void 0}function aB(b3){return bE()?(b3&&aF(),aV++,aO.updateSize(!0),aV--,!0):void 0}function aJ(){bE()&&aF()}function aF(){a3="number"==typeof a6.contentHeight?a6.contentHeight:"number"==typeof a6.height?a6.height-(aG?aG.outerHeight(!0):0):Math.round(aU.width()/Math.max(a6.aspectRatio,0.5))}function a4(b3){!aV&&b3.target===window&&aO.start&&aB(!0)&&aO.trigger("windowResize",aR)}function bK(){ac(),ab()}function a2(){bE()&&(bJ(),aO.destroyViewEvents(),aO.renderViewEvents(aW),a7())}function ac(){bJ(),aO.destroyViewEvents(),a7()}function aj(){!a6.lazyFetching||aS(aO.start,aO.end)?ab():a2()}function ab(){a9(aO.start,aO.end)}function bL(b3){aW=b3,a2()}function aI(){a2()}function ah(){aQ.updateTitle(aO.computeTitle())}function aL(){var b3=aP.getNow();b3.isWithin(aO.intervalStart,aO.intervalEnd)?aQ.disableButton("today"):aQ.enableButton("today")}function aH(b3,b4){b3=aP.moment(b3),b4=b4?aP.moment(b4):b3.hasTime()?b3.clone().add(aP.defaultTimedEventDuration):b3.clone().add(aP.defaultAllDayEventDuration),aO.select({start:b3,end:b4})}function af(){aO&&aO.unselect()}function a8(){bI(-1)}function aY(){bI(1)}function aK(){a1.add(-1,"years"),bI()}function bC(){a1.add(1,"years"),bI()}function aN(){a1=aP.getNow(),bI()}function aZ(b3){a1=aP.moment(b3),bI()}function bH(b3){a1.add(bl.duration(b3)),bI()}function aA(b6,b5){var b4,b3;b5&&aa(b5)||(b5=b5||"day",b4=aQ.getViewsWithButtons().join(" "),b3=b4.match(RegExp("\\w+"+u(b5))),b3||(b3=b4.match(/\w+Day/)),b5=b3?b3[0]:"agendaDay"),a1=b6,bD(b5)}function a5(){return a1.clone()}function bJ(){aU.css({width:"100%",height:aU.height(),overflow:"hidden"})}function a7(){aU.css({width:"",height:"",overflow:""})}function aT(){return aP}function ad(){return aO}function ag(b3,b4){return void 0===b4?a6[b3]:(("height"==b3||"contentHeight"==b3||"aspectRatio"==b3)&&(a6[b3]=b4,aB(!0)),void 0)}function aE(b3,b4){return a6[b3]?a6[b3].apply(b4||aR,Array.prototype.slice.call(arguments,2)):void 0}var aP=this;ai=ai||{};var aD,a6=br({},U,ai);aD=a6.lang in T?T[a6.lang]:T[U.lang],aD&&(a6=br({},U,aD,ai)),a6.isRTL&&(a6=br({},U,y,aD||{},ai)),aP.options=a6,aP.render=ce,aP.destroy=ak,aP.refetchEvents=bK,aP.reportEvents=bL,aP.reportEventChange=aI,aP.rerenderEvents=a2,aP.changeView=bD,aP.select=aH,aP.unselect=af,aP.prev=a8,aP.next=aY,aP.prevYear=aK,aP.nextYear=bC,aP.today=aN,aP.gotoDate=aZ,aP.incrementDate=bH,aP.zoomTo=aA,aP.getDate=a5,aP.getCalendar=aT,aP.getView=ad,aP.option=ag,aP.trigger=aE,aP.isValidViewType=aa,aP.getViewButtonText=cQ;var bB=D(bR(a6.lang));if(a6.monthNames&&(bB._months=a6.monthNames),a6.monthNamesShort&&(bB._monthsShort=a6.monthNamesShort),a6.dayNames&&(bB._weekdays=a6.dayNames),a6.dayNamesShort&&(bB._weekdaysShort=a6.dayNamesShort),null!=a6.firstDay){var bM=D(bB._week);bM.dow=a6.firstDay,bB._week=bM}aP.defaultAllDayEventDuration=bl.duration(a6.defaultAllDayEventDuration),aP.defaultTimedEventDuration=bl.duration(a6.defaultTimedEventDuration),aP.moment=function(){var b3;return"local"===a6.timezone?(b3=bv.moment.apply(null,arguments),b3.hasTime()&&b3.local()):b3="UTC"===a6.timezone?bv.moment.utc.apply(null,arguments):bv.moment.parseZone.apply(null,arguments),"_locale" in b3?b3._locale=bB:b3._lang=bB,b3},aP.getIsAmbigTimezone=function(){return"local"!==a6.timezone&&"UTC"!==a6.timezone},aP.rezoneDate=function(b3){return aP.moment(b3.toArray())},aP.getNow=function(){var b3=a6.now;return"function"==typeof b3&&(b3=b3()),aP.moment(b3)},aP.calculateWeekNumber=function(b3){var b4=a6.weekNumberCalculation;return"function"==typeof b4?b4(b3):"local"===b4?b3.week():"ISO"===b4.toUpperCase()?b3.isoWeek():void 0},aP.getEventEnd=function(b3){return b3.end?b3.end.clone():aP.getDefaultEventEnd(b3.allDay,b3.start)},aP.getDefaultEventEnd=function(b3,b5){var b4=b5.clone();return b3?b4.stripTime().add(aP.defaultAllDayEventDuration):b4.add(aP.defaultTimedEventDuration),aP.getIsAmbigTimezone()&&b4.stripZone(),b4},W.call(aP,a6);var aQ,aG,aU,aM,aO,a3,aC,a1,aS=aP.isFetchNeeded,a9=aP.fetchEvents,aR=cR[0],aX={},aV=0,aW=[];a1=null!=a6.defaultDate?aP.moment(a6.defaultDate):aP.getNow(),aP.getSuggestedViewHeight=function(){return void 0===a3&&aJ(),a3},aP.isHeightAuto=function(){return"auto"===a6.contentHeight||"auto"===a6.height}}function O(ak,ag){function aE(){var aF=ag.header;return aB=ag.theme?"ui":"fc",aF?aC=bS("<div class='fc-toolbar'/>").append(aa("left")).append(aa("right")).append(aa("center")).append('<div class="fc-clear"/>'):void 0}function aA(){aC.remove()}function aa(aF){var aG=bS('<div class="fc-'+aF+'"/>'),aH=ag.header[aF];return aH&&bS.each(aH.split(" "),function(){var aK,aJ=bS(),aI=!0;bS.each(this.split(","),function(aV,aN){var aL,aQ,aO,aS,aR,aU,aT,aM,aP;"title"==aN?(aJ=aJ.add(bS("<h2>&nbsp;</h2>")),aI=!1):(ak[aN]?aL=function(){ak[aN]()}:ak.isValidViewType(aN)&&(aL=function(){ak.changeView(aN)},ai.push(aN),aR=ak.getViewButtonText(aN)),aL&&(aQ=B(ag.themeButtonIcons,aN),aO=B(ag.buttonIcons,aN),aS=B(ag.defaultButtonText,aN),aU=B(ag.buttonText,aN),aT=aR||aU?H(aR||aU):aQ&&ag.theme?"<span class='ui-icon ui-icon-"+aQ+"'></span>":aO&&!ag.theme?"<span class='fc-icon fc-icon-"+aO+"'></span>":H(aS||aN),aM=["fc-"+aN+"-button",aB+"-button",aB+"-state-default"],aP=bS('<button type="button" class="'+aM.join(" ")+'">'+aT+"</button>").click(function(){aP.hasClass(aB+"-state-disabled")||(aL(),(aP.hasClass(aB+"-state-active")||aP.hasClass(aB+"-state-disabled"))&&aP.removeClass(aB+"-state-hover"))}).mousedown(function(){aP.not("."+aB+"-state-active").not("."+aB+"-state-disabled").addClass(aB+"-state-down")}).mouseup(function(){aP.removeClass(aB+"-state-down")}).hover(function(){aP.not("."+aB+"-state-active").not("."+aB+"-state-disabled").addClass(aB+"-state-hover")},function(){aP.removeClass(aB+"-state-hover").removeClass(aB+"-state-down")}),aJ=aJ.add(aP)))}),aI&&aJ.first().addClass(aB+"-corner-left").end().last().addClass(aB+"-corner-right").end(),aJ.length>1?(aK=bS("<div/>"),aI&&aK.addClass("fc-button-group"),aK.append(aJ),aG.append(aK)):aG.append(aJ)}),aG}function ah(aF){aC.find("h2").text(aF)}function ac(aF){aC.find(".fc-"+aF+"-button").addClass(aB+"-state-active")}function ad(aF){aC.find(".fc-"+aF+"-button").removeClass(aB+"-state-active")}function ab(aF){aC.find(".fc-"+aF+"-button").attr("disabled","disabled").addClass(aB+"-state-disabled")}function aj(aF){aC.find(".fc-"+aF+"-button").removeAttr("disabled").removeClass(aB+"-state-disabled")}function af(){return ai}var aD=this;aD.render=aE,aD.destroy=aA,aD.updateTitle=ah,aD.activateButton=ac,aD.deactivateButton=ad,aD.disableButton=ab,aD.enableButton=aj,aD.getViewsWithButtons=af;var aB,aC=bS(),ai=[]}function W(aU){function aQ(bB,bA){return !aC||bB.clone().stripZone()<aC.clone().stripZone()||bA.clone().stripZone()>a8.clone().stripZone()}function aY(bA,bD){aC=bA,a8=bD,ac=[];var bC=++af,bB=ak.length;aX=bB;for(var bE=0;bB>bE;bE++){aZ(ak[bE],bC)}}function aZ(bB,bA){aV(bB,function(bF){var bD,bE,bC,bG=bS.isArray(bB.events);if(bA==af){if(bF){for(bD=0;bF.length>bD;bD++){bE=bF[bD],bC=bG?bE:aF(bE,bB),bC&&ac.push.apply(ac,aK(bC))}}aX--,aX||aR(ac)}})}function aV(bI,bC){var bK,b3,bE=bv.sourceFetchers;for(bK=0;bE.length>bK;bK++){if(b3=bE[bK].call(ai,bI,aC.clone(),a8.clone(),aU.timezone,bC),b3===!0){return}if("object"==typeof b3){return aV(b3,bC),void 0}}var bB=bI.events;if(bB){bS.isFunction(bB)?(a5(),bB.call(ai,aC.clone(),a8.clone(),aU.timezone,function(b5){bC(b5),a3()})):bS.isArray(bB)?bC(bB):bC()}else{var b4=bI.url;if(b4){var bF,bD=bI.success,bM=bI.error,bJ=bI.complete;bF=bS.isFunction(bI.data)?bI.data():bI.data;var bL=bS.extend({},bF||{}),bH=e(bI.startParam,aU.startParam),bG=e(bI.endParam,aU.endParam),bA=e(bI.timezoneParam,aU.timezoneParam);bH&&(bL[bH]=aC.format()),bG&&(bL[bG]=a8.format()),aU.timezone&&"local"!=aU.timezone&&(bL[bA]=aU.timezone),a5(),bS.ajax(bS.extend({},P,bI,{data:bL,success:function(b5){b5=b5||[];var b6=o(bD,this,arguments);bS.isArray(b6)&&(b5=b6),bC(b5)},error:function(){o(bM,this,arguments),bC()},complete:function(){o(bJ,this,arguments),a3()}}))}else{bC()}}}function aS(bB){var bA=aD(bB);bA&&(ak.push(bA),aX++,aZ(bA,af))}function aD(bD){var bC,bB,bA=bv.sourceNormalizers;if(bS.isFunction(bD)||bS.isArray(bD)?bC={events:bD}:"string"==typeof bD?bC={url:bD}:"object"==typeof bD&&(bC=bS.extend({},bD)),bC){for(bC.className?"string"==typeof bC.className&&(bC.className=bC.className.split(/\s+/)):bC.className=[],bS.isArray(bC.events)&&(bC.origArray=bC.events,bC.events=bS.map(bC.events,function(bE){return aF(bE,bC)})),bB=0;bA.length>bB;bB++){bA[bB].call(ai,bC)}return bC}}function a1(bA){ak=bS.grep(ak,function(bB){return !aJ(bB,bA)}),ac=bS.grep(ac,function(bB){return !aJ(bB.source,bA)}),aR(ac)}function aJ(bB,bA){return bB&&bA&&aH(bB)==aH(bA)}function aH(bA){return("object"==typeof bA?bA.origArray||bA.googleCalendarId||bA.url||bA.events:null)||bA}function aP(bA){bA.start=ai.moment(bA.start),bA.end=bA.end?ai.moment(bA.end):null,ad(bA,aL(bA)),aR(ac)}function aL(bB){var bA={};return bS.each(bB,function(bD,bC){aN(bD)&&void 0!==bC&&bt(bC)&&(bA[bD]=bC)}),bA}function aN(bA){return !/^_|^(id|allDay|start|end)$/.test(bA)}function aW(bA,bD){var bC,bB,bE,bF=aF(bA);if(bF){for(bC=aK(bF),bB=0;bC.length>bB;bB++){bE=bC[bB],bE.source||(bD&&(a6.events.push(bE),bE.source=a6),ac.push(bE))}return aR(ac),bC}return[]}function aT(bA){var bC,bB;for(null==bA?bA=function(){return !0}:bS.isFunction(bA)||(bC=bA+"",bA=function(bD){return bD._id==bC}),ac=bS.grep(ac,bA,!0),bB=0;ak.length>bB;bB++){bS.isArray(ak[bB].events)&&(ak[bB].events=bS.grep(ak[bB].events,bA,!0))}aR(ac)}function a2(bA){return bS.isFunction(bA)?bS.grep(ac,bA):null!=bA?(bA+="",bS.grep(ac,function(bB){return bB._id==bA})):ac}function a5(){aO++||aM("loading",null,!0,ah())}function a3(){--aO||aM("loading",null,!1,ah())}function aF(bE,bC){var bD,bB,bF,bA={};if(aU.eventDataTransform&&(bE=aU.eventDataTransform(bE)),bC&&bC.eventDataTransform&&(bE=bC.eventDataTransform(bE)),bS.extend(bA,bE),bC&&(bA.source=bC),bA._id=bE._id||(void 0===bE.id?"_fc"+K++:bE.id+""),bA.className=bE.className?"string"==typeof bE.className?bE.className.split(/\s+/):bE.className:[],bD=bE.start||bE.date,bB=bE.end,z(bD)&&(bD=bl.duration(bD)),z(bB)&&(bB=bl.duration(bB)),bE.dow||bl.isDuration(bD)||bl.isDuration(bB)){bA.start=bD?bl.duration(bD):null,bA.end=bB?bl.duration(bB):null,bA._recurring=!0}else{if(bD&&(bD=ai.moment(bD),!bD.isValid())){return !1}bB&&(bB=ai.moment(bB),bB.isValid()||(bB=null)),bF=bE.allDay,void 0===bF&&(bF=e(bC?bC.allDayDefault:void 0,aU.allDayDefault)),aG(bD,bB,bF,bA)}return bA}function aG(bA,bD,bC,bB){bB.start=bA,bB.end=bD,bB.allDay=bC,aE(bB),ao(bB)}function aE(bA){null==bA.allDay&&(bA.allDay=!(bA.start.hasTime()||bA.end&&bA.end.hasTime())),bA.allDay?(bA.start.stripTime(),bA.end&&bA.end.stripTime()):(bA.start.hasTime()||(bA.start=ai.rezoneDate(bA.start)),bA.end&&!bA.end.hasTime()&&(bA.end=ai.rezoneDate(bA.end))),bA.end&&!bA.end.isAfter(bA.start)&&(bA.end=null),bA.end||(bA.end=aU.forceEventDuration?ai.getDefaultEventEnd(bA.allDay,bA.start):null)}function a4(bB){var bA;return bB.end||(bA=bB.allDay,null==bA&&(bA=!bB.start.hasTime()),bB={start:bB.start,end:ai.getDefaultEventEnd(bA,bB.start)}),bB}function aK(bL,bF,bC){var bJ,bB,bG,bE,bH,bD,bK,bI,bA,bM=[];if(bF=bF||aC,bC=bC||a8,bL){if(bL._recurring){if(bB=bL.dow){for(bJ={},bG=0;bB.length>bG;bG++){bJ[bB[bG]]=!0}}for(bE=bF.clone().stripTime();bE.isBefore(bC);){(!bJ||bJ[bE.day()])&&(bH=bL.start,bD=bL.end,bK=bE.clone(),bI=null,bH&&(bK=bK.time(bH)),bD&&(bI=bE.clone().time(bD)),bA=bS.extend({},bL),aG(bK,bI,!bH&&!bD,bA),bM.push(bA)),bE.add(1,"days")}}else{bM.push(bL)}}return bM}function ad(bE,bC){var bA,bF,bG,bD,bB={};return bC=bC||{},bC.start||(bC.start=bE.start.clone()),void 0===bC.end&&(bC.end=bE.end?bE.end.clone():null),null==bC.allDay&&(bC.allDay=bE.allDay),aE(bC),bA=null!==bE._end&&null===bC.end,bF=bC.allDay?x(bC.start,bE._start):d(bC.start,bE._start),!bA&&bC.end&&(bG=d(bC.end,bC.start).subtract(d(bE._end||ai.getDefaultEventEnd(bE._allDay,bE._start),bE._start))),bS.each(bC,function(bI,bH){aN(bI)&&void 0!==bH&&(bB[bI]=bH)}),bD=aj(a2(bE._id),bA,bC.allDay,bF,bG,bB),{dateDelta:bF,durationDelta:bG,undo:bD}}function aj(bD,bB,bG,bE,bF,bC){var bH=ai.getIsAmbigTimezone(),bA=[];return bE&&!bE.valueOf()&&(bE=null),bF&&!bF.valueOf()&&(bF=null),bS.each(bD,function(bK,bJ){var bI,bL;bI={start:bJ.start.clone(),end:bJ.end?bJ.end.clone():null,allDay:bJ.allDay},bS.each(bC,function(bM){bI[bM]=bJ[bM]}),bL={start:bJ._start,end:bJ._end,allDay:bJ._allDay},bB&&(bL.end=null),bL.allDay=bG,aE(bL),bE&&(bL.start.add(bE),bL.end&&bL.end.add(bE)),bF&&(bL.end||(bL.end=ai.getDefaultEventEnd(bL.allDay,bL.start)),bL.end.add(bF)),bH&&!bL.allDay&&(bE||bF)&&(bL.start.stripZone(),bL.end&&bL.end.stripZone()),bS.extend(bJ,bC,bL),ao(bJ),bA.push(function(){bS.extend(bJ,bI),ao(bJ)})}),function(){for(var bI=0;bA.length>bI;bI++){bA[bI]()}}}function aa(){var bC,bB=aU.businessHours,bD={className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"},bA=ai.getView();return bB&&(bC="object"==typeof bB?bS.extend({},bD,bB):bD),bC?aK(aF(bC),bA.start,bA.end):[]}function ab(bA,bC){var bB=bC.source||{},bD=e(bC.constraint,bB.constraint,aU.eventConstraint),bE=e(bC.overlap,bB.overlap,aU.eventOverlap);return bA=a4(bA),aI(bA,bD,bE,bC)}function ag(bA){return aI(bA,aU.selectConstraint,aU.selectOverlap)}function aB(bD,bC){var bB,bA;return bC&&(bB=bS.extend({},bC,bD),bA=aK(aF(bB))[0]),bA?ab(bD,bA):(bD=a4(bD),ag(bD))}function aI(bB,bD,bG,bE){var bI,bA,bH,bF,bC;if(bB={start:bB.start.clone().stripZone(),end:bB.end.clone().stripZone()},null!=bD){for(bI=aA(bD),bA=!1,bH=0;bI.length>bH;bH++){if(a9(bI[bH],bB)){bA=!0;break}}if(!bA){return !1}}for(bH=0;ac.length>bH;bH++){if(bF=ac[bH],(!bE||bE._id!==bF._id)&&a7(bF,bB)){if(bG===!1){return !1}if("function"==typeof bG&&!bG(bF,bE)){return !1}if(bE){if(bC=e(bF.overlap,(bF.source||{}).overlap),bC===!1){return !1}if("function"==typeof bC&&!bC(bE,bF)){return !1}}}}return !0}function aA(bA){return"businessHours"===bA?aa():"object"==typeof bA?aK(aF(bA)):a2(bA)}function a9(bA,bD){var bC=bA.start.clone().stripZone(),bB=ai.getEventEnd(bA).stripZone();return bD.start>=bC&&bB>=bD.end}function a7(bA,bD){var bC=bA.start.clone().stripZone(),bB=ai.getEventEnd(bA).stripZone();return bB>bD.start&&bD.end>bC}var ai=this;ai.isFetchNeeded=aQ,ai.fetchEvents=aY,ai.addEventSource=aS,ai.removeEventSource=a1,ai.updateEvent=aP,ai.renderEvent=aW,ai.removeEvents=aT,ai.clientEvents=a2,ai.mutateEvent=ad,ai.normalizeEventDateProps=aE,ai.ensureVisibleEventRange=a4;var aC,a8,aM=ai.trigger,ah=ai.getView,aR=ai.reportEvents,a6={events:[]},ak=[a6],af=0,aX=0,aO=0,ac=[];bS.each((aU.events?[aU.events]:[]).concat(aU.eventSources||[]),function(bB,bA){var bC=aD(bA);bC&&ak.push(bC)}),ai.getBusinessHoursEvents=aa,ai.isEventRangeAllowed=ab,ai.isSelectionRangeAllowed=ag,ai.isExternalDropRangeAllowed=aB}function ao(aa){aa._allDay=aa.allDay,aa._start=aa.start.clone(),aa._end=aa.end?aa.end.clone():null}var U={titleRangeSeparator:" — ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,defaultButtonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:0.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:200},C={dayPopoverFormat:"dddd, MMMM D"},y={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}},bv=bS.fullCalendar={version:"2.2.5"},p=bv.views={};bS.fn.fullCalendar=function(aa){var ac=Array.prototype.slice.call(arguments,1),ab=this;return this.each(function(af,ag){var ad,ah=bS(ag),ai=ah.data("fullCalendar");"string"==typeof aa?ai&&bS.isFunction(ai[aa])&&(ad=ai[aa].apply(ai,ac),af||(ab=ad),"destroy"===aa&&ah.removeData("fullCalendar")):ai||(ai=new aq(ah,aa),ah.data("fullCalendar",ai),ai.render())}),ab};var T=bv.langs={};bv.datepickerLang=function(ad,ac,ab){var aa=T[ad]||(T[ad]={});aa.isRTL=ab.isRTL,aa.weekNumberTitle=ab.weekHeader,bS.each(E,function(ag,af){aa[ag]=af(ab)}),bS.datepicker&&(bS.datepicker.regional[ac]=bS.datepicker.regional[ad]=ab,bS.datepicker.regional.en=bS.datepicker.regional[""],bS.datepicker.setDefaults(ab))},bv.lang=function(aa,ac){var ab,ad;ab=T[aa]||(T[aa]={}),ac&&br(ab,ac),ad=bR(aa),bS.each(an,function(ag,af){void 0===ab[ag]&&(ab[ag]=af(ad,ab))}),U.lang=aa};var E={defaultButtonText:function(aa){return{prev:n(aa.prevText),next:n(aa.nextText),today:n(aa.currentText)}},monthYearFormat:function(aa){return aa.showMonthAfterYear?"YYYY["+aa.yearSuffix+"] MMMM":"MMMM YYYY["+aa.yearSuffix+"]"}},an={dayOfMonthFormat:function(ab,aa){var ac=ab.longDateFormat("l");return ac=ac.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),aa.isRTL?ac+=" ddd":ac="ddd "+ac,ac},smallTimeFormat:function(aa){return aa.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(aa){return aa.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},noMeridiemTimeFormat:function(aa){return aa.longDateFormat("LT").replace(/\s*a$/i,"")}};bv.lang("en",C),bv.intersectionToSeg=F,bv.applyAll=o,bv.debounce=f;var al,aw,G,au=["sun","mon","tue","wed","thu","fri","sat"],az=["year","month","week","day","hour","minute","second","millisecond"],ap={}.hasOwnProperty,bh=/^\s*\d{4}-\d\d$/,b0=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,ba=bl.fn,L=bS.extend({},ba);bv.moment=function(){return bb(arguments)},bv.moment.utc=function(){var aa=bb(arguments,!0);return aa.hasTime()&&aa.utc(),aa},bv.moment.parseZone=function(){return bb(arguments,!0,!0)},ba.clone=function(){var aa=L.clone.apply(this,arguments);return bY(this,aa),this._fullCalendar&&(aa._fullCalendar=!0),aa},ba.time=function(ab){if(!this._fullCalendar){return L.time.apply(this,arguments)}if(null==ab){return bl.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()})}this._ambigTime=!1,bl.isDuration(ab)||bl.isMoment(ab)||(ab=bl.duration(ab));var aa=0;return bl.isDuration(ab)&&(aa=24*Math.floor(ab.asDays())),this.hours(aa+ab.hours()).minutes(ab.minutes()).seconds(ab.seconds()).milliseconds(ab.milliseconds())},ba.stripTime=function(){var aa;return this._ambigTime||(aa=this.toArray(),this.utc(),aw(this,aa.slice(0,3)),this._ambigTime=!0,this._ambigZone=!0),this},ba.hasTime=function(){return !this._ambigTime},ba.stripZone=function(){var ab,aa;return this._ambigZone||(ab=this.toArray(),aa=this._ambigTime,this.utc(),aw(this,ab),aa&&(this._ambigTime=!0),this._ambigZone=!0),this},ba.hasZone=function(){return !this._ambigZone},ba.zone=function(aa){return null!=aa&&(this._ambigTime=!1,this._ambigZone=!1),L.zone.apply(this,arguments)},ba.local=function(){var ab=this.toArray(),aa=this._ambigZone;return L.local.apply(this,arguments),aa&&G(this,ab),this},ba.format=function(){return this._fullCalendar&&arguments[0]?bZ(this,arguments[0]):this._ambigTime?bd(this,"YYYY-MM-DD"):this._ambigZone?bd(this,"YYYY-MM-DD[T]HH:mm:ss"):L.format.apply(this,arguments)},ba.toISOString=function(){return this._ambigTime?bd(this,"YYYY-MM-DD"):this._ambigZone?bd(this,"YYYY-MM-DD[T]HH:mm:ss"):L.toISOString.apply(this,arguments)},ba.isWithin=function(ab,aa){var ac=r([this,ab,aa]);return ac[0]>=ac[1]&&ac[0]<ac[2]},ba.isSame=function(ab,aa){var ac;return this._fullCalendar?aa?(ac=r([this,ab],!0),L.isSame.call(ac[0],ac[1],aa)):(ab=bv.moment.parseZone(ab),L.isSame.call(this,ab)&&Boolean(this._ambigTime)===Boolean(ab._ambigTime)&&Boolean(this._ambigZone)===Boolean(ab._ambigZone)):L.isSame.apply(this,arguments)},bS.each(["isBefore","isAfter"],function(ab,aa){ba[aa]=function(ad,ac){var af;return this._fullCalendar?(af=r([this,ad]),L[aa].call(af[0],af[1],ac)):L[aa].apply(this,arguments)}}),al="_d" in bl()&&"updateOffset" in bl,aw=al?function(ab,aa){ab._d.setTime(Date.UTC.apply(Date,aa)),bl.updateOffset(ab,!1)}:t,G=al?function(ab,aa){ab._d.setTime(+new Date(aa[0]||0,aa[1]||0,aa[2]||0,aa[3]||0,aa[4]||0,aa[5]||0,aa[6]||0)),bl.updateOffset(ab,!1)}:t;var N={t:function(aa){return bd(aa,"a").charAt(0)},T:function(aa){return bd(aa,"A").charAt(0)}};bv.formatRange=bs;var ae={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},be={};bv.Class=m,m.extend=function(ab){var aa,ac=this;return ab=ab||{},w(ab,"constructor")&&(aa=ab.constructor),"function"!=typeof aa&&(aa=ab.constructor=function(){ac.apply(this,arguments)}),aa.prototype=D(ac.prototype),h(ab,aa.prototype),h(ac,aa),aa},m.mixin=function(aa){h(aa.prototype||aa,this.prototype)};var bg=m.extend({isHidden:!0,options:null,el:null,documentMousedownProxy:null,margin:10,constructor:function(aa){this.options=aa||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var ab=this,aa=this.options;this.el=bS('<div class="fc-popover"/>').addClass(aa.className||"").css({top:0,left:0}).append(aa.content).appendTo(aa.parentEl),this.el.on("click",".fc-close",function(){ab.hide()}),aa.autoHide&&bS(document).on("mousedown",this.documentMousedownProxy=bS.proxy(this,"documentMousedown"))},documentMousedown:function(aa){this.el&&!bS(aa.target).closest(this.el).length&&this.hide()},destroy:function(){this.hide(),this.el&&(this.el.remove(),this.el=null),bS(document).off("mousedown",this.documentMousedownProxy)},position:function(){var ad,ah,af,aj,ak,ai=this.options,ag=this.el.offsetParent().offset(),aa=this.el.outerWidth(),aA=this.el.outerHeight(),ac=bS(window),ab=bN(this.el);aj=ai.top||0,ak=void 0!==ai.left?ai.left:void 0!==ai.right?ai.right-aa:0,ab.is(window)||ab.is(document)?(ab=ac,ad=0,ah=0):(af=ab.offset(),ad=af.top,ah=af.left),ad+=ac.scrollTop(),ah+=ac.scrollLeft(),ai.viewportConstrain!==!1&&(aj=Math.min(aj,ad+ab.outerHeight()-aA-this.margin),aj=Math.max(aj,ad+this.margin),ak=Math.min(ak,ah+ab.outerWidth()-aa-this.margin),ak=Math.max(ak,ah+this.margin)),this.el.css({top:aj-ag.top,left:ak-ag.left})},trigger:function(aa){this.options[aa]&&this.options[aa].apply(this,Array.prototype.slice.call(arguments,1))}}),at=m.extend({grid:null,rowCoords:null,colCoords:null,containerEl:null,minX:null,maxX:null,minY:null,maxY:null,constructor:function(aa){this.grid=aa},build:function(){this.rowCoords=this.grid.computeRowCoords(),this.colCoords=this.grid.computeColCoords(),this.computeBounds()},clear:function(){this.rowCoords=null,this.colCoords=null},getCell:function(ab,ad){var ah,af,aj,aa=this.rowCoords,ai=this.colCoords,ag=null,ac=null;if(this.inBounds(ab,ad)){for(ah=0;aa.length>ah;ah++){if(af=aa[ah],ad>=af.top&&af.bottom>ad){ag=ah;break}}for(ah=0;ai.length>ah;ah++){if(af=ai[ah],ab>=af.left&&af.right>ab){ac=ah;break}}if(null!==ag&&null!==ac){return aj=this.grid.getCell(ag,ac),aj.grid=this.grid,aj}}return null},computeBounds:function(){var aa;this.containerEl&&(aa=this.containerEl.offset(),this.minX=aa.left,this.maxX=aa.left+this.containerEl.outerWidth(),this.minY=aa.top,this.maxY=aa.top+this.containerEl.outerHeight())},inBounds:function(ab,aa){return this.containerEl?ab>=this.minX&&this.maxX>ab&&aa>=this.minY&&this.maxY>aa:!0}}),R=m.extend({coordMaps:null,constructor:function(aa){this.coordMaps=aa},build:function(){var ab,aa=this.coordMaps;for(ab=0;aa.length>ab;ab++){aa[ab].build()}},getCell:function(aa,ad){var ac,ab=this.coordMaps,af=null;for(ac=0;ab.length>ac&&!af;ac++){af=ab[ac].getCell(aa,ad)}return af},clear:function(){var ab,aa=this.coordMaps;for(ab=0;aa.length>ab;ab++){aa[ab].clear()}}}),i=m.extend({coordMap:null,options:null,isListening:!1,isDragging:!1,origCell:null,cell:null,mouseX0:null,mouseY0:null,mousemoveProxy:null,mouseupProxy:null,scrollEl:null,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollHandlerProxy:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,constructor:function(ab,aa){this.coordMap=ab,this.options=aa||{}},mousedown:function(aa){A(aa)&&(aa.preventDefault(),this.startListening(aa),this.options.distance||this.startDrag(aa))},startListening:function(aa){var ac,ab;this.isListening||(aa&&this.options.scroll&&(ac=bN(bS(aa.target)),ac.is(window)||ac.is(document)||(this.scrollEl=ac,this.scrollHandlerProxy=f(bS.proxy(this,"scrollHandler"),100),this.scrollEl.on("scroll",this.scrollHandlerProxy))),this.computeCoords(),aa&&(ab=this.getCell(aa),this.origCell=ab,this.mouseX0=aa.pageX,this.mouseY0=aa.pageY),bS(document).on("mousemove",this.mousemoveProxy=bS.proxy(this,"mousemove")).on("mouseup",this.mouseupProxy=bS.proxy(this,"mouseup")).on("selectstart",this.preventDefault),this.isListening=!0,this.trigger("listenStart",aa))},computeCoords:function(){this.coordMap.build(),this.computeScrollBounds()},mousemove:function(ab){var aa,ac;this.isDragging||(aa=this.options.distance||1,ac=Math.pow(ab.pageX-this.mouseX0,2)+Math.pow(ab.pageY-this.mouseY0,2),ac>=aa*aa&&this.startDrag(ab)),this.isDragging&&this.drag(ab)},startDrag:function(ab){var aa;this.isListening||this.startListening(),this.isDragging||(this.isDragging=!0,this.trigger("dragStart",ab),aa=this.getCell(ab),aa&&this.cellOver(aa))},drag:function(ab){var aa;this.isDragging&&(aa=this.getCell(ab),v(aa,this.cell)||(this.cell&&this.cellOut(),aa&&this.cellOver(aa)),this.dragScroll(ab))},cellOver:function(aa){this.cell=aa,this.trigger("cellOver",aa,v(aa,this.origCell))},cellOut:function(){this.cell&&(this.trigger("cellOut",this.cell),this.cell=null)},mouseup:function(aa){this.stopDrag(aa),this.stopListening(aa)},stopDrag:function(aa){this.isDragging&&(this.stopScrolling(),this.trigger("dragStop",aa),this.isDragging=!1)},stopListening:function(aa){this.isListening&&(this.scrollEl&&(this.scrollEl.off("scroll",this.scrollHandlerProxy),this.scrollHandlerProxy=null),bS(document).off("mousemove",this.mousemoveProxy).off("mouseup",this.mouseupProxy).off("selectstart",this.preventDefault),this.mousemoveProxy=null,this.mouseupProxy=null,this.isListening=!1,this.trigger("listenStop",aa),this.origCell=this.cell=null,this.coordMap.clear())},getCell:function(aa){return this.coordMap.getCell(aa.pageX,aa.pageY)},trigger:function(aa){this.options[aa]&&this.options[aa].apply(this,Array.prototype.slice.call(arguments,1))},preventDefault:function(aa){aa.preventDefault()},computeScrollBounds:function(){var ab,aa=this.scrollEl;aa&&(ab=aa.offset(),this.scrollBounds={top:ab.top,left:ab.left,bottom:ab.top+aa.outerHeight(),right:ab.left+aa.outerWidth()})},dragScroll:function(ab){var ad,ah,af,aj,aa=this.scrollSensitivity,ai=this.scrollBounds,ag=0,ac=0;ai&&(ad=(aa-(ab.pageY-ai.top))/aa,ah=(aa-(ai.bottom-ab.pageY))/aa,af=(aa-(ab.pageX-ai.left))/aa,aj=(aa-(ai.right-ab.pageX))/aa,ad>=0&&1>=ad?ag=-1*ad*this.scrollSpeed:ah>=0&&1>=ah&&(ag=ah*this.scrollSpeed),af>=0&&1>=af?ac=-1*af*this.scrollSpeed:aj>=0&&1>=aj&&(ac=aj*this.scrollSpeed)),this.setScrollVel(ag,ac)},setScrollVel:function(ab,aa){this.scrollTopVel=ab,this.scrollLeftVel=aa,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(bS.proxy(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var aa=this.scrollEl;0>this.scrollTopVel?0>=aa.scrollTop()&&(this.scrollTopVel=0):this.scrollTopVel>0&&aa.scrollTop()+aa[0].clientHeight>=aa[0].scrollHeight&&(this.scrollTopVel=0),0>this.scrollLeftVel?0>=aa.scrollLeft()&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&aa.scrollLeft()+aa[0].clientWidth>=aa[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var ab=this.scrollEl,aa=this.scrollIntervalMs/1000;this.scrollTopVel&&ab.scrollTop(ab.scrollTop()+this.scrollTopVel*aa),this.scrollLeftVel&&ab.scrollLeft(ab.scrollLeft()+this.scrollLeftVel*aa),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.stopScrolling()},stopScrolling:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.computeCoords())},scrollHandler:function(){this.scrollIntervalId||this.computeCoords()}}),I=m.extend({options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,mouseY0:null,mouseX0:null,topDelta:null,leftDelta:null,mousemoveProxy:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(ab,aa){this.options=aa=aa||{},this.sourceEl=ab,this.parentEl=aa.parentEl?bS(aa.parentEl):ab.parent()},start:function(aa){this.isFollowing||(this.isFollowing=!0,this.mouseY0=aa.pageY,this.mouseX0=aa.pageX,this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),bS(document).on("mousemove",this.mousemoveProxy=bS.proxy(this,"mousemove")))},stop:function(ad,ac){function ab(){this.isAnimating=!1,af.destroyEl(),this.top0=this.left0=null,ac&&ac()}var af=this,aa=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,bS(document).off("mousemove",this.mousemoveProxy),ad&&aa&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:aa,complete:ab})):ab())},getEl:function(){var aa=this.el;return aa||(this.sourceEl.width(),aa=this.el=this.sourceEl.clone().css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}).appendTo(this.parentEl)),aa},destroyEl:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var ab,aa;this.getEl(),null===this.top0&&(this.sourceEl.width(),ab=this.sourceEl.offset(),aa=this.el.offsetParent().offset(),this.top0=ab.top-aa.top,this.left0=ab.left-aa.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},mousemove:function(aa){this.topDelta=aa.pageY-this.mouseY0,this.leftDelta=aa.pageX-this.mouseX0,this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),V=m.extend({view:null,isRTL:null,cellHtml:"<td/>",constructor:function(aa){this.view=aa,this.isRTL=aa.opt("isRTL")},rowHtml:function(aa,ad){var ac,ab,af=this.getHtmlRenderer("cell",aa),ag="";for(ad=ad||0,ac=0;this.colCnt>ac;ac++){ab=this.getCell(ad,ac),ag+=af(ab)}return ag=this.bookendCells(ag,aa,ad),"<tr>"+ag+"</tr>"},bookendCells:function(aa,af,ac){var ab=this.getHtmlRenderer("intro",af)(ac||0),ag=this.getHtmlRenderer("outro",af)(ac||0),ah=this.isRTL?ag:ab,ad=this.isRTL?ab:ag;return"string"==typeof aa?ah+aa+ad:aa.prepend(ah).append(ad)},getHtmlRenderer:function(aa,af){var ac,ab,ag,ah,ad=this.view;return ac=aa+"Html",af&&(ab=af+u(aa)+"Html"),ab&&(ah=ad[ab])?ag=ad:ab&&(ah=this[ab])?ag=this:(ah=ad[ac])?ag=ad:(ah=this[ac])&&(ag=this),"function"==typeof ah?function(){return ah.apply(ag,arguments)||""}:function(){return ah||""}}}),Z=bv.Grid=V.extend({start:null,end:null,rowCnt:0,colCnt:0,rowData:null,colData:null,el:null,coordMap:null,elsByFill:null,documentDragStartProxy:null,colHeadFormat:null,eventTimeFormat:null,displayEventEnd:null,constructor:function(){V.apply(this,arguments),this.coordMap=new at(this),this.elsByFill={},this.documentDragStartProxy=bS.proxy(this,"documentDragStart")},render:function(){this.bindHandlers()},destroy:function(){this.unbindHandlers()},computeColHeadFormat:function(){},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventEnd:function(){return !1},setRange:function(ab){var aa=this.view;this.start=ab.start.clone(),this.end=ab.end.clone(),this.rowData=[],this.colData=[],this.updateCells(),this.colHeadFormat=aa.opt("columnFormat")||this.computeColHeadFormat(),this.eventTimeFormat=aa.opt("timeFormat")||this.computeEventTimeFormat(),this.displayEventEnd=aa.opt("displayEventEnd"),null==this.displayEventEnd&&(this.displayEventEnd=this.computeDisplayEventEnd())},updateCells:function(){},rangeToSegs:function(){},getCell:function(aa,ac){var ab;return null==ac&&("number"==typeof aa?(ac=aa%this.colCnt,aa=Math.floor(aa/this.colCnt)):(ac=aa.col,aa=aa.row)),ab={row:aa,col:ac},bS.extend(ab,this.getRowData(aa),this.getColData(ac)),bS.extend(ab,this.computeCellRange(ab)),ab},computeCellRange:function(){},getRowData:function(aa){return this.rowData[aa]||{}},getColData:function(aa){return this.colData[aa]||{}},getRowEl:function(){},getColEl:function(){},getCellDayEl:function(aa){return this.getColEl(aa.col)||this.getRowEl(aa.row)},computeRowCoords:function(){var aa,ad,ac,ab=[];for(aa=0;this.rowCnt>aa;aa++){ad=this.getRowEl(aa),ac={top:ad.offset().top},aa>0&&(ab[aa-1].bottom=ac.top),ab.push(ac)}return ac.bottom=ac.top+ad.outerHeight(),ab},computeColCoords:function(){var aa,ad,ac,ab=[];for(aa=0;this.colCnt>aa;aa++){ad=this.getColEl(aa),ac={left:ad.offset().left},aa>0&&(ab[aa-1].right=ac.left),ab.push(ac)}return ac.right=ac.left+ad.outerWidth(),ab},bindHandlers:function(){var aa=this;this.el.on("mousedown",function(ab){bS(ab.target).is(".fc-event-container *, .fc-more")||bS(ab.target).closest(".fc-popover").length||aa.dayMousedown(ab)}),this.bindSegHandlers(),bS(document).on("dragstart",this.documentDragStartProxy)},unbindHandlers:function(){bS(document).off("dragstart",this.documentDragStartProxy)},dayMousedown:function(aa){var af,ac,ab=this,ag=this.view,ah=ag.opt("selectable"),ad=new i(this.coordMap,{scroll:ag.opt("dragScroll"),dragStart:function(){ag.unselect()},cellOver:function(aj,ai){var ak=ad.origCell;ak&&(af=ai?aj:null,ah&&(ac=ab.computeSelection(ak,aj),ac?ab.renderSelection(ac):b2()))},cellOut:function(){af=null,ac=null,ab.destroySelection(),bT()},listenStop:function(ai){af&&ag.trigger("dayClick",ab.getCellDayEl(af),af.start,ai),ac&&ag.reportSelection(ac,ai),bT()}});ad.mousedown(aa)},renderRangeHelper:function(ab,aa){var ac;ac=aa?D(aa.event):{},ac.start=ab.start.clone(),ac.end=ab.end?ab.end.clone():null,ac.allDay=null,this.view.calendar.normalizeEventDateProps(ac),ac.className=(ac.className||[]).concat("fc-helper"),aa||(ac.editable=!1),this.renderHelper(ac,aa)},renderHelper:function(){},destroyHelper:function(){},renderSelection:function(aa){this.renderHighlight(aa)},destroySelection:function(){this.destroyHighlight()},computeSelection:function(aa,ad){var ac,ab=[aa.start,aa.end,ad.start,ad.end];return ab.sort(bV),ac={start:ab[0].clone(),end:ab[3].clone()},this.view.calendar.isSelectionRangeAllowed(ac)?ac:null},renderHighlight:function(aa){this.renderFill("highlight",this.rangeToSegs(aa))},destroyHighlight:function(){this.destroyFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderFill:function(){},destroyFill:function(ab){var aa=this.elsByFill[ab];aa&&(aa.remove(),delete this.elsByFill[ab])},renderFillSegEls:function(af,ac){var aa,ag=this,ah=this[af+"SegEl"],ad="",ab=[];if(ac.length){for(aa=0;ac.length>aa;aa++){ad+=this.fillSegHtml(af,ac[aa])}bS(ad).each(function(aj,ak){var ai=ac[aj],aA=bS(ak);ah&&(aA=ah.call(ag,ai,aA)),aA&&(aA=bS(aA),aA.is(ag.fillSegTag)&&(ai.el=aA,ab.push(ai)))})}return ab},fillSegTag:"div",fillSegHtml:function(aa,ad){var ac=this[aa+"SegClasses"],ab=this[aa+"SegStyles"],af=ac?ac.call(this,ad):[],ag=ab?ab.call(this,ad):"";return"<"+this.fillSegTag+(af.length?' class="'+af.join(" ")+'"':"")+(ag?' style="'+ag+'"':"")+" />"},headHtml:function(){return'<div class="fc-row '+this.view.widgetHeaderClass+'"><table><thead>'+this.rowHtml("head")+"</thead></table></div>"},headCellHtml:function(ab){var aa=this.view,ac=ab.start;return'<th class="fc-day-header '+aa.widgetHeaderClass+" fc-"+au[ac.day()]+'">'+H(ac.format(this.colHeadFormat))+"</th>"},bgCellHtml:function(aa){var ad=this.view,ac=aa.start,ab=this.getDayClasses(ac);return ab.unshift("fc-day",ad.widgetContentClass),'<td class="'+ab.join(" ")+'" data-date="'+ac.format("YYYY-MM-DD")+'"></td>'},getDayClasses:function(aa){var ad=this.view,ac=ad.calendar.getNow().stripTime(),ab=["fc-"+au[aa.day()]];return"month"===ad.name&&aa.month()!=ad.intervalStart.month()&&ab.push("fc-other-month"),aa.isSame(ac,"day")?ab.push("fc-today",ad.highlightStateClass):ac>aa?ab.push("fc-past"):ab.push("fc-future"),ab}});Z.mixin({mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,segs:null,renderEvents:function(aa){var ad,ac,ab=this.eventsToSegs(aa),af=[],ag=[];for(ad=0;ab.length>ad;ad++){ac=ab[ad],l(ac.event)?af.push(ac):ag.push(ac)}af=this.renderBgSegs(af)||af,ag=this.renderFgSegs(ag)||ag,this.segs=af.concat(ag)},destroyEvents:function(){this.triggerSegMouseout(),this.destroyFgSegs(),this.destroyBgSegs(),this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(){},destroyFgSegs:function(){},renderFgSegEls:function(af,ac){var ab,ag=this.view,aa="",ad=[];if(af.length){for(ab=0;af.length>ab;ab++){aa+=this.fgSegHtml(af[ab],ac)}bS(aa).each(function(ah,aj){var ai=af[ah],ak=ag.resolveEventEl(ai.event,bS(aj));ak&&(ak.data("fc-seg",ai),ai.el=ak,ad.push(ai))})}return ad},fgSegHtml:function(){},renderBgSegs:function(aa){return this.renderFill("bgEvent",aa)},destroyBgSegs:function(){this.destroyFill("bgEvent")},bgEventSegEl:function(ab,aa){return this.view.resolveEventEl(ab.event,aa)},bgEventSegClasses:function(ab){var aa=ab.event,ac=aa.source||{};return["fc-bgevent"].concat(aa.className,ac.className||[])},bgEventSegStyles:function(ai){var af=this.view,ac=ai.event,aa=ac.source||{},ag=ac.color,ah=aa.color,ad=af.opt("eventColor"),ab=ac.backgroundColor||ag||aa.backgroundColor||ah||af.opt("eventBackgroundColor")||ad;return ab?"background-color:"+ab:""},businessHoursSegClasses:function(){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function(){var ab=this,aa=this.view;bS.each({mouseenter:function(ad,ac){ab.triggerSegMouseover(ad,ac)},mouseleave:function(ad,ac){ab.triggerSegMouseout(ad,ac)},click:function(ad,ac){return aa.trigger("eventClick",this,ad.event,ac)},mousedown:function(ad,ac){bS(ac.target).is(".fc-resizer")&&aa.isEventResizable(ad.event)?ab.segResizeMousedown(ad,ac):aa.isEventDraggable(ad.event)&&ab.segDragMousedown(ad,ac)}},function(ac,ad){ab.el.on(ac,".fc-event-container > *",function(af){var ag=bS(this).data("fc-seg");return !ag||ab.isDraggingSeg||ab.isResizingSeg?void 0:ad.call(this,ag,af)})})},triggerSegMouseover:function(ab,aa){this.mousedOverSeg||(this.mousedOverSeg=ab,this.view.trigger("eventMouseover",ab.el[0],ab.event,aa))},triggerSegMouseout:function(ab,aa){aa=aa||{},this.mousedOverSeg&&(ab=ab||this.mousedOverSeg,this.mousedOverSeg=null,this.view.trigger("eventMouseout",ab.el[0],ab.event,aa))},segDragMousedown:function(ab,ad){var ah,af=this,aj=this.view,aa=ab.el,ai=ab.event,ag=new I(ab.el,{parentEl:aj.el,opacity:aj.opt("dragOpacity"),revertDuration:aj.opt("dragRevertDuration"),zIndex:2}),ac=new i(aj.coordMap,{distance:5,scroll:aj.opt("dragScroll"),listenStart:function(ak){ag.hide(),ag.start(ak)},dragStart:function(ak){af.triggerSegMouseout(ab,ak),af.isDraggingSeg=!0,aj.hideEvent(ai),aj.trigger("eventDragStart",aa[0],ai,ak,{})},cellOver:function(ak,aA){var aB=ab.cell||ac.origCell;ah=af.computeEventDrop(aB,ak,ai),ah?(aj.renderDrag(ah,ab)?ag.hide():ag.show(),aA&&(ah=null)):(ag.show(),b2())},cellOut:function(){ah=null,aj.destroyDrag(),ag.show(),bT()},dragStop:function(ak){ag.stop(!ah,function(){af.isDraggingSeg=!1,aj.destroyDrag(),aj.showEvent(ai),aj.trigger("eventDragStop",aa[0],ai,ak,{}),ah&&aj.reportEventDrop(ai,ah,aa,ak)}),bT()},listenStop:function(){ag.stop()}});ac.mousedown(ad)},computeEventDrop:function(ab,af,ai){var ag,ak,aa,aj,ah,ad=ab.start,ac=af.start;return ad.hasTime()===ac.hasTime()?(ag=d(ac,ad),ak=ai.start.clone().add(ag),aa=null===ai.end?null:ai.end.clone().add(ag),aj=ai.allDay):(ak=ac.clone(),aa=null,aj=!ac.hasTime()),ah={start:ak,end:aa,allDay:aj},this.view.calendar.isEventRangeAllowed(ah,ai)?ah:null},documentDragStart:function(ad,ac){var ab,af,aa=this.view;aa.opt("droppable")&&(ab=bS(ad.target),af=aa.opt("dropAccept"),(bS.isFunction(af)?af.call(ab[0],ab):ab.is(af))&&this.startExternalDrag(ab,ad,ac))},startExternalDrag:function(af,ac){var ab,ag,aa=this,ad=am(af);ab=new i(this.coordMap,{cellOver:function(ah){ag=aa.computeExternalDrop(ah,ad),ag?aa.renderDrag(ag):b2()},cellOut:function(){ag=null,aa.destroyDrag(),bT()}}),bS(document).one("dragstop",function(ai,ah){aa.destroyDrag(),bT(),ag&&aa.view.reportExternalDrop(ad,ag,af,ai,ah)}),ab.startDrag(ac)},computeExternalDrop:function(ab,aa){var ac={start:ab.start.clone(),end:null};return aa.startTime&&!ac.start.hasTime()&&ac.start.time(aa.startTime),aa.duration&&(ac.end=ac.start.clone().add(aa.duration)),this.view.calendar.isExternalDropRangeAllowed(ac,aa.eventProps)?ac:null},renderDrag:function(){},destroyDrag:function(){},segResizeMousedown:function(ak,aa){function ag(){aj.destroyEventResize(),ah.showEvent(aA),bT()}var ad,ai,aj=this,ah=this.view,af=ah.calendar,aB=ak.el,aA=ak.event,ac=aA.start,ab=af.getEventEnd(aA);ai=new i(this.coordMap,{distance:5,scroll:ah.opt("dragScroll"),dragStart:function(aC){aj.triggerSegMouseout(ak,aC),aj.isResizingSeg=!0,ah.trigger("eventResizeStart",aB[0],aA,aC,{})},cellOver:function(aC){ad=aC.end,ad.isAfter(ac)||(ad=ac.clone().add(d(aC.end,aC.start))),ad.isSame(ab)?ad=null:af.isEventRangeAllowed({start:ac,end:ad},aA)?(aj.renderEventResize({start:ac,end:ad},ak),ah.hideEvent(aA)):(ad=null,b2())},cellOut:function(){ad=null,ag()},dragStop:function(aC){aj.isResizingSeg=!1,ag(),ah.trigger("eventResizeStop",aB[0],aA,aC,{}),ad&&ah.reportEventResize(aA,ad,aB,aC)}}),ai.mousedown(aa)},renderEventResize:function(){},destroyEventResize:function(){},getEventTimeText:function(ab,aa){return aa=aa||this.eventTimeFormat,ab.end&&this.displayEventEnd?this.view.formatRange(ab,aa):ab.start.format(aa)},getSegClasses:function(aa,ad,ac){var ab=aa.event,af=["fc-event",aa.isStart?"fc-start":"fc-not-start",aa.isEnd?"fc-end":"fc-not-end"].concat(ab.className,ab.source?ab.source.className:[]);return ad&&af.push("fc-draggable"),ac&&af.push("fc-resizable"),af},getEventSkinCss:function(ab){var af=this.view,ai=ab.source||{},ag=ab.color,ak=ai.color,aa=af.opt("eventColor"),aj=ab.backgroundColor||ag||ai.backgroundColor||ak||af.opt("eventBackgroundColor")||aa,ah=ab.borderColor||ag||ai.borderColor||ak||af.opt("eventBorderColor")||aa,ad=ab.textColor||ai.textColor||af.opt("eventTextColor"),ac=[];return aj&&ac.push("background-color:"+aj),ah&&ac.push("border-color:"+ah),ad&&ac.push("color:"+ad),ac.join(";")},eventsToSegs:function(aa,ad){var ac,ab=this.eventsToRanges(aa),af=[];for(ac=0;ab.length>ac;ac++){af.push.apply(af,this.eventRangeToSegs(ab[ac],ad))}return af},eventsToRanges:function(ad){var ac=this,ab=j(ad),aa=[];return bS.each(ab,function(ag,af){af.length&&aa.push.apply(aa,b(af[0])?ac.eventsToInverseRanges(af):ac.eventsToNormalRanges(af))}),aa},eventsToNormalRanges:function(aa){var af,ac,ab,ag,ah=this.view.calendar,ad=[];for(af=0;aa.length>af;af++){ac=aa[af],ab=ac.start.clone().stripZone(),ag=ah.getEventEnd(ac).stripZone(),ad.push({event:ac,start:ab,end:ag,eventStartMS:+ab,eventDurationMS:ag-ab})}return ad},eventsToInverseRanges:function(ab){var af,ai,ag=this.view,ak=ag.start.clone().stripZone(),aa=ag.end.clone().stripZone(),aj=this.eventsToNormalRanges(ab),ah=[],ad=ab[0],ac=ak;for(aj.sort(bw),af=0;aj.length>af;af++){ai=aj[af],ai.start>ac&&ah.push({event:ad,start:ac,end:ai.start}),ac=ai.end}return aa>ac&&ah.push({event:ad,start:ac,end:aa}),ah},eventRangeToSegs:function(aa,ad){var ac,ab,af;for(ac=ad?ad(aa):this.rangeToSegs(aa),ab=0;ac.length>ab;ab++){af=ac[ab],af.event=aa.event,af.eventStartMS=aa.eventStartMS,af.eventDurationMS=aa.eventDurationMS}return ac}}),bv.compareSegs=J,bv.dataAttrPrefix="";var g=Z.extend({numbersVisible:!1,bottomCoordPadding:0,breakOnWeeks:null,cellDates:null,dayToCellOffsets:null,rowEls:null,dayEls:null,helperEls:null,render:function(ab){var ad,ah,af,aj=this.view,aa=this.rowCnt,ai=this.colCnt,ag=aa*ai,ac="";for(ad=0;aa>ad;ad++){ac+=this.dayRowHtml(ad,ab)}for(this.el.html(ac),this.rowEls=this.el.find(".fc-row"),this.dayEls=this.el.find(".fc-day"),ah=0;ag>ah;ah++){af=this.getCell(ah),aj.trigger("dayRender",null,af.start,this.dayEls.eq(ah))}Z.prototype.render.call(this)},destroy:function(){this.destroySegPopover(),Z.prototype.destroy.call(this)},dayRowHtml:function(aa,ad){var ac=this.view,ab=["fc-row","fc-week",ac.widgetContentClass];return ad&&ab.push("fc-rigid"),'<div class="'+ab.join(" ")+'"><div class="fc-bg"><table>'+this.rowHtml("day",aa)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.rowHtml("number",aa)+"</thead>":"")+"</table></div></div>"},dayCellHtml:function(aa){return this.bgCellHtml(aa)},computeColHeadFormat:function(){return this.rowCnt>1?"ddd":this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},updateCells:function(){var aa,ad,ac,ab;if(this.updateCellDates(),aa=this.cellDates,this.breakOnWeeks){for(ad=aa[0].day(),ab=1;aa.length>ab&&aa[ab].day()!=ad;ab++){}ac=Math.ceil(aa.length/ab)}else{ac=1,ab=aa.length}this.rowCnt=ac,this.colCnt=ab},updateCellDates:function(){for(var aa=this.view,ad=this.start.clone(),ac=[],ab=-1,af=[];ad.isBefore(this.end);){aa.isHiddenDay(ad)?af.push(ab+0.5):(ab++,af.push(ab),ac.push(ad.clone())),ad.add(1,"days")}this.cellDates=ac,this.dayToCellOffsets=af},computeCellRange:function(aa){var ad=this.colCnt,ac=aa.row*ad+(this.isRTL?ad-aa.col-1:aa.col),ab=this.cellDates[ac].clone(),af=ab.clone().add(1,"day");return{start:ab,end:af}},getRowEl:function(aa){return this.rowEls.eq(aa)},getColEl:function(aa){return this.dayEls.eq(aa)},getCellDayEl:function(aa){return this.dayEls.eq(aa.row*this.colCnt+aa.col)},computeRowCoords:function(){var aa=Z.prototype.computeRowCoords.call(this);return aa[aa.length-1].bottom+=this.bottomCoordPadding,aa},rangeToSegs:function(ac){var aC,ai,af,aB,aa,aj,ah,ag,ad,aA,ak=this.isRTL,ab=this.rowCnt,aD=this.colCnt,aE=[];for(ac=this.view.computeDayRange(ac),aC=this.dateToCellOffset(ac.start),ai=this.dateToCellOffset(ac.end.subtract(1,"days")),af=0;ab>af;af++){aB=af*aD,aa=aB+aD-1,ag=Math.max(aB,aC),ad=Math.min(aa,ai),ag=Math.ceil(ag),ad=Math.floor(ad),ad>=ag&&(aj=ag===aC,ah=ad===ai,ag-=aB,ad-=aB,aA={row:af,isStart:aj,isEnd:ah},ak?(aA.leftCol=aD-ad-1,aA.rightCol=aD-ag-1):(aA.leftCol=ag,aA.rightCol=ad),aE.push(aA))}return aE},dateToCellOffset:function(ab){var aa=this.dayToCellOffsets,ac=ab.diff(this.start,"days");return 0>ac?aa[0]-1:ac>=aa.length?aa[aa.length-1]+1:aa[ac]},renderDrag:function(ab,aa){var ac;return this.renderHighlight(this.view.calendar.ensureVisibleEventRange(ab)),aa&&!aa.el.closest(this.el).length?(this.renderRangeHelper(ab,aa),ac=this.view.opt("dragOpacity"),void 0!==ac&&this.helperEls.css("opacity",ac),!0):void 0},destroyDrag:function(){this.destroyHighlight(),this.destroyHelper()},renderEventResize:function(ab,aa){this.renderHighlight(ab),this.renderRangeHelper(ab,aa)},destroyEventResize:function(){this.destroyHighlight(),this.destroyHelper()},renderHelper:function(ad,ac){var ab,af=[],aa=this.eventsToSegs([ad]);aa=this.renderFgSegEls(aa),ab=this.renderSegRows(aa),this.rowEls.each(function(ah,ai){var ag,aj=bS(ai),ak=bS('<div class="fc-helper-skeleton"><table/></div>');ag=ac&&ac.row===ah?ac.el.position().top:aj.find(".fc-content-skeleton tbody").position().top,ak.css("top",ag).find("table").append(ab[ah].tbodyEl),aj.append(ak),af.push(ak[0])}),this.helperEls=bS(af)},destroyHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(af,ac){var ab,ag,aa,ad=[];for(ac=this.renderFillSegEls(af,ac),ab=0;ac.length>ab;ab++){ag=ac[ab],aa=this.renderFillRow(af,ag),this.rowEls.eq(ag.row).append(aa),ad.push(aa[0])}return this.elsByFill[af]=bS(ad),ac},renderFillRow:function(af,ac){var aa,ag,ah=this.colCnt,ad=ac.leftCol,ab=ac.rightCol+1;return aa=bS('<div class="fc-'+af.toLowerCase()+'-skeleton"><table><tr/></table></div>'),ag=aa.find("tr"),ad>0&&ag.append('<td colspan="'+ad+'"/>'),ag.append(ac.el.attr("colspan",ab-ad)),ah>ab&&ag.append('<td colspan="'+(ah-ab)+'"/>'),this.bookendCells(ag,af),aa}});g.mixin({rowStructs:null,destroyEvents:function(){this.destroySegPopover(),Z.prototype.destroyEvents.apply(this,arguments)},getEventSegs:function(){return Z.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(ab){var aa=bS.grep(ab,function(ac){return ac.event.allDay});return Z.prototype.renderBgSegs.call(this,aa)},renderFgSegs:function(ab){var aa;return ab=this.renderFgSegEls(ab),aa=this.rowStructs=this.renderSegRows(ab),this.rowEls.each(function(ac,ad){bS(ad).find(".fc-content-skeleton > table").append(aa[ac].tbodyEl)}),ab},destroyFgSegs:function(){for(var ab,aa=this.rowStructs||[];ab=aa.pop();){ab.tbodyEl.remove()}this.rowStructs=null},renderSegRows:function(aa){var ad,ac,ab=[];for(ad=this.groupSegRows(aa),ac=0;ad.length>ac;ac++){ab.push(this.renderSegRow(ac,ad[ac]))}return ab},fgSegHtml:function(ab,af){var ai,ag=this.view,ak=ab.event,aa=ag.isEventDraggable(ak),aj=!af&&ak.allDay&&ab.isEnd&&ag.isEventResizable(ak),ah=this.getSegClasses(ab,aa,aj),ad=this.getEventSkinCss(ak),ac="";return ah.unshift("fc-day-grid-event"),!ak.allDay&&ab.isStart&&(ac='<span class="fc-time">'+H(this.getEventTimeText(ak))+"</span>"),ai='<span class="fc-title">'+(H(ak.title||"")||"&nbsp;")+"</span>",'<a class="'+ah.join(" ")+'"'+(ak.url?' href="'+H(ak.url)+'"':"")+(ad?' style="'+ad+'"':"")+'><div class="fc-content">'+(this.isRTL?ai+" "+ac:ac+" "+ai)+"</div>"+(aj?'<div class="fc-resizer"/>':"")+"</a>"},renderSegRow:function(ad,ac){function aA(aH){for(;aH>ag;){ab=(aE[ak-1]||[])[ag],ab?ab.attr("rowspan",parseInt(ab.attr("rowspan")||1,10)+1):(ab=bS("<td/>"),aB.append(ab)),aF[ak][ag]=ab,aE[ak][ag]=ab,ag++}}var ak,aC,ag,aB,aG,aD,ab,aa=this.colCnt,aj=this.buildSegLevels(ac),af=Math.max(1,aj.length),ai=bS("<tbody/>"),ah=[],aF=[],aE=[];for(ak=0;af>ak;ak++){if(aC=aj[ak],ag=0,aB=bS("<tr/>"),ah.push([]),aF.push([]),aE.push([]),aC){for(aG=0;aC.length>aG;aG++){for(aD=aC[aG],aA(aD.leftCol),ab=bS('<td class="fc-event-container"/>').append(aD.el),aD.leftCol!=aD.rightCol?ab.attr("colspan",aD.rightCol-aD.leftCol+1):aE[ak][ag]=ab;aD.rightCol>=ag;){aF[ak][ag]=ab,ah[ak][ag]=aD,ag++}aB.append(ab)}}aA(aa),this.bookendCells(aB,"eventSkeleton"),ai.append(aB)}return{row:ad,tbodyEl:ai,cellMatrix:aF,segMatrix:ah,segLevels:aj,segs:ac}},buildSegLevels:function(aa){var ad,ac,ab,af=[];for(aa.sort(J),ad=0;aa.length>ad;ad++){for(ac=aa[ad],ab=0;af.length>ab&&bp(ac,af[ab]);ab++){}ac.level=ab,(af[ab]||(af[ab]=[])).push(ac)}for(ab=0;af.length>ab;ab++){af[ab].sort(M)}return af},groupSegRows:function(ab){var aa,ac=[];for(aa=0;this.rowCnt>aa;aa++){ac.push([])}for(aa=0;ab.length>aa;aa++){ac[ab[aa].row].push(ab[aa])}return ac}}),g.mixin({segPopover:null,popoverSegs:null,destroySegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(aa){var ad,ac,ab=this.rowStructs||[];for(ad=0;ab.length>ad;ad++){this.unlimitRow(ad),ac=aa?"number"==typeof aa?aa:this.computeRowLevelLimit(ad):!1,ac!==!1&&this.limitRow(ad,ac)}},computeRowLevelLimit:function(aa){var ad,ac,ab=this.rowEls.eq(aa),af=ab.height(),ag=this.rowStructs[aa].tbodyEl.children();for(ad=0;ag.length>ad;ad++){if(ac=ag.eq(ad).removeClass("fc-limited"),ac.position().top+ac.outerHeight()>af){return ad}}return !1},limitRow:function(af,aD){function ak(aN){for(;aN>aK;){aH=aj.getCell(af,aK),ad=aj.getCellSegs(aH,aD),ad.length&&(ag=aE[aD-1][aK],aI=aj.renderMoreLink(aH,ad),aL=bS("<div/>").append(aI),ag.append(aL),ab.push(aL[0])),aK++}}var aH,aJ,aE,aA,aa,aC,ad,ac,ai,ag,ah,aF,aB,aG,aL,aI,aj=this,aM=this.rowStructs[af],ab=[],aK=0;if(aD&&aM.segLevels.length>aD){for(aJ=aM.segLevels[aD-1],aE=aM.cellMatrix,aA=aM.tbodyEl.children().slice(aD).addClass("fc-limited").get(),aa=0;aJ.length>aa;aa++){for(aC=aJ[aa],ak(aC.leftCol),ai=[],ac=0;aC.rightCol>=aK;){aH=this.getCell(af,aK),ad=this.getCellSegs(aH,aD),ai.push(ad),ac+=ad.length,aK++}if(ac){for(ag=aE[aD-1][aC.leftCol],ah=ag.attr("rowspan")||1,aF=[],aB=0;ai.length>aB;aB++){aG=bS('<td class="fc-more-cell"/>').attr("rowspan",ah),ad=ai[aB],aH=this.getCell(af,aC.leftCol+aB),aI=this.renderMoreLink(aH,[aC].concat(ad)),aL=bS("<div/>").append(aI),aG.append(aL),aF.push(aG[0]),ab.push(aG[0])}ag.addClass("fc-limited").after(bS(aF)),aA.push(ag[0])}}ak(this.colCnt),aM.moreEls=bS(ab),aM.limitedEls=bS(aA)}},unlimitRow:function(ab){var aa=this.rowStructs[ab];aa.moreEls&&(aa.moreEls.remove(),aa.moreEls=null),aa.limitedEls&&(aa.limitedEls.removeClass("fc-limited"),aa.limitedEls=null)},renderMoreLink:function(ad,ac){var ab=this,aa=this.view;return bS('<a class="fc-more"/>').text(this.getMoreLinkText(ac.length)).on("click",function(ah){var af=aa.opt("eventLimitClick"),ak=ad.start,aA=bS(this),aj=ab.getCellDayEl(ad),ag=ab.getCellSegs(ad),aB=ab.resliceDaySegs(ag,ak),ai=ab.resliceDaySegs(ac,ak);"function"==typeof af&&(af=aa.trigger("eventLimitClick",null,{date:ak,dayEl:aj,moreEl:aA,segs:aB,hiddenSegs:ai},ah)),"popover"===af?ab.showSegPopover(ad,aA,aB):"string"==typeof af&&aa.calendar.zoomTo(ak,af)})},showSegPopover:function(ai,af,ac){var aa,ag,ah=this,ad=this.view,ab=af.parent();aa=1==this.rowCnt?ad.el:this.rowEls.eq(ai.row),ag={className:"fc-more-popover",content:this.renderSegPopoverContent(ai,ac),parentEl:this.el,top:aa.offset().top,autoHide:!0,viewportConstrain:ad.opt("popoverViewportConstrain"),hide:function(){ah.segPopover.destroy(),ah.segPopover=null,ah.popoverSegs=null}},this.isRTL?ag.right=ab.offset().left+ab.outerWidth()+1:ag.left=ab.offset().left-1,this.segPopover=new bg(ag),this.segPopover.show()},renderSegPopoverContent:function(ad,ab){var ah,af=this.view,ag=af.opt("theme"),ac=ad.start.format(af.opt("dayPopoverFormat")),ai=bS('<div class="fc-header '+af.widgetHeaderClass+'"><span class="fc-close '+(ag?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+H(ac)+'</span><div class="fc-clear"/></div><div class="fc-body '+af.widgetContentClass+'"><div class="fc-event-container"></div></div>'),aa=ai.find(".fc-event-container");for(ab=this.renderFgSegEls(ab,!0),this.popoverSegs=ab,ah=0;ab.length>ah;ah++){ab[ah].cell=ad,aa.append(ab[ah].el)}return ai},resliceDaySegs:function(af,ac){var ab=bS.map(af,function(ah){return ah.event}),ag=ac.clone().stripTime(),aa=ag.clone().add(1,"days"),ad={start:ag,end:aa};return this.eventsToSegs(ab,function(ai){var ah=F(ai,ad);return ah?[ah]:[]})},getMoreLinkText:function(ab){var aa=this.view.opt("eventLimitText");return"function"==typeof aa?aa(ab):"+"+ab+" "+aa},getCellSegs:function(aa,ad){for(var ac,ab=this.rowStructs[aa.row].segMatrix,af=ad||0,ag=[];ab.length>af;){ac=ab[af][aa.col],ac&&ag.push(ac),af++}return ag}});var ay=Z.extend({slotDuration:null,snapDuration:null,minTime:null,maxTime:null,axisFormat:null,dayEls:null,slatEls:null,slatTops:null,helperEl:null,businessHourSegs:null,constructor:function(){Z.apply(this,arguments),this.processOptions()},render:function(){this.el.html(this.renderHtml()),this.dayEls=this.el.find(".fc-day"),this.slatEls=this.el.find(".fc-slats tr"),this.computeSlatTops(),this.renderBusinessHours(),Z.prototype.render.call(this)},renderBusinessHours:function(){var aa=this.view.calendar.getBusinessHoursEvents();this.businessHourSegs=this.renderFill("businessHours",this.eventsToSegs(aa),"bgevent")},renderHtml:function(){return'<div class="fc-bg"><table>'+this.rowHtml("slotBg")+'</table></div><div class="fc-slats"><table>'+this.slatRowHtml()+"</table></div>"},slotBgCellHtml:function(aa){return this.bgCellHtml(aa)},slatRowHtml:function(){for(var ag,ab,ah,ad=this.view,af=this.isRTL,ac="",ai=0===this.slotDuration.asMinutes()%15,aa=bl.duration(+this.minTime);this.maxTime>aa;){ag=this.start.clone().time(aa),ab=ag.minutes(),ah='<td class="fc-axis fc-time '+ad.widgetContentClass+'" '+ad.axisStyleAttr()+">"+(ai&&ab?"":"<span>"+H(ag.format(this.axisFormat))+"</span>")+"</td>",ac+="<tr "+(ab?'class="fc-minor"':"")+">"+(af?"":ah)+'<td class="'+ad.widgetContentClass+'"/>'+(af?ah:"")+"</tr>",aa.add(this.slotDuration)}return ac},processOptions:function(){var aa=this.view,ac=aa.opt("slotDuration"),ab=aa.opt("snapDuration");ac=bl.duration(ac),ab=ab?bl.duration(ab):ac,this.slotDuration=ac,this.snapDuration=ab,this.minTime=bl.duration(aa.opt("minTime")),this.maxTime=bl.duration(aa.opt("maxTime")),this.axisFormat=aa.opt("axisFormat")||aa.opt("smallTimeFormat")},computeColHeadFormat:function(){return this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return !0},updateCells:function(){var ab,aa=this.view,ac=[];for(ab=this.start.clone();ab.isBefore(this.end);){ac.push({day:ab.clone()}),ab.add(1,"day"),ab=aa.skipHiddenDays(ab)}this.isRTL&&ac.reverse(),this.colData=ac,this.colCnt=ac.length,this.rowCnt=Math.ceil((this.maxTime-this.minTime)/this.snapDuration)},computeCellRange:function(aa){var ad=this.computeSnapTime(aa.row),ac=this.view.calendar.rezoneDate(aa.day).time(ad),ab=ac.clone().add(this.snapDuration);return{start:ac,end:ab}},getColEl:function(aa){return this.dayEls.eq(aa)},computeSnapTime:function(aa){return bl.duration(this.minTime+this.snapDuration*aa)},rangeToSegs:function(aa){var af,ac,ab,ag,ah=this.colCnt,ad=[];for(aa={start:aa.start.clone().stripZone(),end:aa.end.clone().stripZone()},ac=0;ah>ac;ac++){ab=this.colData[ac].day,ag={start:ab.clone().time(this.minTime),end:ab.clone().time(this.maxTime)},af=F(aa,ag),af&&(af.col=ac,ad.push(af))}return ad},resize:function(){this.computeSlatTops(),this.updateSegVerticals()},computeRowCoords:function(){var aa,ad,ac=this.el.offset().top,ab=[];for(aa=0;this.rowCnt>aa;aa++){ad={top:ac+this.computeTimeTop(this.computeSnapTime(aa))},aa>0&&(ab[aa-1].bottom=ad.top),ab.push(ad)}return ad.bottom=ad.top+this.computeTimeTop(this.computeSnapTime(aa)),ab},computeDateTop:function(ab,aa){return this.computeTimeTop(bl.duration(ab.clone().stripZone()-aa.clone().stripTime()))},computeTimeTop:function(aa){var ad,ac,ab,af,ag=(aa-this.minTime)/this.slotDuration;return ag=Math.max(0,ag),ag=Math.min(this.slatEls.length,ag),ad=Math.floor(ag),ac=ag-ad,ab=this.slatTops[ad],ac?(af=this.slatTops[ad+1],ab+(af-ab)*ac):ab},computeSlatTops:function(){var ab,aa=[];this.slatEls.each(function(ad,ac){ab=bS(ac).position().top,aa.push(ab)}),aa.push(ab+this.slatEls.last().outerHeight()),this.slatTops=aa},renderDrag:function(ab,aa){var ac;return aa?(this.renderRangeHelper(ab,aa),ac=this.view.opt("dragOpacity"),void 0!==ac&&this.helperEl.css("opacity",ac),!0):(this.renderHighlight(this.view.calendar.ensureVisibleEventRange(ab)),void 0)},destroyDrag:function(){this.destroyHelper(),this.destroyHighlight()},renderEventResize:function(ab,aa){this.renderRangeHelper(ab,aa)},destroyEventResize:function(){this.destroyHelper()},renderHelper:function(af,ac){var aa,ag,ah,ad,ab=this.eventsToSegs([af]);for(ab=this.renderFgSegEls(ab),aa=this.renderSegTable(ab),ag=0;ab.length>ag;ag++){ah=ab[ag],ac&&ac.col===ah.col&&(ad=ac.el,ah.el.css({left:ad.css("left"),right:ad.css("right"),"margin-left":ad.css("margin-left"),"margin-right":ad.css("margin-right")}))}this.helperEl=bS('<div class="fc-helper-skeleton"/>').append(aa).appendTo(this.el)},destroyHelper:function(){this.helperEl&&(this.helperEl.remove(),this.helperEl=null)},renderSelection:function(aa){this.view.opt("selectHelper")?this.renderRangeHelper(aa):this.renderHighlight(aa)},destroySelection:function(){this.destroyHelper(),this.destroyHighlight()},renderFill:function(aC,af,ac){var aj,ah,ag,ad,ak,ai,aB,aA,ab,aa;if(af.length){for(af=this.renderFillSegEls(aC,af),aj=this.groupSegCols(af),ac=ac||aC.toLowerCase(),ah=bS('<div class="fc-'+ac+'-skeleton"><table><tr/></table></div>'),ag=ah.find("tr"),ad=0;aj.length>ad;ad++){if(ak=aj[ad],ai=bS("<td/>").appendTo(ag),ak.length){for(aB=bS('<div class="fc-'+ac+'-container"/>').appendTo(ai),aA=this.colData[ad].day,ab=0;ak.length>ab;ab++){aa=ak[ab],aB.append(aa.el.css({top:this.computeDateTop(aa.start,aA),bottom:-this.computeDateTop(aa.end,aA)}))}}}this.bookendCells(ag,aC),this.el.append(ah),this.elsByFill[aC]=ah}return af}});ay.mixin({eventSkeletonEl:null,renderFgSegs:function(aa){return aa=this.renderFgSegEls(aa),this.el.append(this.eventSkeletonEl=bS('<div class="fc-content-skeleton"/>').append(this.renderSegTable(aa))),aa},destroyFgSegs:function(){this.eventSkeletonEl&&(this.eventSkeletonEl.remove(),this.eventSkeletonEl=null)},renderSegTable:function(ad){var ah,af,aj,aa,ai,ag,ac=bS("<table><tr/></table>"),ab=ac.find("tr");for(ah=this.groupSegCols(ad),this.computeSegVerticals(ad),aa=0;ah.length>aa;aa++){for(ai=ah[aa],ax(ai),ag=bS('<div class="fc-event-container"/>'),af=0;ai.length>af;af++){aj=ai[af],aj.el.css(this.generateSegPositionCss(aj)),30>aj.bottom-aj.top&&aj.el.addClass("fc-short"),ag.append(aj.el)}ab.append(bS("<td/>").append(ag))}return this.bookendCells(ab,"eventSkeleton"),ac},updateSegVerticals:function(){var ab,aa=(this.segs||[]).concat(this.businessHourSegs||[]);for(this.computeSegVerticals(aa),ab=0;aa.length>ab;ab++){aa[ab].el.css(this.generateSegVerticalCss(aa[ab]))}},computeSegVerticals:function(ab){var aa,ac;for(aa=0;ab.length>aa;aa++){ac=ab[aa],ac.top=this.computeDateTop(ac.start,ac.start),ac.bottom=this.computeDateTop(ac.end,ac.start)}},fgSegHtml:function(aa,af){var ai,ag,ak,aA=this.view,aj=aa.event,ah=aA.isEventDraggable(aj),ac=!af&&aa.isEnd&&aA.isEventResizable(aj),ab=this.getSegClasses(aa,ah,ac),ad=this.getEventSkinCss(aj);return ab.unshift("fc-time-grid-event"),aA.isMultiDayEvent(aj)?(aa.isStart||aa.isEnd)&&(ai=this.getEventTimeText(aa),ag=this.getEventTimeText(aa,"LT"),ak=this.getEventTimeText({start:aa.start})):(ai=this.getEventTimeText(aj),ag=this.getEventTimeText(aj,"LT"),ak=this.getEventTimeText({start:aj.start})),'<a class="'+ab.join(" ")+'"'+(aj.url?' href="'+H(aj.url)+'"':"")+(ad?' style="'+ad+'"':"")+'><div class="fc-content">'+(ai?'<div class="fc-time" data-start="'+H(ak)+'" data-full="'+H(ag)+'"><span>'+H(ai)+"</span></div>":"")+(aj.title?'<div class="fc-title">'+H(aj.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(ac?'<div class="fc-resizer"/>':"")+"</a>"},generateSegPositionCss:function(aa){var af,ac,ab=this.view.opt("slotEventOverlap"),ag=aa.backwardCoord,ah=aa.forwardCoord,ad=this.generateSegVerticalCss(aa);return ab&&(ah=Math.min(1,ag+2*(ah-ag))),this.isRTL?(af=1-ah,ac=ag):(af=ag,ac=1-ah),ad.zIndex=aa.level+1,ad.left=100*af+"%",ad.right=100*ac+"%",ab&&aa.forwardPressure&&(ad[this.isRTL?"marginLeft":"marginRight"]=20),ad},generateSegVerticalCss:function(aa){return{top:aa.top,bottom:-aa.bottom}},groupSegCols:function(ab){var aa,ac=[];for(aa=0;this.colCnt>aa;aa++){ac.push([])}for(aa=0;ab.length>aa;aa++){ac[ab[aa].col].push(ab[aa])}return ac}});var ar=bv.View=m.extend({type:null,name:null,calendar:null,options:null,coordMap:null,el:null,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isSelected:!1,scrollerEl:null,scrollTop:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,documentMousedownProxy:null,constructor:function(ac,ab,aa){this.calendar=ac,this.options=ab,this.type=this.name=aa,this.nextDayThreshold=bl.duration(this.opt("nextDayThreshold")),this.initTheming(),this.initHiddenDays(),this.documentMousedownProxy=bS.proxy(this,"documentMousedown"),this.initialize()},initialize:function(){},opt:function(ab){var aa;return aa=this.options[ab],void 0!==aa?aa:(aa=this.calendar.options[ab],bS.isPlainObject(aa)&&!bQ(ab)?B(aa,this.type):aa)},trigger:function(ab,aa){var ac=this.calendar;return ac.trigger.apply(ac,[ab,aa||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(aa){this.setRange(this.computeRange(aa))},setRange:function(aa){bS.extend(this,aa)},computeRange:function(ah){var ac,aa,af=bl.duration(this.opt("duration")||this.constructor.duration||{days:1}),ag=a(af),ad=ah.clone().startOf(ag),ab=ad.clone().add(af);return c("days",af)?(ad.stripTime(),ab.stripTime()):(ad.hasTime()||(ad=this.calendar.rezoneDate(ad)),ab.hasTime()||(ab=this.calendar.rezoneDate(ab))),ac=ad.clone(),ac=this.skipHiddenDays(ac),aa=ab.clone(),aa=this.skipHiddenDays(aa,-1,!0),{intervalDuration:af,intervalUnit:ag,intervalStart:ad,intervalEnd:ab,start:ac,end:aa}},computePrevDate:function(aa){return this.skipHiddenDays(aa.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(aa){return this.skipHiddenDays(aa.clone().startOf(this.intervalUnit).add(this.intervalDuration))},computeTitle:function(){return this.formatRange({start:this.intervalStart,end:this.intervalEnd},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):this.intervalDuration.as("days")>1?"ll":"LL"},formatRange:function(aa,ad,ac){var ab=aa.end;return ab.hasTime()||(ab=ab.clone().subtract(1)),bs(aa.start,ab,ad,ac,this.opt("isRTL"))},renderView:function(){this.render(),this.updateSize(),this.initializeScroll(),this.trigger("viewRender",this,this,this.el),bS(document).on("mousedown",this.documentMousedownProxy)},render:function(){},destroyView:function(){this.unselect(),this.destroyViewEvents(),this.destroy(),this.trigger("viewDestroy",this,this,this.el),bS(document).off("mousedown",this.documentMousedownProxy)},destroy:function(){this.el.empty()},initTheming:function(){var aa=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=aa+"-widget-header",this.widgetContentClass=aa+"-widget-content",this.highlightStateClass=aa+"-state-highlight"},updateSize:function(aa){aa&&this.recordScroll(),this.updateHeight(),this.updateWidth()},updateWidth:function(){},updateHeight:function(){var aa=this.calendar;this.setHeight(aa.getSuggestedViewHeight(),aa.isHeightAuto())},setHeight:function(){},computeScrollerHeight:function(aa,ad){var ac,ab;return ad=ad||this.scrollerEl,ac=this.el.add(ad),ac.css({position:"relative",left:-1}),ab=this.el.outerHeight()-ad.height(),ac.css({position:"",left:""}),aa-ab},initializeScroll:function(){},recordScroll:function(){this.scrollerEl&&(this.scrollTop=this.scrollerEl.scrollTop())},restoreScroll:function(){null!==this.scrollTop&&this.scrollerEl.scrollTop(this.scrollTop)},renderViewEvents:function(aa){this.renderEvents(aa),this.eventSegEach(function(ab){this.trigger("eventAfterRender",ab.event,ab.event,ab.el)}),this.trigger("eventAfterAllRender")},renderEvents:function(){},destroyViewEvents:function(){this.eventSegEach(function(aa){this.trigger("eventDestroy",aa.event,aa.event,aa.el)}),this.destroyEvents()},destroyEvents:function(){},resolveEventEl:function(aa,ac){var ab=this.trigger("eventRender",aa,aa,ac);return ab===!1?ac=null:ab&&ab!==!0&&(ac=bS(ab)),ac},showEvent:function(aa){this.eventSegEach(function(ab){ab.el.css("visibility","")},aa)},hideEvent:function(aa){this.eventSegEach(function(ab){ab.el.css("visibility","hidden")},aa)},eventSegEach:function(aa,ad){var ac,ab=this.getEventSegs();for(ac=0;ab.length>ac;ac++){ad&&ab[ac].event._id!==ad._id||aa.call(this,ab[ac])}},getEventSegs:function(){return[]},isEventDraggable:function(ab){var aa=ab.source||{};return e(ab.startEditable,aa.startEditable,this.opt("eventStartEditable"),ab.editable,aa.editable,this.opt("editable"))},reportEventDrop:function(aa,af,ac,ab){var ag=this.calendar,ah=ag.mutateEvent(aa,af),ad=function(){ah.undo(),ag.reportEventChange()};this.triggerEventDrop(aa,ah.dateDelta,ad,ac,ab),ag.reportEventChange()},triggerEventDrop:function(aa,ad,ac,ab,af){this.trigger("eventDrop",ab[0],aa,ad,ac,af,{})},reportExternalDrop:function(ad,ab,ah,af,ag){var ac,ai,aa=ad.eventProps;aa&&(ac=bS.extend({},aa,ab),ai=this.calendar.renderEvent(ac,ad.stick)[0]),this.triggerExternalDrop(ai,ab,ah,af,ag)},triggerExternalDrop:function(aa,ad,ac,ab,af){this.trigger("drop",ac[0],ad.start,ab,af),aa&&this.trigger("eventReceive",null,aa)},renderDrag:function(){},destroyDrag:function(){},isEventResizable:function(ab){var aa=ab.source||{};return e(ab.durationEditable,aa.durationEditable,this.opt("eventDurationEditable"),ab.editable,aa.editable,this.opt("editable"))},reportEventResize:function(aa,af,ac,ab){var ag=this.calendar,ah=ag.mutateEvent(aa,{end:af}),ad=function(){ah.undo(),ag.reportEventChange()};this.triggerEventResize(aa,ah.durationDelta,ad,ac,ab),ag.reportEventChange()},triggerEventResize:function(aa,ad,ac,ab,af){this.trigger("eventResize",ab[0],aa,ad,ac,af,{})},select:function(ab,aa){this.unselect(aa),this.renderSelection(ab),this.reportSelection(ab,aa)},renderSelection:function(){},reportSelection:function(ab,aa){this.isSelected=!0,this.trigger("select",null,ab.start,ab.end,aa)},unselect:function(aa){this.isSelected&&(this.isSelected=!1,this.destroySelection(),this.trigger("unselect",null,aa))},destroySelection:function(){},documentMousedown:function(ab){var aa;this.isSelected&&this.opt("unselectAuto")&&A(ab)&&(aa=this.opt("unselectCancel"),aa&&bS(ab.target).closest(aa).length||this.unselect(ab))},initHiddenDays:function(){var ad,ac=this.opt("hiddenDays")||[],ab=[],aa=0;for(this.opt("weekends")===!1&&ac.push(0,6),ad=0;7>ad;ad++){(ab[ad]=-1!==bS.inArray(ad,ac))||aa++}if(!aa){throw"invalid hiddenDays"}this.isHiddenDayHash=ab},isHiddenDay:function(aa){return bl.isMoment(aa)&&(aa=aa.day()),this.isHiddenDayHash[aa]},skipHiddenDays:function(aa,ad,ac){var ab=aa.clone();for(ad=ad||1;this.isHiddenDayHash[(ab.day()+(ac?ad:0)+7)%7];){ab.add(ad,"days")}return ab},computeDayRange:function(aa){var ad,ac=aa.start.clone().stripTime(),ab=aa.end,af=null;return ab&&(af=ab.clone().stripTime(),ad=+ab.time(),ad&&ad>=this.nextDayThreshold&&af.add(1,"days")),(!ab||ac>=af)&&(af=ac.clone().add(1,"days")),{start:ac,end:af}},isMultiDayEvent:function(ab){var aa=this.computeDayRange(ab);return aa.end.diff(aa.start,"days")>1}});bv.sourceNormalizers=[],bv.sourceFetchers=[];var P={dataType:"json",cache:!1},K=1,bo=p.basic=ar.extend({dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headRowEl:null,initialize:function(){this.dayGrid=new g(this),this.coordMap=this.dayGrid.coordMap},setRange:function(aa){ar.prototype.setRange.call(this,aa),this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit),this.dayGrid.setRange(aa)},computeRange:function(ab){var aa=ar.prototype.computeRange.call(this,ab);return/year|month/.test(aa.intervalUnit)&&(aa.start.startOf("week"),aa.start=this.skipHiddenDays(aa.start),aa.end.weekday()&&(aa.end.add(1,"week").startOf("week"),aa.end=this.skipHiddenDays(aa.end,-1,!0))),aa},render:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1,this.weekNumbersVisible=this.opt("weekNumbers"),this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible,this.el.addClass("fc-basic-view").html(this.renderHtml()),this.headRowEl=this.el.find("thead .fc-row"),this.scrollerEl=this.el.find(".fc-day-grid-container"),this.dayGrid.coordMap.containerEl=this.scrollerEl,this.dayGrid.el=this.el.find(".fc-day-grid"),this.dayGrid.render(this.hasRigidRows())},destroy:function(){this.dayGrid.destroy(),ar.prototype.destroy.call(this)},renderHtml:function(){return'<table><thead><tr><td class="'+this.widgetHeaderClass+'">'+this.dayGrid.headHtml()+'</td></tr></thead><tbody><tr><td class="'+this.widgetContentClass+'"><div class="fc-day-grid-container"><div class="fc-day-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){return this.weekNumbersVisible?'<th class="fc-week-number '+this.widgetHeaderClass+'" '+this.weekNumberStyleAttr()+"><span>"+H(this.opt("weekNumberTitle"))+"</span></th>":void 0},numberIntroHtml:function(aa){return this.weekNumbersVisible?'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"><span>"+this.calendar.calculateWeekNumber(this.dayGrid.getCell(aa,0).start)+"</span></td>":void 0},dayIntroHtml:function(){return this.weekNumbersVisible?'<td class="fc-week-number '+this.widgetContentClass+'" '+this.weekNumberStyleAttr()+"></td>":void 0},introHtml:function(){return this.weekNumbersVisible?'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"></td>":void 0},numberCellHtml:function(ab){var aa,ac=ab.start;return this.dayNumbersVisible?(aa=this.dayGrid.getDayClasses(ac),aa.unshift("fc-day-number"),'<td class="'+aa.join(" ")+'" data-date="'+ac.format()+'">'+ac.date()+"</td>"):"<td/>"},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var aa=this.opt("eventLimit");return aa&&"number"!=typeof aa},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=bq(this.el.find(".fc-week-number")))},setHeight:function(aa,ad){var ac,ab=this.opt("eventLimit");bn(this.scrollerEl),bu(this.headRowEl),this.dayGrid.destroySegPopover(),ab&&"number"==typeof ab&&this.dayGrid.limitRows(ab),ac=this.computeScrollerHeight(aa),this.setGridHeight(ac,ad),ab&&"number"!=typeof ab&&this.dayGrid.limitRows(ab),!ad&&bm(this.scrollerEl,ac)&&(bz(this.headRowEl,bx(this.scrollerEl)),ac=this.computeScrollerHeight(aa),this.scrollerEl.height(ac),this.restoreScroll())},setGridHeight:function(ab,aa){aa?bj(this.dayGrid.rowEls):bk(this.dayGrid.rowEls,ab,!0)},renderEvents:function(aa){this.dayGrid.renderEvents(aa),this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},destroyEvents:function(){this.recordScroll(),this.dayGrid.destroyEvents()},renderDrag:function(ab,aa){return this.dayGrid.renderDrag(ab,aa)},destroyDrag:function(){this.dayGrid.destroyDrag()},renderSelection:function(aa){this.dayGrid.renderSelection(aa)},destroySelection:function(){this.dayGrid.destroySelection()}});by({fixedWeekCount:!0});var q=p.month=bo.extend({computeRange:function(ab){var aa=bo.prototype.computeRange.call(this,ab);return this.isFixedWeeks()&&aa.end.add(6-aa.end.diff(aa.start,"weeks"),"weeks"),aa},setGridHeight:function(ab,aa){aa=aa||"variable"===this.opt("weekMode"),aa&&(ab*=this.rowCnt/6),bk(this.dayGrid.rowEls,ab,!aa)},isFixedWeeks:function(){var aa=this.opt("weekMode");return aa?"fixed"===aa:this.opt("fixedWeekCount")}});q.duration={months:1},p.basicWeek={type:"basic",duration:{weeks:1}},p.basicDay={type:"basic",duration:{days:1}},by({allDaySlot:!0,allDayText:"all-day",scrollTime:"06:00:00",slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0});var bc=5;p.agenda=ar.extend({timeGrid:null,dayGrid:null,axisWidth:null,noScrollRowEls:null,bottomRuleEl:null,bottomRuleHeight:null,initialize:function(){this.timeGrid=new ay(this),this.opt("allDaySlot")?(this.dayGrid=new g(this),this.coordMap=new R([this.dayGrid.coordMap,this.timeGrid.coordMap])):this.coordMap=this.timeGrid.coordMap},setRange:function(aa){ar.prototype.setRange.call(this,aa),this.timeGrid.setRange(aa),this.dayGrid&&this.dayGrid.setRange(aa)},render:function(){this.el.addClass("fc-agenda-view").html(this.renderHtml()),this.scrollerEl=this.el.find(".fc-time-grid-container"),this.timeGrid.coordMap.containerEl=this.scrollerEl,this.timeGrid.el=this.el.find(".fc-time-grid"),this.timeGrid.render(),this.bottomRuleEl=bS('<hr class="'+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el),this.dayGrid&&(this.dayGrid.el=this.el.find(".fc-day-grid"),this.dayGrid.render(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()),this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},destroy:function(){this.timeGrid.destroy(),this.dayGrid&&this.dayGrid.destroy(),ar.prototype.destroy.call(this)},renderHtml:function(){return'<table><thead><tr><td class="'+this.widgetHeaderClass+'">'+this.timeGrid.headHtml()+'</td></tr></thead><tbody><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="'+this.widgetHeaderClass+'"/>':"")+'<div class="fc-time-grid-container"><div class="fc-time-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){var aa,ad,ac,ab;return this.opt("weekNumbers")?(aa=this.timeGrid.getCell(0).start,ad=this.calendar.calculateWeekNumber(aa),ac=this.opt("weekNumberTitle"),ab=this.opt("isRTL")?ad+ac:ac+ad,'<th class="fc-axis fc-week-number '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"><span>"+H(ab)+"</span></th>"):'<th class="fc-axis '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"></th>"},dayIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"><span>"+(this.opt("allDayHtml")||H(this.opt("allDayText")))+"</span></td>"},slotBgIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"></td>"},introHtml:function(){return'<td class="fc-axis" '+this.axisStyleAttr()+"></td>"},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},updateSize:function(aa){aa&&this.timeGrid.resize(),ar.prototype.updateSize.call(this,aa)},updateWidth:function(){this.axisWidth=bq(this.el.find(".fc-axis"))},setHeight:function(aa,ad){var ac,ab;null===this.bottomRuleHeight&&(this.bottomRuleHeight=this.bottomRuleEl.outerHeight()),this.bottomRuleEl.hide(),this.scrollerEl.css("overflow",""),bn(this.scrollerEl),bu(this.noScrollRowEls),this.dayGrid&&(this.dayGrid.destroySegPopover(),ac=this.opt("eventLimit"),ac&&"number"!=typeof ac&&(ac=bc),ac&&this.dayGrid.limitRows(ac)),ad||(ab=this.computeScrollerHeight(aa),bm(this.scrollerEl,ab)?(bz(this.noScrollRowEls,bx(this.scrollerEl)),ab=this.computeScrollerHeight(aa),this.scrollerEl.height(ab),this.restoreScroll()):(this.scrollerEl.height(ab).css("overflow","hidden"),this.bottomRuleEl.show()))},initializeScroll:function(){function aa(){ac.scrollerEl.scrollTop(ad)}var ac=this,ab=bl.duration(this.opt("scrollTime")),ad=this.timeGrid.computeTimeTop(ab);ad=Math.ceil(ad),ad&&ad++,aa(),setTimeout(aa,0)},renderEvents:function(aa){var ad,ac,ab=[],af=[],ag=[];for(ac=0;aa.length>ac;ac++){aa[ac].allDay?ab.push(aa[ac]):af.push(aa[ac])}ad=this.timeGrid.renderEvents(af),this.dayGrid&&(ag=this.dayGrid.renderEvents(ab)),this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},destroyEvents:function(){this.recordScroll(),this.timeGrid.destroyEvents(),this.dayGrid&&this.dayGrid.destroyEvents()},renderDrag:function(ab,aa){return ab.start.hasTime()?this.timeGrid.renderDrag(ab,aa):this.dayGrid?this.dayGrid.renderDrag(ab,aa):void 0},destroyDrag:function(){this.timeGrid.destroyDrag(),this.dayGrid&&this.dayGrid.destroyDrag()},renderSelection:function(aa){aa.start.hasTime()||aa.end.hasTime()?this.timeGrid.renderSelection(aa):this.dayGrid&&this.dayGrid.renderSelection(aa)},destroySelection:function(){this.timeGrid.destroySelection(),this.dayGrid&&this.dayGrid.destroySelection()}}),p.agendaWeek={type:"agenda",duration:{weeks:1}},p.agendaDay={type:"agenda",duration:{days:1}}});
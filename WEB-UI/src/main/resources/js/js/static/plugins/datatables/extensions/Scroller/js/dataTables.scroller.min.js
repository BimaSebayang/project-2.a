/*!
 Scroller 1.2.2
 Â©2011-2014 SpryMedia Ltd - datatables.net/license
*/
(function(f,g,h){var e=function(a){var b=function(d,i){!this instanceof b?alert("Scroller warning: Scroller must be initialised with the 'new' keyword."):("undefined"==typeof i&&(i={}),this.s={dt:d,tableTop:0,tableBottom:0,redrawTop:0,redrawBottom:0,autoHeight:!0,viewportRows:0,stateTO:null,drawTO:null,heights:{jump:null,page:null,virtual:null,scroll:null,row:null,viewport:null},topRowFloat:0,scrollDrawDiff:null,loaderVisible:!1},this.s=a.extend(this.s,b.oDefaults,i),this.s.heights.row=this.s.rowHeight,this.dom={force:g.createElement("div"),scroller:null,table:null,loader:null},this.s.dt.oScroller=this,this._fnConstruct())};b.prototype={fnRowToPixels:function(j,k,d){j=d?this._domain("virtualToPhysical",j*this.s.heights.row):this.s.baseScrollTop+(j-this.s.baseRowTop)*this.s.heights.row;return k||k===h?parseInt(j,10):j},fnPixelsToRow:function(l,m,d){var j=l-this.s.baseScrollTop,l=d?this._domain("physicalToVirtual",l)/this.s.heights.row:j/this.s.heights.row+this.s.baseRowTop;return m||m===h?parseInt(l,10):l},fnScrollToRow:function(p,q){var d=this,j=!1,n=this.fnRowToPixels(p),o=p-(this.s.displayBuffer-1)/2*this.s.viewportRows;0>o&&(o=0);if((n>this.s.redrawBottom||n<this.s.redrawTop)&&this.s.dt._iDisplayStart!==o){j=!0,n=this.fnRowToPixels(p,!1,!0)}"undefined"==typeof q||q?(this.s.ani=j,a(this.dom.scroller).animate({scrollTop:n},function(){setTimeout(function(){d.s.ani=!1},25)})):a(this.dom.scroller).scrollTop(n)},fnMeasure:function(d){this.s.autoHeight&&this._fnCalcRowHeight();var i=this.s.heights;i.viewport=a(this.dom.scroller).height();this.s.viewportRows=parseInt(i.viewport/i.row,10)+1;this.s.dt._iDisplayLength=this.s.viewportRows*this.s.displayBuffer;(d===h||d)&&this.s.dt.oInstance.fnDraw()},_fnConstruct:function(){var d=this;if(this.s.dt.oFeatures.bPaginate){this.dom.force.style.position="absolute";this.dom.force.style.top="0px";this.dom.force.style.left="0px";this.dom.force.style.width="1px";this.dom.scroller=a("div."+this.s.dt.oClasses.sScrollBody,this.s.dt.nTableWrapper)[0];this.dom.scroller.appendChild(this.dom.force);this.dom.scroller.style.position="relative";this.dom.table=a(">table",this.dom.scroller)[0];this.dom.table.style.position="absolute";this.dom.table.style.top="0px";this.dom.table.style.left="0px";a(this.s.dt.nTableWrapper).addClass("DTS");this.s.loadingIndicator&&(this.dom.loader=a('<div class="DTS_Loading">'+this.s.dt.oLanguage.sLoadingRecords+"</div>").css("display","none"),a(this.dom.scroller.parentNode).css("position","relative").append(this.dom.loader));this.s.heights.row&&"auto"!=this.s.heights.row&&(this.s.autoHeight=!1);this.fnMeasure(!1);this.s.ingnoreScroll=!0;this.s.stateSaveThrottle=this.s.dt.oApi._fnThrottle(function(){d.s.dt.oApi._fnSaveState(d.s.dt)},500);a(this.dom.scroller).on("scroll.DTS",function(){d._fnScroll.call(d)});a(this.dom.scroller).on("touchstart.DTS",function(){d._fnScroll.call(d)});this.s.dt.aoDrawCallback.push({fn:function(){d.s.dt.bInitialised&&d._fnDrawCallback.call(d)},sName:"Scroller"});a(f).on("resize.DTS",function(){d.fnMeasure(false);d._fnInfo()});var i=!0;this.s.dt.oApi._fnCallbackReg(this.s.dt,"aoStateSaveParams",function(j,l){if(i&&d.s.dt.oLoadedState){l.iScroller=d.s.dt.oLoadedState.iScroller;l.iScrollerTopRow=d.s.dt.oLoadedState.iScrollerTopRow;i=false}else{l.iScroller=d.dom.scroller.scrollTop;l.iScrollerTopRow=d.s.topRowFloat}},"Scroller_State");this.s.dt.oLoadedState&&(this.s.topRowFloat=this.s.dt.oLoadedState.iScrollerTopRow||0);this.s.dt.aoDestroyCallback.push({sName:"Scroller",fn:function(){a(f).off("resize.DTS");a(d.dom.scroller).off("touchstart.DTS scroll.DTS");a(d.s.dt.nTableWrapper).removeClass("DTS");a("div.DTS_Loading",d.dom.scroller.parentNode).remove();d.dom.table.style.position="";d.dom.table.style.top="";d.dom.table.style.left=""}})}else{this.s.dt.oApi._fnLog(this.s.dt,0,"Pagination must be enabled for Scroller")}},_fnScroll:function(){var n=this,o=this.s.heights,d=this.dom.scroller.scrollTop,j;if(!this.s.skip&&!this.s.ingnoreScroll){if(this.s.dt.bFiltered||this.s.dt.bSorted){this.s.lastScrollTop=0}else{this._fnInfo();clearTimeout(this.s.stateTO);this.s.stateTO=setTimeout(function(){n.s.dt.oApi._fnSaveState(n.s.dt)},250);if(d<this.s.redrawTop||d>this.s.redrawBottom){var m=Math.ceil((this.s.displayBuffer-1)/2*this.s.viewportRows);Math.abs(d-this.s.lastScrollTop)>o.viewport||this.s.ani?(j=parseInt(this._domain("physicalToVirtual",d)/o.row,10)-m,this.s.topRowFloat=this._domain("physicalToVirtual",d)/o.row):(j=this.fnPixelsToRow(d)-m,this.s.topRowFloat=this.fnPixelsToRow(d,!1));0>=j?j=0:j+this.s.dt._iDisplayLength>this.s.dt.fnRecordsDisplay()?(j=this.s.dt.fnRecordsDisplay()-this.s.dt._iDisplayLength,0>j&&(j=0)):0!==j%2&&j++;if(j!=this.s.dt._iDisplayStart&&(this.s.tableTop=a(this.s.dt.nTable).offset().top,this.s.tableBottom=a(this.s.dt.nTable).height()+this.s.tableTop,o=function(){if(n.s.scrollDrawReq===null){n.s.scrollDrawReq=d}n.s.dt._iDisplayStart=j;n.s.dt.oApi._fnCalculateEnd&&n.s.dt.oApi._fnCalculateEnd(n.s.dt);n.s.dt.oApi._fnDraw(n.s.dt)},this.s.dt.oFeatures.bServerSide?(clearTimeout(this.s.drawTO),this.s.drawTO=setTimeout(o,this.s.serverWait)):o(),this.dom.loader&&!this.s.loaderVisible)){this.dom.loader.css("display","block"),this.s.loaderVisible=!0}}this.s.lastScrollTop=d;this.s.stateSaveThrottle()}}},_domain:function(p,q){var r=this.s.heights,d;if(r.virtual===r.scroll){d=(r.virtual-r.viewport)/(r.scroll-r.viewport);if("virtualToPhysical"===p){return q/d}if("physicalToVirtual"===p){return q*d}}var j=(r.scroll-r.viewport)/2,o=(r.virtual-r.viewport)/2;d=o/(j*j);if("virtualToPhysical"===p){if(q<o){return Math.pow(q/d,0.5)}q=2*o-q;return 0>q?r.scroll:2*j-Math.pow(q/d,0.5)}if("physicalToVirtual"===p){if(q<j){return q*q*d}q=2*j-q;return 0>q?r.virtual:2*o-q*q*d}},_fnDrawCallback:function(){var r=this,t=this.s.heights,s=this.dom.scroller.scrollTop,u=a(this.s.dt.nTable).height(),v=this.s.dt._iDisplayStart,j=this.s.dt._iDisplayLength,d=this.s.dt.fnRecordsDisplay();this.s.skip=!0;this._fnScrollForce();s=0===v?this.s.topRowFloat*t.row:v+j>=d?t.scroll-(d-this.s.topRowFloat)*t.row:this._domain("virtualToPhysical",this.s.topRowFloat*t.row);this.dom.scroller.scrollTop=s;this.s.baseScrollTop=s;this.s.baseRowTop=this.s.topRowFloat;var q=s-(this.s.topRowFloat-v)*t.row;0===v?q=0:v+j>=d&&(q=t.scroll-u);this.dom.table.style.top=q+"px";this.s.tableTop=q;this.s.tableBottom=u+this.s.tableTop;u=(s-this.s.tableTop)*this.s.boundaryScale;this.s.redrawTop=s-u;this.s.redrawBottom=s+u;this.s.skip=!1;this.s.dt.oFeatures.bStateSave&&null!==this.s.dt.oLoadedState&&"undefined"!=typeof this.s.dt.oLoadedState.iScroller?((s=(this.s.dt.sAjaxSource||r.s.dt.ajax)&&!this.s.dt.oFeatures.bServerSide?!0:!1)&&2==this.s.dt.iDraw||!s&&1==this.s.dt.iDraw)&&setTimeout(function(){a(r.dom.scroller).scrollTop(r.s.dt.oLoadedState.iScroller);r.s.redrawTop=r.s.dt.oLoadedState.iScroller-t.viewport/2;setTimeout(function(){r.s.ingnoreScroll=!1},0)},0):r.s.ingnoreScroll=!1;setTimeout(function(){r._fnInfo.call(r)},0);this.dom.loader&&this.s.loaderVisible&&(this.dom.loader.css("display","none"),this.s.loaderVisible=!1)},_fnScrollForce:function(){var d=this.s.heights;d.virtual=d.row*this.s.dt.fnRecordsDisplay();d.scroll=d.virtual;1000000<d.scroll&&(d.scroll=1000000);this.dom.force.style.height=d.scroll+"px"},_fnCalcRowHeight:function(){var n=this.s.dt,o=n.nTable,d=o.cloneNode(!1),j=a("<tbody/>").appendTo(d),m=a('<div class="'+n.oClasses.sWrapper+' DTS"><div class="'+n.oClasses.sScrollWrapper+'"><div class="'+n.oClasses.sScrollBody+'"></div></div></div>');for(a("tbody tr:lt(4)",o).clone().appendTo(j);3>a("tr",j).length;){j.append("<tr><td>&nbsp;</td></tr>")}a("div."+n.oClasses.sScrollBody,m).append(d);n._bInitComplete?n=o.parentNode:(this.s.dt.nHolding||(this.s.dt.nHolding=a("<div></div>").insertBefore(this.s.dt.nTable)),n=this.s.dt.nHolding);m.appendTo(n);this.s.heights.row=a("tr",j).eq(1).outerHeight();m.remove()},_fnInfo:function(){if(this.s.dt.oFeatures.bInfo){var y=this.s.dt,z=y.oLanguage,d=this.dom.scroller.scrollTop,i=Math.floor(this.fnPixelsToRow(d,!1,this.s.ani)+1),j=y.fnRecordsTotal(),u=y.fnRecordsDisplay(),d=Math.ceil(this.fnPixelsToRow(d+this.s.heights.viewport,!1,this.s.ani)),d=u<d?u:d,k=y.fnFormatNumber(i),w=y.fnFormatNumber(d),v=y.fnFormatNumber(j),x=y.fnFormatNumber(u),k=0===y.fnRecordsDisplay()&&y.fnRecordsDisplay()==y.fnRecordsTotal()?z.sInfoEmpty+z.sInfoPostFix:0===y.fnRecordsDisplay()?z.sInfoEmpty+" "+z.sInfoFiltered.replace("_MAX_",v)+z.sInfoPostFix:y.fnRecordsDisplay()==y.fnRecordsTotal()?z.sInfo.replace("_START_",k).replace("_END_",w).replace("_MAX_",v).replace("_TOTAL_",x)+z.sInfoPostFix:z.sInfo.replace("_START_",k).replace("_END_",w).replace("_MAX_",v).replace("_TOTAL_",x)+" "+z.sInfoFiltered.replace("_MAX_",y.fnFormatNumber(y.fnRecordsTotal()))+z.sInfoPostFix;(z=z.fnInfoCallback)&&(k=z.call(y.oInstance,y,i,d,j,u,k));y=y.aanFeatures.i;if("undefined"!=typeof y){i=0;for(j=y.length;i<j;i++){a(y[i]).html(k)}}}}};b.defaults={trace:!1,rowHeight:"auto",serverWait:200,displayBuffer:9,boundaryScale:0.5,loadingIndicator:!1};b.oDefaults=b.defaults;b.version="1.2.2";"function"==typeof a.fn.dataTable&&"function"==typeof a.fn.dataTableExt.fnVersionCheck&&a.fn.dataTableExt.fnVersionCheck("1.9.0")?a.fn.dataTableExt.aoFeatures.push({fnInit:function(d){var i=d.oInit;return(new b(d,i.scroller||i.oScroller||{})).dom.wrapper},cFeature:"S",sFeature:"Scroller"}):alert("Warning: Scroller requires DataTables 1.9.0 or greater - www.datatables.net/download");a.fn.dataTable.Scroller=b;a.fn.DataTable.Scroller=b;if(a.fn.dataTable.Api){var c=a.fn.dataTable.Api;c.register("scroller()",function(){return this});c.register("scroller().rowToPixels()",function(l,m,d){var j=this.context;if(j.length&&j[0].oScroller){return j[0].oScroller.fnRowToPixels(l,m,d)}});c.register("scroller().pixelsToRow()",function(l,m,d){var j=this.context;if(j.length&&j[0].oScroller){return j[0].oScroller.fnPixelsToRow(l,m,d)}});c.register("scroller().scrollToRow()",function(d,i){this.iterator("table",function(j){j.oScroller&&j.oScroller.fnScrollToRow(d,i)});return this});c.register("scroller().measure()",function(d){this.iterator("table",function(i){i.oScroller&&i.oScroller.fnMeasure(d)});return this})}return b};"function"===typeof define&&define.amd?define(["jquery","datatables"],e):"object"===typeof exports?e(require("jquery"),require("datatables")):jQuery&&!jQuery.fn.dataTable.Scroller&&e(jQuery,jQuery.fn.dataTable)})(window,document);
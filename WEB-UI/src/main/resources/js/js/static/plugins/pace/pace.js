(function(){var ar,aE,aZ,az,aB,ap,aY,ac,aP,aW,aj,ae,ag,at,ad,ab,a1,an,aw,aA,ak,aV,aN,aL,am,aI,aJ,ai,ao,aF,aQ,aM,av,a2,aD,aU,aK,au,ax,aG,al,af,ah,aH,aO,aR,aq,aS,a0,ay=[].slice,aC={}.hasOwnProperty,aX=function(a,c){for(var d in c){if(aC.call(c,d)){a[d]=c[d]}}function b(){this.constructor=a}b.prototype=c.prototype;a.prototype=new b();a.__super__=c.prototype;return a},aT=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++){if(b in this&&this[b]===a){return b}}return -1};ak={catchupTime:100,initialRate:0.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:true,restartOnPushState:true,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:true,ignoreURLs:[]}};ao=function(){var a;return(a=typeof performance!=="undefined"&&performance!==null?typeof performance.now==="function"?performance.now():void 0:void 0)!=null?a:+(new Date)};aQ=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;aA=window.cancelAnimationFrame||window.mozCancelAnimationFrame;if(aQ==null){aQ=function(a){return setTimeout(a,50)};aA=function(a){return clearTimeout(a)}}av=function(b){var a,c;a=ao();c=function(){var d;d=ao()-a;if(d>=33){a=ao();return b(d,function(){return aQ(c)})}else{return setTimeout(c,33-d)}};return c()};aM=function(){var c,b,a;a=arguments[0],b=arguments[1],c=3<=arguments.length?ay.call(arguments,2):[];if(typeof a[b]==="function"){return a[b].apply(a,c)}else{return a[b]}};aV=function(){var d,e,b,f,a,c,g;e=arguments[0],f=2<=arguments.length?ay.call(arguments,1):[];for(c=0,g=f.length;c<g;c++){b=f[c];if(b){for(d in b){if(!aC.call(b,d)){continue}a=b[d];if((e[d]!=null)&&typeof e[d]==="object"&&(a!=null)&&typeof a==="object"){aV(e[d],a)}else{e[d]=a}}}}return e};a1=function(f){var b,c,d,a,e;c=b=0;for(a=0,e=f.length;a<e;a++){d=f[a];c+=Math.abs(d);b++}return c/b};aL=function(e,f){var c,b,d;if(e==null){e="options"}if(f==null){f=true}d=document.querySelector("[data-pace-"+e+"]");if(!d){return}c=d.getAttribute("data-pace-"+e);if(!f){return c}try{return JSON.parse(c)}catch(a){b=a;return typeof console!=="undefined"&&console!==null?console.error("Error parsing inline pace options",b):void 0}};aY=(function(){function a(){}a.prototype.on=function(b,c,f,d){var e;if(d==null){d=false}if(this.bindings==null){this.bindings={}}if((e=this.bindings)[b]==null){e[b]=[]}return this.bindings[b].push({handler:c,ctx:f,once:d})};a.prototype.once=function(b,c,d){return this.on(b,c,d,true)};a.prototype.off=function(c,d){var e,b,f;if(((b=this.bindings)!=null?b[c]:void 0)==null){return}if(d==null){return delete this.bindings[c]}else{e=0;f=[];while(e<this.bindings[c].length){if(this.bindings[c][e].handler===d){f.push(this.bindings[c].splice(e,1))}else{f.push(e++)}}return f}};a.prototype.trigger=function(){var d,b,j,c,e,i,f,g,h;j=arguments[0],d=2<=arguments.length?ay.call(arguments,1):[];if((f=this.bindings)!=null?f[j]:void 0){e=0;h=[];while(e<this.bindings[j].length){g=this.bindings[j][e],c=g.handler,b=g.ctx,i=g.once;c.apply(b!=null?b:this,d);if(i){h.push(this.bindings[j].splice(e,1))}else{h.push(e++)}}return h}};return a})();aW=window.Pace||{};window.Pace=aW;aV(aW,aY.prototype);aF=aW.options=aV({},ak,window.paceOptions,aL());aq=["ajax","document","eventLag","elements"];for(ah=0,aO=aq.length;ah<aO;ah++){aK=aq[ah];if(aF[aK]===true){aF[aK]=ak[aK]}}aP=(function(b){aX(a,b);function a(){aS=a.__super__.constructor.apply(this,arguments);return aS}return a})(Error);aE=(function(){function a(){this.progress=0}a.prototype.getElement=function(){var b;if(this.el==null){b=document.querySelector(aF.target);if(!b){throw new aP}this.el=document.createElement("div");this.el.className="pace pace-active";document.body.className=document.body.className.replace(/pace-done/g,"");document.body.className+=" pace-running";this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>';if(b.firstChild!=null){b.insertBefore(this.el,b.firstChild)}else{b.appendChild(this.el)}}return this.el};a.prototype.finish=function(){var b;b=this.getElement();b.className=b.className.replace("pace-active","");b.className+=" pace-inactive";document.body.className=document.body.className.replace("pace-running","");return document.body.className+=" pace-done"};a.prototype.update=function(b){this.progress=b;return this.render()};a.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(b){aP=b}return this.el=void 0};a.prototype.render=function(){var d,e,h,f,c,g,b;if(document.querySelector(aF.target)==null){return false}d=this.getElement();f="translate3d("+this.progress+"%, 0, 0)";b=["webkitTransform","msTransform","transform"];for(c=0,g=b.length;c<g;c++){e=b[c];d.children[0].style[e]=f}if(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0){d.children[0].setAttribute("data-progress-text",""+(this.progress|0)+"%");if(this.progress>=100){h="99"}else{h=this.progress<10?"0":"";h+=this.progress|0}d.children[0].setAttribute("data-progress",""+h)}return this.lastRenderedProgress=this.progress};a.prototype.done=function(){return this.progress>=100};return a})();ac=(function(){function a(){this.bindings={}}a.prototype.trigger=function(f,c){var d,e,g,b,h;if(this.bindings[f]!=null){b=this.bindings[f];h=[];for(e=0,g=b.length;e<g;e++){d=b[e];h.push(d.call(this,c))}return h}};a.prototype.on=function(d,b){var c;if((c=this.bindings)[d]==null){c[d]=[]}return this.bindings[d].push(b)};return a})();af=window.XMLHttpRequest;al=window.XDomainRequest;aG=window.WebSocket;aN=function(a,b){var d,e,f;f=[];for(e in b.prototype){try{if((a[e]==null)&&typeof b[e]!=="function"){if(typeof Object.defineProperty==="function"){f.push(Object.defineProperty(a,e,{get:function(){return b.prototype[e]},configurable:true,enumerable:true}))}else{f.push(a[e]=b.prototype[e])}}else{f.push(void 0)}}catch(c){d=c}}return f};aJ=[];aW.ignore=function(){var b,a,c;a=arguments[0],b=2<=arguments.length?ay.call(arguments,1):[];aJ.unshift("ignore");c=a.apply(null,b);aJ.shift();return c};aW.track=function(){var b,a,c;a=arguments[0],b=2<=arguments.length?ay.call(arguments,1):[];aJ.unshift("track");c=a.apply(null,b);aJ.shift();return c};aU=function(a){var b;if(a==null){a="GET"}if(aJ[0]==="track"){return"force"}if(!aJ.length&&aF.ajax){if(a==="socket"&&aF.ajax.trackWebSockets){return true}else{if(b=a.toUpperCase(),aT.call(aF.ajax.trackMethods,b)>=0){return true}}}return false};aj=(function(b){aX(a,b);function a(){var e,c=this;a.__super__.constructor.apply(this,arguments);e=function(f){var g;g=f.open;return f.open=function(i,h,j){if(aU(i)){c.trigger("request",{type:i,url:h,request:f})}return g.apply(f,arguments)}};window.XMLHttpRequest=function(g){var f;f=new af(g);e(f);return f};try{aN(window.XMLHttpRequest,af)}catch(d){}if(al!=null){window.XDomainRequest=function(){var f;f=new al;e(f);return f};try{aN(window.XDomainRequest,al)}catch(d){}}if((aG!=null)&&aF.ajax.trackWebSockets){window.WebSocket=function(h,f){var g;if(f!=null){g=new aG(h,f)}else{g=new aG(h)}if(aU("socket")){c.trigger("request",{type:"socket",url:h,protocols:f,request:g})}return g};try{aN(window.WebSocket,aG)}catch(d){}}}return a})(ac);aH=null;am=function(){if(aH==null){aH=new aj}return aH};aD=function(d){var b,c,e,a;a=aF.ajax.ignoreURLs;for(c=0,e=a.length;c<e;c++){b=a[c];if(typeof b==="string"){if(d.indexOf(b)!==-1){return true}}else{if(b.test(d)){return true}}}return false};am().on("request",function(f){var a,d,b,c,e;c=f.type,b=f.request,e=f.url;if(aD(e)){return}if(!aW.running&&(aF.restartOnRequestAfter!==false||aU(c)==="force")){d=arguments;a=aF.restartOnRequestAfter||0;if(typeof a==="boolean"){a=0}return setTimeout(function(){var l,k,g,i,j,h;if(c==="socket"){l=b.readyState<2}else{l=(0<(i=b.readyState)&&i<4)}if(l){aW.restart();j=aW.sources;h=[];for(k=0,g=j.length;k<g;k++){aK=j[k];if(aK instanceof ar){aK.watch.apply(aK,d);break}else{h.push(void 0)}}return h}},a)}});ar=(function(){function a(){var b=this;this.elements=[];am().on("request",function(){return b.watch.apply(b,arguments)})}a.prototype.watch=function(f){var b,c,d,e;d=f.type,b=f.request,e=f.url;if(aD(e)){return}if(d==="socket"){c=new at(b)}else{c=new ad(b)}return this.elements.push(c)};return a})();ad=(function(){function a(c){var d,g,e,h,f,i,b=this;this.progress=0;if(window.ProgressEvent!=null){g=null;c.addEventListener("progress",function(j){if(j.lengthComputable){return b.progress=100*j.loaded/j.total}else{return b.progress=b.progress+(100-b.progress)/2}},false);i=["load","abort","timeout","error"];for(e=0,h=i.length;e<h;e++){d=i[e];c.addEventListener(d,function(){return b.progress=100},false)}}else{f=c.onreadystatechange;c.onreadystatechange=function(){var j;if((j=c.readyState)===0||j===4){b.progress=100}else{if(c.readyState===3){b.progress=50}}return typeof f==="function"?f.apply(null,arguments):void 0}}}return a})();at=(function(){function a(d){var e,f,g,b,c=this;this.progress=0;b=["error","open"];for(f=0,g=b.length;f<g;f++){e=b[f];d.addEventListener(e,function(){return c.progress=100},false)}}return a})();az=(function(){function a(d){var f,c,e,b;if(d==null){d={}}this.elements=[];if(d.selectors==null){d.selectors=[]}b=d.selectors;for(c=0,e=b.length;c<e;c++){f=b[c];this.elements.push(new aB(f))}}return a})();aB=(function(){function a(b){this.selector=b;this.progress=0;this.check()}a.prototype.check=function(){var b=this;if(document.querySelector(this.selector)){return this.done()}else{return setTimeout((function(){return b.check()}),aF.elements.checkInterval)}};a.prototype.done=function(){return this.progress=100};return a})();aZ=(function(){a.prototype.states={loading:0,interactive:50,complete:100};function a(){var d,b,c=this;this.progress=(b=this.states[document.readyState])!=null?b:100;d=document.onreadystatechange;document.onreadystatechange=function(){if(c.states[document.readyState]!=null){c.progress=c.states[document.readyState]}return typeof d==="function"?d.apply(null,arguments):void 0}}return a})();ap=(function(){function a(){var c,g,d,e,f,b=this;this.progress=0;c=0;f=[];e=0;d=ao();g=setInterval(function(){var h;h=ao()-d-50;d=ao();f.push(h);if(f.length>aF.eventLag.sampleCount){f.shift()}c=a1(f);if(++e>=aF.eventLag.minSamples&&c<aF.eventLag.lagThreshold){b.progress=100;return clearInterval(g)}else{return b.progress=100*(3/(c+3))}},50)}return a})();ag=(function(){function a(b){this.source=b;this.last=this.sinceLastUpdate=0;this.rate=aF.initialRate;this.catchup=0;this.progress=this.lastProgress=0;if(this.source!=null){this.progress=aM(this.source,"progress")}}a.prototype.tick=function(c,b){var d;if(b==null){b=aM(this.source,"progress")}if(b>=100){this.done=true}if(b===this.last){this.sinceLastUpdate+=c}else{if(this.sinceLastUpdate){this.rate=(b-this.last)/this.sinceLastUpdate}this.catchup=(b-this.progress)/aF.catchupTime;this.sinceLastUpdate=0;this.last=b}if(b>this.progress){this.progress+=this.catchup*c}d=1-Math.pow(this.progress/100,aF.easeFactor);this.progress+=d*this.rate*c;this.progress=Math.min(this.lastProgress+aF.maxProgressPerFrame,this.progress);this.progress=Math.max(0,this.progress);this.progress=Math.min(100,this.progress);this.lastProgress=this.progress;return this.progress};return a})();au=null;a2=null;an=null;ax=null;ab=null;aw=null;aW.running=false;aI=function(){if(aF.restartOnPushState){return aW.restart()}};if(window.history.pushState!=null){aR=window.history.pushState;window.history.pushState=function(){aI();return aR.apply(window.history,arguments)}}if(window.history.replaceState!=null){a0=window.history.replaceState;window.history.replaceState=function(){aI();return a0.apply(window.history,arguments)}}ae={ajax:ar,elements:az,document:aZ,eventLag:ap};(ai=function(){var e,d,f,g,h,a,b,c;aW.sources=au=[];a=["ajax","elements","document","eventLag"];for(d=0,g=a.length;d<g;d++){e=a[d];if(aF[e]!==false){au.push(new ae[e](aF[e]))}}c=(b=aF.extraSources)!=null?b:[];for(f=0,h=c.length;f<h;f++){aK=c[f];au.push(new aK(aF))}aW.bar=an=new aE;a2=[];return ax=new ag})();aW.stop=function(){aW.trigger("stop");aW.running=false;an.destroy();aw=true;if(ab!=null){if(typeof aA==="function"){aA(ab)}ab=null}return ai()};aW.restart=function(){aW.trigger("restart");aW.stop();return aW.start()};aW.go=function(){var a;aW.running=true;an.render();a=ao();aw=false;return ab=av(function(j,r){var f,m,g,p,i,d,e,h,l,k,n,q,s,b,c,o;h=100-an.progress;m=n=0;g=true;for(d=q=0,b=au.length;q<b;d=++q){aK=au[d];k=a2[d]!=null?a2[d]:a2[d]=[];i=(o=aK.elements)!=null?o:[aK];for(e=s=0,c=i.length;s<c;e=++s){p=i[e];l=k[e]!=null?k[e]:k[e]=new ag(p);g&=l.done;if(l.done){continue}m++;n+=l.tick(j)}}f=n/m;an.update(ax.tick(j,f));if(an.done()||g||aw){an.update(100);aW.trigger("done");return setTimeout(function(){an.finish();aW.running=false;return aW.trigger("hide")},Math.max(aF.ghostTime,Math.max(aF.minTime-(ao()-a),0)))}else{return r()}})};aW.start=function(b){aV(aF,b);aW.running=true;try{an.render()}catch(a){aP=a}if(!document.querySelector(".pace")){return setTimeout(aW.start,50)}else{aW.trigger("start");return aW.go()}};if(typeof define==="function"&&define.amd){define(["pace"],function(){return aW})}else{if(typeof exports==="object"){module.exports=aW}else{if(aF.startOnPageLoad){aW.start()}}}}).call(this);
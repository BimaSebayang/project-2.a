/*!
 * Chart.js
 * http://chartjs.org/
 * Version: 1.0.2
 *
 * Copyright 2015 Nick Downie
 * Released under the MIT license
 * https://github.com/nnnick/Chart.js/blob/master/LICENSE.md
 */
(function(){var c=this,B=c.Chart,w=function(j){this.canvas=j.canvas,this.ctx=j;var q=function(G,H){return G["offset"+H]?G["offset"+H]:document.defaultView.getComputedStyle(G).getPropertyValue(H)},E=this.width=q(j.canvas,"Width"),D=this.height=q(j.canvas,"Height");j.canvas.width=E,j.canvas.height=D;var E=this.width=j.canvas.width,D=this.height=j.canvas.height;return this.aspectRatio=this.width/this.height,b.retinaScale(this),this};w.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,customTooltips:!1,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",onAnimationProgress:function(){},onAnimationComplete:function(){}}},w.types={};var b=w.helpers={},M=b.each=function(j,q,G){var H=Array.prototype.slice.call(arguments,3);if(j){if(j.length===+j.length){var D;for(D=0;D<j.length;D++){q.apply(G,[j[D],D].concat(H))}}else{for(var E in j){q.apply(G,[j[E],E].concat(H))}}}},P=b.clone=function(j){var q={};return M(j,function(D,E){j.hasOwnProperty(E)&&(q[E]=D)}),q},s=b.extend=function(j){return M(Array.prototype.slice.call(arguments,1),function(q){M(q,function(D,E){q.hasOwnProperty(E)&&(j[E]=D)})}),j},A=b.merge=function(){var j=Array.prototype.slice.call(arguments,0);return j.unshift({}),s.apply(null,j)},F=b.indexOf=function(j,q){if(Array.prototype.indexOf){return j.indexOf(q)}for(var D=0;D<j.length;D++){if(j[D]===q){return D}}return -1},W=(b.where=function(j,q){var D=[];return b.each(j,function(E){q(E)&&D.push(E)}),D},b.findNextWhere=function(j,q,E){E||(E=-1);for(var G=E+1;G<j.length;G++){var D=j[G];if(q(D)){return D}}},b.findPreviousWhere=function(j,q,E){E||(E=j.length);for(var G=E-1;G>=0;G--){var D=j[G];if(q(D)){return D}}},b.inherits=function(j){var q=this,D=j&&j.hasOwnProperty("constructor")?j.constructor:function(){return q.apply(this,arguments)},E=function(){this.constructor=D};return E.prototype=q.prototype,D.prototype=new E,D.extend=W,j&&s(D.prototype,j),D.__super__=q.prototype,D}),u=b.noop=function(){},d=b.uid=function(){var j=0;return function(){return"chart-"+j++}}(),v=b.warn=function(j){window.console&&"function"==typeof window.console.warn&&console.warn(j)},R=b.amd="function"==typeof define&&define.amd,x=b.isNumber=function(j){return !isNaN(parseFloat(j))&&isFinite(j)},y=b.max=function(j){return Math.max.apply(Math,j)},L=b.min=function(j){return Math.min.apply(Math,j)},f=(b.cap=function(j,q,D){if(x(q)){if(j>q){return q}}else{if(x(D)&&D>j){return D}}return j},b.getDecimalPlaces=function(j){return j%1!==0&&x(j)?j.toString().split(".")[1].length:0}),p=b.radians=function(j){return j*(Math.PI/180)},h=(b.getAngleFromPoint=function(j,q){var G=q.x-j.x,H=q.y-j.y,D=Math.sqrt(G*G+H*H),E=2*Math.PI+Math.atan2(H,G);return 0>G&&0>H&&(E+=2*Math.PI),{angle:E,distance:D}},b.aliasPixel=function(j){return j%2===0?0:0.5}),i=(b.splineCurve=function(I,J,E,G){var q=Math.sqrt(Math.pow(J.x-I.x,2)+Math.pow(J.y-I.y,2)),D=Math.sqrt(Math.pow(E.x-J.x,2)+Math.pow(E.y-J.y,2)),j=G*q/(q+D),H=G*D/(q+D);return{inner:{x:J.x-j*(E.x-I.x),y:J.y-j*(E.y-I.y)},outer:{x:J.x+H*(E.x-I.x),y:J.y+H*(E.y-I.y)}}},b.calculateOrderOfMagnitude=function(j){return Math.floor(Math.log(j)/Math.LN10)}),a=(b.calculateScaleRange=function(I,V,q,G,E){var H=2,Q=Math.floor(V/(1.5*q)),O=H>=Q,Y=y(I),U=L(I);Y===U&&(Y+=0.5,U>=0.5&&!G?U-=0.5:Y+=0.5);for(var Z=Math.abs(Y-U),K=i(Z),j=Math.ceil(Y/(1*Math.pow(10,K)))*Math.pow(10,K),J=G?0:Math.floor(U/(1*Math.pow(10,K)))*Math.pow(10,K),D=j-J,N=Math.pow(10,K),X=Math.round(D/N);(X>Q||Q>2*X)&&!O;){if(X>Q){N*=2,X=Math.round(D/N),X%1!==0&&(O=!0)}else{if(E&&K>=0){if(N/2%1!==0){break}N/=2,X=Math.round(D/N)}else{N/=2,X=Math.round(D/N)}}}return O&&(X=H,N=D/X),{steps:X,stepValue:N,min:J,max:J+X*N}},b.template=function(j,q){function D(H,I){var G=/\W/.test(H)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+H.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):E[H]=E[H];return I?G(I):G}if(j instanceof Function){return j(q)}var E={};return D(j,q)}),g=(b.generateLabels=function(j,q,E,G){var D=new Array(q);return labelTemplateString&&M(D,function(I,H){D[H]=a(j,{value:E+G*(H+1)})}),D},b.easingEffects={linear:function(j){return j},easeInQuad:function(j){return j*j},easeOutQuad:function(j){return -1*j*(j-2)},easeInOutQuad:function(j){return(j/=0.5)<1?0.5*j*j:-0.5*(--j*(j-2)-1)},easeInCubic:function(j){return j*j*j},easeOutCubic:function(j){return 1*((j=j/1-1)*j*j+1)},easeInOutCubic:function(j){return(j/=0.5)<1?0.5*j*j*j:0.5*((j-=2)*j*j+2)},easeInQuart:function(j){return j*j*j*j},easeOutQuart:function(j){return -1*((j=j/1-1)*j*j*j-1)},easeInOutQuart:function(j){return(j/=0.5)<1?0.5*j*j*j*j:-0.5*((j-=2)*j*j*j-2)},easeInQuint:function(j){return 1*(j/=1)*j*j*j*j},easeOutQuint:function(j){return 1*((j=j/1-1)*j*j*j*j+1)},easeInOutQuint:function(j){return(j/=0.5)<1?0.5*j*j*j*j*j:0.5*((j-=2)*j*j*j*j+2)},easeInSine:function(j){return -1*Math.cos(j/1*(Math.PI/2))+1},easeOutSine:function(j){return 1*Math.sin(j/1*(Math.PI/2))},easeInOutSine:function(j){return -0.5*(Math.cos(Math.PI*j/1)-1)},easeInExpo:function(j){return 0===j?1:1*Math.pow(2,10*(j/1-1))},easeOutExpo:function(j){return 1===j?1:1*(-Math.pow(2,-10*j/1)+1)},easeInOutExpo:function(j){return 0===j?0:1===j?1:(j/=0.5)<1?0.5*Math.pow(2,10*(j-1)):0.5*(-Math.pow(2,-10*--j)+2)},easeInCirc:function(j){return j>=1?j:-1*(Math.sqrt(1-(j/=1)*j)-1)},easeOutCirc:function(j){return 1*Math.sqrt(1-(j=j/1-1)*j)},easeInOutCirc:function(j){return(j/=0.5)<1?-0.5*(Math.sqrt(1-j*j)-1):0.5*(Math.sqrt(1-(j-=2)*j)+1)},easeInElastic:function(j){var q=1.70158,D=0,E=1;return 0===j?0:1==(j/=1)?1:(D||(D=0.3),E<Math.abs(1)?(E=1,q=D/4):q=D/(2*Math.PI)*Math.asin(1/E),-(E*Math.pow(2,10*(j-=1))*Math.sin(2*(1*j-q)*Math.PI/D)))},easeOutElastic:function(j){var q=1.70158,D=0,E=1;return 0===j?0:1==(j/=1)?1:(D||(D=0.3),E<Math.abs(1)?(E=1,q=D/4):q=D/(2*Math.PI)*Math.asin(1/E),E*Math.pow(2,-10*j)*Math.sin(2*(1*j-q)*Math.PI/D)+1)},easeInOutElastic:function(j){var q=1.70158,D=0,E=1;return 0===j?0:2==(j/=0.5)?1:(D||(D=0.3*1.5),E<Math.abs(1)?(E=1,q=D/4):q=D/(2*Math.PI)*Math.asin(1/E),1>j?-0.5*E*Math.pow(2,10*(j-=1))*Math.sin(2*(1*j-q)*Math.PI/D):E*Math.pow(2,-10*(j-=1))*Math.sin(2*(1*j-q)*Math.PI/D)*0.5+1)},easeInBack:function(j){var q=1.70158;return 1*(j/=1)*j*((q+1)*j-q)},easeOutBack:function(j){var q=1.70158;return 1*((j=j/1-1)*j*((q+1)*j+q)+1)},easeInOutBack:function(j){var q=1.70158;return(j/=0.5)<1?0.5*j*j*(((q*=1.525)+1)*j-q):0.5*((j-=2)*j*(((q*=1.525)+1)*j+q)+2)},easeInBounce:function(j){return 1-g.easeOutBounce(1-j)},easeOutBounce:function(j){return(j/=1)<1/2.75?7.5625*j*j:2/2.75>j?1*(7.5625*(j-=1.5/2.75)*j+0.75):2.5/2.75>j?1*(7.5625*(j-=2.25/2.75)*j+0.9375):1*(7.5625*(j-=2.625/2.75)*j+0.984375)},easeInOutBounce:function(j){return 0.5>j?0.5*g.easeInBounce(2*j):0.5*g.easeOutBounce(2*j-1)+0.5}}),t=b.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(j){return window.setTimeout(j,1000/60)}}(),n=b.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(j){return window.clearTimeout(j,1000/60)}}(),l=(b.animationLoop=function(q,H,E,j,J,K){var D=0,G=g[E]||g.linear,I=function(){D++;var O=D/H,N=G(O);q.call(K,N,O,D),j.call(K,N,O),H>D?K.animationFrame=t(I):J.apply(K)};t(I)},b.getRelativePosition=function(j){var q,G,H=j.originalEvent||j,D=j.currentTarget||j.srcElement,E=D.getBoundingClientRect();return H.touches?(q=H.touches[0].clientX-E.left,G=H.touches[0].clientY-E.top):(q=H.clientX-E.left,G=H.clientY-E.top),{x:q,y:G}},b.addEvent=function(j,q,D){j.addEventListener?j.addEventListener(q,D):j.attachEvent?j.attachEvent("on"+q,D):j["on"+q]=D}),C=b.removeEvent=function(j,q,D){j.removeEventListener?j.removeEventListener(q,D,!1):j.detachEvent?j.detachEvent("on"+q,D):j["on"+q]=u},e=(b.bindEvents=function(j,q,D){j.events||(j.events={}),M(q,function(E){j.events[E]=function(){D.apply(j,arguments)},l(j.chart.canvas,E,j.events[E])})},b.unbindEvents=function(j,q){M(q,function(E,D){C(j.chart.canvas,D,E)})}),o=b.getMaximumWidth=function(j){var q=j.parentNode;return q.clientWidth},r=b.getMaximumHeight=function(j){var q=j.parentNode;return q.clientHeight},S=(b.getMaximumSize=b.getMaximumWidth,b.retinaScale=function(j){var q=j.ctx,D=j.canvas.width,E=j.canvas.height;window.devicePixelRatio&&(q.canvas.style.width=D+"px",q.canvas.style.height=E+"px",q.canvas.height=E*window.devicePixelRatio,q.canvas.width=D*window.devicePixelRatio,q.scale(window.devicePixelRatio,window.devicePixelRatio))}),m=b.clear=function(j){j.ctx.clearRect(0,0,j.width,j.height)},z=b.fontString=function(j,q,D){return q+" "+j+"px "+D},k=b.longestText=function(j,q,D){j.font=q;var E=0;return M(D,function(H){var G=j.measureText(H).width;E=G>E?G:E}),E},T=b.drawRoundedRectangle=function(j,q,G,H,D,E){j.beginPath(),j.moveTo(q+E,G),j.lineTo(q+H-E,G),j.quadraticCurveTo(q+H,G,q+H,G+E),j.lineTo(q+H,G+D-E),j.quadraticCurveTo(q+H,G+D,q+H-E,G+D),j.lineTo(q+E,G+D),j.quadraticCurveTo(q,G+D,q,G+D-E),j.lineTo(q,G+E),j.quadraticCurveTo(q,G,q+E,G),j.closePath()};w.instances={},w.Type=function(j,q,D){this.options=q,this.chart=D,this.id=d(),w.instances[this.id]=this,q.responsive&&this.resize(),this.initialize.call(this,j)},s(w.Type.prototype,{initialize:function(){return this},clear:function(){return m(this.chart),this},stop:function(){return n(this.animationFrame),this},resize:function(j){this.stop();var q=this.chart.canvas,D=o(this.chart.canvas),E=this.options.maintainAspectRatio?D/this.chart.aspectRatio:r(this.chart.canvas);return q.width=this.chart.width=D,q.height=this.chart.height=E,S(this.chart),"function"==typeof j&&j.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:u,render:function(j){return j&&this.reflow(),this.options.animation&&!j?b.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this):(this.draw(),this.options.onAnimationComplete.call(this)),this},generateLegend:function(){return a(this.options.legendTemplate,this)},destroy:function(){this.clear(),e(this,this.events);var j=this.chart.canvas;j.width=this.chart.width,j.height=this.chart.height,j.style.removeProperty?(j.style.removeProperty("width"),j.style.removeProperty("height")):(j.style.removeAttribute("width"),j.style.removeAttribute("height")),delete w.instances[this.id]},showTooltip:function(j,I){"undefined"==typeof this.activeElements&&(this.activeElements=[]);var J=function(O){var N=!1;return O.length!==this.activeElements.length?N=!0:(M(O,function(U,Q){U!==this.activeElements[Q]&&(N=!0)},this),N)}.call(this,j);if(J||I){if(this.activeElements=j,this.draw(),this.options.customTooltips&&this.options.customTooltips(!1),j.length>0){if(this.datasets&&this.datasets.length>1){for(var D,H,K=this.datasets.length-1;K>=0&&(D=this.datasets[K].points||this.datasets[K].bars||this.datasets[K].segments,H=F(D,j[0]),-1===H);K--){}var E=[],q=[],G=function(){var X,V,Q,N,O,Y=[],Z=[],U=[];return b.each(this.datasets,function(aa){X=aa.points||aa.bars||aa.segments,X[H]&&X[H].hasValue()&&Y.push(X[H])}),b.each(Y,function(aa){Z.push(aa.x),U.push(aa.y),E.push(b.template(this.options.multiTooltipTemplate,aa)),q.push({fill:aa._saved.fillColor||aa.fillColor,stroke:aa._saved.strokeColor||aa.strokeColor})},this),O=L(U),Q=y(U),N=L(Z),V=y(Z),{x:N>this.chart.width/2?N:V,y:(O+Q)/2}}.call(this,H);new w.MultiTooltip({x:G.x,y:G.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:E,legendColors:q,legendColorBackground:this.options.multiTooltipKeyBackground,title:j[0].label,chart:this.chart,ctx:this.chart.ctx,custom:this.options.customTooltips}).draw()}else{M(j,function(O){var N=O.tooltipPosition();new w.Tooltip({x:Math.round(N.x),y:Math.round(N.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:a(this.options.tooltipTemplate,O),chart:this.chart,custom:this.options.customTooltips}).draw()},this)}}return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),w.Type.extend=function(G){var j=this,E=function(){return j.apply(this,arguments)};if(E.prototype=P(j.prototype),s(E.prototype,G),E.extend=w.Type.extend,G.name||j.prototype.name){var D=G.name||j.prototype.name,q=w.defaults[j.prototype.name]?P(w.defaults[j.prototype.name]):{};w.defaults[D]=s(q,G.defaults),w.types[D]=E,w.prototype[D]=function(I,J){var H=A(w.defaults.global,w.defaults[D],J||{});return new E(I,H,this)}}else{v("Name not provided for this chart, so it hasn't been registered")}return j},w.Element=function(j){s(this,j),this.initialize.apply(this,arguments),this.save()},s(w.Element.prototype,{initialize:function(){},restore:function(j){return j?M(j,function(q){this[q]=this._saved[q]},this):s(this,this._saved),this},save:function(){return this._saved=P(this),delete this._saved._saved,this},update:function(j){return M(j,function(D,q){this._saved[q]=this[q],this[q]=D},this),this},transition:function(j,q){return M(j,function(E,D){this[D]=(E-this._saved[D])*q+this._saved[D]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return x(this.value)}}),w.Element.extend=W,w.Point=w.Element.extend({display:!0,inRange:function(j,q){var D=this.hitDetectionRadius+this.radius;return Math.pow(j-this.x,2)+Math.pow(q-this.y,2)<Math.pow(D,2)},draw:function(){if(this.display){var j=this.ctx;j.beginPath(),j.arc(this.x,this.y,this.radius,0,2*Math.PI),j.closePath(),j.strokeStyle=this.strokeColor,j.lineWidth=this.strokeWidth,j.fillStyle=this.fillColor,j.fill(),j.stroke()}}}),w.Arc=w.Element.extend({inRange:function(j,q){var G=b.getAngleFromPoint(this,{x:j,y:q}),D=G.angle>=this.startAngle&&G.angle<=this.endAngle,E=G.distance>=this.innerRadius&&G.distance<=this.outerRadius;return D&&E},tooltipPosition:function(){var j=this.startAngle+(this.endAngle-this.startAngle)/2,q=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(j)*q,y:this.y+Math.sin(j)*q}},draw:function(j){var q=this.ctx;q.beginPath(),q.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle),q.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,!0),q.closePath(),q.strokeStyle=this.strokeColor,q.lineWidth=this.strokeWidth,q.fillStyle=this.fillColor,q.fill(),q.lineJoin="bevel",this.showStroke&&q.stroke()}}),w.Rectangle=w.Element.extend({draw:function(){var j=this.ctx,q=this.width/2,G=this.x-q,H=this.x+q,D=this.base-(this.base-this.y),E=this.strokeWidth/2;this.showStroke&&(G+=E,H-=E,D+=E),j.beginPath(),j.fillStyle=this.fillColor,j.strokeStyle=this.strokeColor,j.lineWidth=this.strokeWidth,j.moveTo(G,this.base),j.lineTo(G,D),j.lineTo(H,D),j.lineTo(H,this.base),j.fill(),this.showStroke&&j.stroke()},height:function(){return this.base-this.y},inRange:function(j,q){return j>=this.x-this.width/2&&j<=this.x+this.width/2&&q>=this.y&&q<=this.base}}),w.Tooltip=w.Element.extend({draw:function(){var H=this.chart.ctx;H.font=z(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var I=this.caretPadding=2,E=H.measureText(this.text).width+2*this.xPadding,G=this.fontSize+2*this.yPadding,q=G+this.caretHeight+I;this.x+E/2>this.chart.width?this.xAlign="left":this.x-E/2<0&&(this.xAlign="right"),this.y-q<0&&(this.yAlign="below");var D=this.x-E/2,j=this.y-q;if(H.fillStyle=this.fillColor,this.custom){this.custom(this)}else{switch(this.yAlign){case"above":H.beginPath(),H.moveTo(this.x,this.y-I),H.lineTo(this.x+this.caretHeight,this.y-(I+this.caretHeight)),H.lineTo(this.x-this.caretHeight,this.y-(I+this.caretHeight)),H.closePath(),H.fill();break;case"below":j=this.y+I+this.caretHeight,H.beginPath(),H.moveTo(this.x,this.y+I),H.lineTo(this.x+this.caretHeight,this.y+I+this.caretHeight),H.lineTo(this.x-this.caretHeight,this.y+I+this.caretHeight),H.closePath(),H.fill()}switch(this.xAlign){case"left":D=this.x-E+(this.cornerRadius+this.caretHeight);break;case"right":D=this.x-(this.cornerRadius+this.caretHeight)}T(H,D,j,E,G,this.cornerRadius),H.fill(),H.fillStyle=this.textColor,H.textAlign="center",H.textBaseline="middle",H.fillText(this.text,D+E/2,j+G/2)}}}),w.MultiTooltip=w.Element.extend({initialize:function(){this.font=z(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=z(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+1.5*this.titleFontSize,this.ctx.font=this.titleFont;var j=this.ctx.measureText(this.title).width,q=k(this.ctx,this.font,this.labels)+this.fontSize+3,D=y([q,j]);this.width=D+2*this.xPadding;var E=this.height/2;this.y-E<0?this.y=E:this.y+E>this.chart.height&&(this.y=this.chart.height-E),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(j){var q=this.y-this.height/2+this.yPadding,D=j-1;return 0===j?q+this.titleFontSize/2:q+(1.5*this.fontSize*D+this.fontSize/2)+1.5*this.titleFontSize},draw:function(){if(this.custom){this.custom(this)}else{T(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var j=this.ctx;j.fillStyle=this.fillColor,j.fill(),j.closePath(),j.textAlign="left",j.textBaseline="middle",j.fillStyle=this.titleTextColor,j.font=this.titleFont,j.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),j.font=this.font,b.each(this.labels,function(q,D){j.fillStyle=this.textColor,j.fillText(q,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(D+1)),j.fillStyle=this.legendColorBackground,j.fillRect(this.x+this.xPadding,this.getLineHeight(D+1)-this.fontSize/2,this.fontSize,this.fontSize),j.fillStyle=this.legendColors[D].fill,j.fillRect(this.x+this.xPadding,this.getLineHeight(D+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}}),w.Scale=w.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var j=f(this.stepValue),q=0;q<=this.steps;q++){this.yLabels.push(a(this.templateString,{value:(this.min+q*this.stepValue).toFixed(j)}))}this.yLabelWidth=this.display&&this.showLabels?k(this.ctx,this.font,this.yLabels):0},addXLabel:function(j){this.xLabels.push(j),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var j,q=this.endPoint-this.startPoint;for(this.calculateYRange(q),this.buildYLabels(),this.calculateXLabelRotation();q>this.endPoint-this.startPoint;){q=this.endPoint-this.startPoint,j=this.yLabelWidth,this.calculateYRange(q),this.buildYLabels(),j<this.yLabelWidth&&this.calculateXLabelRotation()}},calculateXLabelRotation:function(){this.ctx.font=this.font;var H,I,E=this.ctx.measureText(this.xLabels[0]).width,G=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=G/2+3,this.xScalePaddingLeft=E/2>this.yLabelWidth+10?E/2:this.yLabelWidth+10,this.xLabelRotation=0,this.display){var q,D=k(this.ctx,this.font,this.xLabels);this.xLabelWidth=D;for(var j=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>j&&0===this.xLabelRotation||this.xLabelWidth>j&&this.xLabelRotation<=90&&this.xLabelRotation>0;){q=Math.cos(p(this.xLabelRotation)),H=q*E,I=q*G,H+this.fontSize/2>this.yLabelWidth+8&&(this.xScalePaddingLeft=H+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=q*D}this.xLabelRotation>0&&(this.endPoint-=Math.sin(p(this.xLabelRotation))*D+3)}else{this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding}},calculateYRange:u,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(j){var q=this.drawingArea()/(this.min-this.max);return this.endPoint-q*(j-this.min)},calculateX:function(j){var q=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),D=q/Math.max(this.valuesCount-(this.offsetGridLines?0:1),1),E=D*j+this.xScalePaddingLeft;return this.offsetGridLines&&(E+=D/2),Math.round(E)},update:function(j){b.extend(this,j),this.fit()},draw:function(){var j=this.ctx,q=(this.endPoint-this.startPoint)/this.steps,D=Math.round(this.xScalePaddingLeft);this.display&&(j.fillStyle=this.textColor,j.font=this.font,M(this.yLabels,function(E,G){var I=this.endPoint-q*G,H=Math.round(I),J=this.showHorizontalLines;j.textAlign="right",j.textBaseline="middle",this.showLabels&&j.fillText(E,D-10,I),0!==G||J||(J=!0),J&&j.beginPath(),G>0?(j.lineWidth=this.gridLineWidth,j.strokeStyle=this.gridLineColor):(j.lineWidth=this.lineWidth,j.strokeStyle=this.lineColor),H+=b.aliasPixel(j.lineWidth),J&&(j.moveTo(D,H),j.lineTo(this.width,H),j.stroke(),j.closePath()),j.lineWidth=this.lineWidth,j.strokeStyle=this.lineColor,j.beginPath(),j.moveTo(D-5,H),j.lineTo(D,H),j.stroke(),j.closePath()},this),M(this.xLabels,function(J,H){var I=this.calculateX(H)+h(this.lineWidth),E=this.calculateX(H-(this.offsetGridLines?0.5:0))+h(this.lineWidth),G=this.xLabelRotation>0,K=this.showVerticalLines;0!==H||K||(K=!0),K&&j.beginPath(),H>0?(j.lineWidth=this.gridLineWidth,j.strokeStyle=this.gridLineColor):(j.lineWidth=this.lineWidth,j.strokeStyle=this.lineColor),K&&(j.moveTo(E,this.endPoint),j.lineTo(E,this.startPoint-3),j.stroke(),j.closePath()),j.lineWidth=this.lineWidth,j.strokeStyle=this.lineColor,j.beginPath(),j.moveTo(E,this.endPoint),j.lineTo(E,this.endPoint+5),j.stroke(),j.closePath(),j.save(),j.translate(I,G?this.endPoint+12:this.endPoint+8),j.rotate(-1*p(this.xLabelRotation)),j.font=this.font,j.textAlign=G?"right":"center",j.textBaseline=G?"middle":"top",j.fillText(J,0,0),j.restore()},this))}}),w.RadialScale=w.Element.extend({initialize:function(){this.size=L([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(j){var q=this.drawingArea/(this.max-this.min);return(j-this.min)*q},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var j=f(this.stepValue),q=0;q<=this.steps;q++){this.yLabels.push(a(this.templateString,{value:(this.min+q*this.stepValue).toFixed(j)}))}},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var K,U,J,I,E,G,j,Q,V,O,q,X,D=L([this.height/2-this.pointLabelFontSize-5,this.width/2]),H=this.width,N=0;for(this.ctx.font=z(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),U=0;U<this.valuesCount;U++){K=this.getPointPosition(U,D),J=this.ctx.measureText(a(this.templateString,{value:this.labels[U]})).width+5,0===U||U===this.valuesCount/2?(I=J/2,K.x+I>H&&(H=K.x+I,E=U),K.x-I<N&&(N=K.x-I,j=U)):U<this.valuesCount/2?K.x+J>H&&(H=K.x+J,E=U):U>this.valuesCount/2&&K.x-J<N&&(N=K.x-J,j=U)}V=N,O=Math.ceil(H-this.width),G=this.getIndexAngle(E),Q=this.getIndexAngle(j),q=O/Math.sin(G+Math.PI/2),X=V/Math.sin(Q+Math.PI/2),q=x(q)?q:0,X=x(X)?X:0,this.drawingArea=D-(X+q)/2,this.setCenterPoint(X,q)},setCenterPoint:function(j,q){var D=this.width-q-this.drawingArea,E=j+this.drawingArea;this.xCenter=(E+D)/2,this.yCenter=this.height/2},getIndexAngle:function(j){var q=2*Math.PI/this.valuesCount;return j*q-Math.PI/2},getPointPosition:function(j,q){var D=this.getIndexAngle(j);return{x:Math.cos(D)*q+this.xCenter,y:Math.sin(D)*q+this.yCenter}},draw:function(){if(this.display){var q=this.ctx;if(M(this.yLabels,function(Y,U){if(U>0){var V,N=U*(this.drawingArea/this.steps),Q=this.yCenter-N;if(this.lineWidth>0){if(q.strokeStyle=this.lineColor,q.lineWidth=this.lineWidth,this.lineArc){q.beginPath(),q.arc(this.xCenter,this.yCenter,N,0,2*Math.PI),q.closePath(),q.stroke()}else{q.beginPath();for(var O=0;O<this.valuesCount;O++){V=this.getPointPosition(O,this.calculateCenterOffset(this.min+U*this.stepValue)),0===O?q.moveTo(V.x,V.y):q.lineTo(V.x,V.y)}q.closePath(),q.stroke()}}if(this.showLabels){if(q.font=z(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var X=q.measureText(Y).width;q.fillStyle=this.backdropColor,q.fillRect(this.xCenter-X/2-this.backdropPaddingX,Q-this.fontSize/2-this.backdropPaddingY,X+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}q.textAlign="center",q.textBaseline="middle",q.fillStyle=this.fontColor,q.fillText(Y,this.xCenter,Q)}}},this),!this.lineArc){q.lineWidth=this.angleLineWidth,q.strokeStyle=this.angleLineColor;for(var H=this.valuesCount-1;H>=0;H--){if(this.angleLineWidth>0){var E=this.getPointPosition(H,this.calculateCenterOffset(this.max));q.beginPath(),q.moveTo(this.xCenter,this.yCenter),q.lineTo(E.x,E.y),q.stroke(),q.closePath()}var j=this.getPointPosition(H,this.calculateCenterOffset(this.max)+5);q.font=z(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),q.fillStyle=this.pointLabelFontColor;var J=this.labels.length,D=this.labels.length/2,G=D/2,I=G>H||H>J-G,K=H===G||H===J-G;q.textAlign=0===H?"center":H===D?"center":D>H?"left":"right",q.textBaseline=K?"middle":I?"bottom":"top",q.fillText(this.labels[H],j.x,j.y)}}}}}),b.addEvent(window,"resize",function(){var j;return function(){clearTimeout(j),j=setTimeout(function(){M(w.instances,function(q){q.options.responsive&&q.resize(q.render,!0)})},50)}}()),R?define(function(){return w}):"object"==typeof module&&module.exports&&(module.exports=w),c.Chart=w,w.noConflict=function(){return c.Chart=B,w}}).call(this),function(){var e=this,f=e.Chart,g=f.helpers,h={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};f.Type.extend({name:"Bar",defaults:h,initialize:function(b){var a=this.options;this.ScaleClass=f.Scale.extend({offsetGridLines:!0,calculateBarX:function(n,o,i){var c=this.calculateBaseWidth(),d=this.calculateX(i)-c/2,p=this.calculateBarWidth(n);return d+p*o+o*a.barDatasetSpacing+p/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*a.barValueSpacing},calculateBarWidth:function(c){var d=this.calculateBaseWidth()-(c-1)*a.barDatasetSpacing;return d/c}}),this.datasets=[],this.options.showTooltips&&g.bindEvents(this,this.options.tooltipEvents,function(c){var d="mouseout"!==c.type?this.getBarsAtEvent(c):[];this.eachBars(function(j){j.restore(["fillColor","strokeColor"])}),g.each(d,function(j){j.fillColor=j.highlightFill,j.strokeColor=j.highlightStroke}),this.showTooltip(d)}),this.BarClass=f.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),g.each(b.datasets,function(d){var c={label:d.label||null,fillColor:d.fillColor,strokeColor:d.strokeColor,bars:[]};this.datasets.push(c),g.each(d.data,function(l,k){c.bars.push(new this.BarClass({value:l,label:b.labels[k],datasetLabel:d.label,strokeColor:d.strokeColor,fillColor:d.fillColor,highlightFill:d.highlightFill||d.fillColor,highlightStroke:d.highlightStroke||d.strokeColor}))},this)},this),this.buildScale(b.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(d,i,c){g.extend(d,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,c,i),y:this.scale.endPoint}),d.save()},this),this.render()},update:function(){this.scale.update(),g.each(this.activeElements,function(a){a.restore(["fillColor","strokeColor"])}),this.eachBars(function(a){a.save()}),this.render()},eachBars:function(a){g.each(this.datasets,function(c,b){g.each(c.bars,a,this,b)},this)},getBarsAtEvent:function(d){for(var i,c=[],a=g.getRelativePosition(d),b=function(j){c.push(j.bars[i])},l=0;l<this.datasets.length;l++){for(i=0;i<this.datasets[l].bars.length;i++){if(this.datasets[l].bars[i].inRange(a.x,a.y)){return g.each(this.datasets,b),c}}}return c},buildScale:function(c){var d=this,b=function(){var j=[];return d.eachBars(function(i){j.push(i.value)}),j},a={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:c.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(i){var l=g.calculateScaleRange(b(),i,this.fontSize,this.beginAtZero,this.integersOnly);g.extend(this,l)},xLabels:c,font:g.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&g.extend(a,{calculateYRange:g.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(a)},addData:function(a,b){g.each(a,function(d,c){this.datasets[c].bars.push(new this.BarClass({value:d,label:b,x:this.scale.calculateBarX(this.datasets.length,c,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[c].strokeColor,fillColor:this.datasets[c].fillColor}))},this),this.scale.addXLabel(b),this.update()},removeData:function(){this.scale.removeXLabel(),g.each(this.datasets,function(a){a.bars.shift()},this),this.update()},reflow:function(){g.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var a=g.extend({height:this.chart.height,width:this.chart.width});this.scale.update(a)},draw:function(a){var b=a||1;this.clear();this.chart.ctx;this.scale.draw(b),g.each(this.datasets,function(d,c){g.each(d.bars,function(l,k){l.hasValue()&&(l.base=this.scale.endPoint,l.transition({x:this.scale.calculateBarX(this.datasets.length,c,k),y:this.scale.calculateY(l.value),width:this.scale.calculateBarWidth(this.datasets.length)},b).draw())},this)},this)}})}.call(this),function(){var e=this,f=e.Chart,g=f.helpers,h={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};f.Type.extend({name:"Doughnut",defaults:h,initialize:function(a){this.segments=[],this.outerRadius=(g.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=f.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&g.bindEvents(this,this.options.tooltipEvents,function(b){var c="mouseout"!==b.type?this.getSegmentsAtEvent(b):[];g.each(this.segments,function(d){d.restore(["fillColor"])}),g.each(c,function(d){d.fillColor=d.highlightColor}),this.showTooltip(c)}),this.calculateTotal(a),g.each(a,function(b,c){this.addData(b,c,!0)},this),this.render()},getSegmentsAtEvent:function(b){var c=[],a=g.getRelativePosition(b);return g.each(this.segments,function(d){d.inRange(a.x,a.y)&&c.push(d)},this),c},addData:function(c,d,a){var b=d||this.segments.length;this.segments.splice(b,0,new this.SegmentArc({value:c.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:c.color,highlightColor:c.highlight||c.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(c.value),label:c.label})),a||(this.reflow(),this.update())},calculateCircumference:function(a){return 2*Math.PI*(Math.abs(a)/this.total)},calculateTotal:function(a){this.total=0,g.each(a,function(b){this.total+=Math.abs(b.value)},this)},update:function(){this.calculateTotal(this.segments),g.each(this.activeElements,function(a){a.restore(["fillColor"])}),g.each(this.segments,function(a){a.save()}),this.render()},removeData:function(a){var b=g.isNumber(a)?a:this.segments.length-1;this.segments.splice(b,1),this.reflow(),this.update()},reflow:function(){g.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(g.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,g.each(this.segments,function(a){a.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},draw:function(a){var b=a?a:1;this.clear(),g.each(this.segments,function(d,c){d.transition({circumference:this.calculateCircumference(d.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},b),d.endAngle=d.startAngle+d.circumference,d.draw(),0===c&&(d.startAngle=1.5*Math.PI),c<this.segments.length-1&&(this.segments[c+1].startAngle=d.endAngle)},this)}}),f.types.Doughnut.extend({name:"Pie",defaults:g.merge(h,{percentageInnerCutout:0})})}.call(this),function(){var e=this,f=e.Chart,g=f.helpers,h={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:0.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};f.Type.extend({name:"Line",defaults:h,initialize:function(a){this.PointClass=f.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(b){return Math.pow(b-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&g.bindEvents(this,this.options.tooltipEvents,function(b){var c="mouseout"!==b.type?this.getPointsAtEvent(b):[];this.eachPoints(function(d){d.restore(["fillColor","strokeColor"])}),g.each(c,function(d){d.fillColor=d.highlightFill,d.strokeColor=d.highlightStroke}),this.showTooltip(c)}),g.each(a.datasets,function(c){var b={label:c.label||null,fillColor:c.fillColor,strokeColor:c.strokeColor,pointColor:c.pointColor,pointStrokeColor:c.pointStrokeColor,points:[]};this.datasets.push(b),g.each(c.data,function(j,d){b.points.push(new this.PointClass({value:j,label:a.labels[d],datasetLabel:c.label,strokeColor:c.pointStrokeColor,fillColor:c.pointColor,highlightFill:c.pointHighlightFill||c.pointColor,highlightStroke:c.pointHighlightStroke||c.pointStrokeColor}))},this),this.buildScale(a.labels),this.eachPoints(function(d,i){g.extend(d,{x:this.scale.calculateX(i),y:this.scale.endPoint}),d.save()},this)},this),this.render()},update:function(){this.scale.update(),g.each(this.activeElements,function(a){a.restore(["fillColor","strokeColor"])}),this.eachPoints(function(a){a.save()}),this.render()},eachPoints:function(a){g.each(this.datasets,function(b){g.each(b.points,a,this)},this)},getPointsAtEvent:function(b){var c=[],a=g.getRelativePosition(b);return g.each(this.datasets,function(d){g.each(d.points,function(j){j.inRange(a.x,a.y)&&c.push(j)})},this),c},buildScale:function(d){var c=this,a=function(){var j=[];return c.eachPoints(function(i){j.push(i.value)}),j},b={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:d.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(i){var l=g.calculateScaleRange(a(),i,this.fontSize,this.beginAtZero,this.integersOnly);g.extend(this,l)},xLabels:d,font:g.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&g.extend(b,{calculateYRange:g.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new f.Scale(b)},addData:function(a,b){g.each(a,function(d,c){this.datasets[c].points.push(new this.PointClass({value:d,label:b,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[c].pointStrokeColor,fillColor:this.datasets[c].pointColor}))},this),this.scale.addXLabel(b),this.update()},removeData:function(){this.scale.removeXLabel(),g.each(this.datasets,function(a){a.points.shift()},this),this.update()},reflow:function(){var a=g.extend({height:this.chart.height,width:this.chart.width});this.scale.update(a)},draw:function(d){var i=d||1;this.clear();var c=this.chart.ctx,a=function(j){return null!==j.value},b=function(j,k,o){return g.findNextWhere(k,a,o)||j},l=function(j,k,o){return g.findPreviousWhere(k,a,o)||j};this.scale.draw(i),g.each(this.datasets,function(k){var j=g.where(k.points,a);g.each(k.points,function(o,p){o.hasValue()&&o.transition({y:this.scale.calculateY(o.value),x:this.scale.calculateX(p)},i)},this),this.options.bezierCurve&&g.each(j,function(r,p){var q=p>0&&p<j.length-1?this.options.bezierCurveTension:0;r.controlPoints=g.splineCurve(l(r,j,p),r,b(r,j,p),q),r.controlPoints.outer.y>this.scale.endPoint?r.controlPoints.outer.y=this.scale.endPoint:r.controlPoints.outer.y<this.scale.startPoint&&(r.controlPoints.outer.y=this.scale.startPoint),r.controlPoints.inner.y>this.scale.endPoint?r.controlPoints.inner.y=this.scale.endPoint:r.controlPoints.inner.y<this.scale.startPoint&&(r.controlPoints.inner.y=this.scale.startPoint)},this),c.lineWidth=this.options.datasetStrokeWidth,c.strokeStyle=k.strokeColor,c.beginPath(),g.each(j,function(r,p){if(0===p){c.moveTo(r.x,r.y)}else{if(this.options.bezierCurve){var q=l(r,j,p);c.bezierCurveTo(q.controlPoints.outer.x,q.controlPoints.outer.y,r.controlPoints.inner.x,r.controlPoints.inner.y,r.x,r.y)}else{c.lineTo(r.x,r.y)}}},this),c.stroke(),this.options.datasetFill&&j.length>0&&(c.lineTo(j[j.length-1].x,this.scale.endPoint),c.lineTo(j[0].x,this.scale.endPoint),c.fillStyle=k.fillColor,c.closePath(),c.fill()),g.each(j,function(n){n.draw()})},this)}})}.call(this),function(){var e=this,f=e.Chart,g=f.helpers,h={scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBeginAtZero:!0,scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,scaleShowLine:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};f.Type.extend({name:"PolarArea",defaults:h,initialize:function(a){this.segments=[],this.SegmentArc=f.Arc.extend({showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,ctx:this.chart.ctx,innerRadius:0,x:this.chart.width/2,y:this.chart.height/2}),this.scale=new f.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,lineArc:!0,width:this.chart.width,height:this.chart.height,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,valuesCount:a.length}),this.updateScaleRange(a),this.scale.update(),g.each(a,function(b,c){this.addData(b,c,!0)},this),this.options.showTooltips&&g.bindEvents(this,this.options.tooltipEvents,function(b){var c="mouseout"!==b.type?this.getSegmentsAtEvent(b):[];g.each(this.segments,function(d){d.restore(["fillColor"])}),g.each(c,function(d){d.fillColor=d.highlightColor}),this.showTooltip(c)}),this.render()},getSegmentsAtEvent:function(b){var c=[],a=g.getRelativePosition(b);return g.each(this.segments,function(d){d.inRange(a.x,a.y)&&c.push(d)},this),c},addData:function(c,d,a){var b=d||this.segments.length;this.segments.splice(b,0,new this.SegmentArc({fillColor:c.color,highlightColor:c.highlight||c.color,label:c.label,value:c.value,outerRadius:this.options.animateScale?0:this.scale.calculateCenterOffset(c.value),circumference:this.options.animateRotate?0:this.scale.getCircumference(),startAngle:1.5*Math.PI})),a||(this.reflow(),this.update())},removeData:function(a){var b=g.isNumber(a)?a:this.segments.length-1;this.segments.splice(b,1),this.reflow(),this.update()},calculateTotal:function(a){this.total=0,g.each(a,function(b){this.total+=b.value},this),this.scale.valuesCount=this.segments.length},updateScaleRange:function(b){var c=[];g.each(b,function(d){c.push(d.value)});var a=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:g.calculateScaleRange(c,g.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);g.extend(this.scale,a,{size:g.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})},update:function(){this.calculateTotal(this.segments),g.each(this.segments,function(a){a.save()}),this.reflow(),this.render()},reflow:function(){g.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.updateScaleRange(this.segments),this.scale.update(),g.extend(this.scale,{xCenter:this.chart.width/2,yCenter:this.chart.height/2}),g.each(this.segments,function(a){a.update({outerRadius:this.scale.calculateCenterOffset(a.value)})},this)},draw:function(a){var b=a||1;this.clear(),g.each(this.segments,function(d,c){d.transition({circumference:this.scale.getCircumference(),outerRadius:this.scale.calculateCenterOffset(d.value)},b),d.endAngle=d.startAngle+d.circumference,0===c&&(d.startAngle=1.5*Math.PI),c<this.segments.length-1&&(this.segments[c+1].startAngle=d.endAngle),d.draw()},this),this.scale.draw()}})}.call(this),function(){var d=this,e=d.Chart,f=e.helpers;e.Type.extend({name:"Radar",defaults:{scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:10,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'},initialize:function(a){this.PointClass=e.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx}),this.datasets=[],this.buildScale(a),this.options.showTooltips&&f.bindEvents(this,this.options.tooltipEvents,function(b){var c="mouseout"!==b.type?this.getPointsAtEvent(b):[];this.eachPoints(function(h){h.restore(["fillColor","strokeColor"])}),f.each(c,function(h){h.fillColor=h.highlightFill,h.strokeColor=h.highlightStroke}),this.showTooltip(c)}),f.each(a.datasets,function(c){var b={label:c.label||null,fillColor:c.fillColor,strokeColor:c.strokeColor,pointColor:c.pointColor,pointStrokeColor:c.pointStrokeColor,points:[]};this.datasets.push(b),f.each(c.data,function(l,j){var k;this.scale.animation||(k=this.scale.getPointPosition(j,this.scale.calculateCenterOffset(l))),b.points.push(new this.PointClass({value:l,label:a.labels[j],datasetLabel:c.label,x:this.options.animation?this.scale.xCenter:k.x,y:this.options.animation?this.scale.yCenter:k.y,strokeColor:c.pointStrokeColor,fillColor:c.pointColor,highlightFill:c.pointHighlightFill||c.pointColor,highlightStroke:c.pointHighlightStroke||c.pointStrokeColor}))},this)},this),this.render()},eachPoints:function(a){f.each(this.datasets,function(b){f.each(b.points,a,this)},this)},getPointsAtEvent:function(i){var k=f.getRelativePosition(i),c=f.getAngleFromPoint({x:this.scale.xCenter,y:this.scale.yCenter},k),a=2*Math.PI/this.scale.valuesCount,b=Math.round((c.angle-1.5*Math.PI)/a),l=[];return(b>=this.scale.valuesCount||0>b)&&(b=0),c.distance<=this.scale.drawingArea&&f.each(this.datasets,function(g){l.push(g.points[b])}),l},buildScale:function(a){this.scale=new e.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,angleLineColor:this.options.angleLineColor,angleLineWidth:this.options.angleShowLineOut?this.options.angleLineWidth:0,pointLabelFontColor:this.options.pointLabelFontColor,pointLabelFontSize:this.options.pointLabelFontSize,pointLabelFontFamily:this.options.pointLabelFontFamily,pointLabelFontStyle:this.options.pointLabelFontStyle,height:this.chart.height,width:this.chart.width,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,labels:a.labels,valuesCount:a.datasets[0].data.length}),this.scale.setScaleSize(),this.updateScaleRange(a.datasets),this.scale.buildYLabels()},updateScaleRange:function(b){var c=function(){var h=[];return f.each(b,function(g){g.data?h=h.concat(g.data):f.each(g.points,function(j){h.push(j.value)})}),h}(),a=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:f.calculateScaleRange(c,f.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);f.extend(this.scale,a)},addData:function(a,b){this.scale.valuesCount++,f.each(a,function(j,c){var i=this.scale.getPointPosition(this.scale.valuesCount,this.scale.calculateCenterOffset(j));this.datasets[c].points.push(new this.PointClass({value:j,label:b,x:i.x,y:i.y,strokeColor:this.datasets[c].pointStrokeColor,fillColor:this.datasets[c].pointColor}))},this),this.scale.labels.push(b),this.reflow(),this.update()},removeData:function(){this.scale.valuesCount--,this.scale.labels.shift(),f.each(this.datasets,function(a){a.points.shift()},this),this.reflow(),this.update()},update:function(){this.eachPoints(function(a){a.save()}),this.reflow(),this.render()},reflow:function(){f.extend(this.scale,{width:this.chart.width,height:this.chart.height,size:f.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2}),this.updateScaleRange(this.datasets),this.scale.setScaleSize(),this.scale.buildYLabels()},draw:function(b){var c=b||1,a=this.chart.ctx;this.clear(),this.scale.draw(),f.each(this.datasets,function(h){f.each(h.points,function(j,g){j.hasValue()&&j.transition(this.scale.getPointPosition(g,this.scale.calculateCenterOffset(j.value)),c)},this),a.lineWidth=this.options.datasetStrokeWidth,a.strokeStyle=h.strokeColor,a.beginPath(),f.each(h.points,function(g,i){0===i?a.moveTo(g.x,g.y):a.lineTo(g.x,g.y)},this),a.closePath(),a.stroke(),a.fillStyle=h.fillColor,a.fill(),f.each(h.points,function(g){g.hasValue()&&g.draw()})},this)}})}.call(this);
/*! pace 1.0.2 */
(function(){var Z,aa,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,Y,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w=[].slice,x={}.hasOwnProperty,y=function(ad,ae){function ab(){this.constructor=ad}for(var ac in ae){x.call(ae,ac)&&(ad[ac]=ae[ac])}return ab.prototype=ae.prototype,ad.prototype=new ab,ad.__super__=ae.prototype,ad},X=[].indexOf||function(ac){for(var ad=0,ab=this.length;ab>ad;ad++){if(ad in this&&this[ad]===ac){return ad}}return -1};for(R={catchupTime:100,initialRate:0.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},b=function(){var ab;return null!=(ab="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?ab:+new Date},d=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,Q=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==d&&(d=function(ab){return setTimeout(ab,50)},Q=function(ab){return clearTimeout(ab)}),f=function(ac){var ad,ab;return ad=b(),(ab=function(){var ae;return ae=b()-ad,ae>=33?(ad=b(),ac(ae,function(){return d(ab)})):setTimeout(ab,33-ae)})()},e=function(){var ac,ad,ab;return ab=arguments[0],ad=arguments[1],ac=3<=arguments.length?w.call(arguments,2):[],"function"==typeof ab[ad]?ab[ad].apply(ab,ac):ab[ad]},S=function(){var af,ag,ah,ab,ac,ad,ae;for(ag=arguments[0],ab=2<=arguments.length?w.call(arguments,1):[],ad=0,ae=ab.length;ae>ad;ad++){if(ah=ab[ad]){for(af in ah){x.call(ah,af)&&(ac=ah[af],null!=ag[af]&&"object"==typeof ag[af]&&null!=ac&&"object"==typeof ac?S(ag[af],ac):ag[af]=ac)}}}return ag},N=function(af){var ag,ab,ac,ad,ae;for(ab=ag=0,ad=0,ae=af.length;ae>ad;ad++){ac=af[ad],ab+=Math.abs(ac),ag++}return ab/ag},U=function(af,ag){var ab,ac,ad;if(null==af&&(af="options"),null==ag&&(ag=!0),ad=document.querySelector("[data-pace-"+af+"]")){if(ab=ad.getAttribute("data-pace-"+af),!ag){return ab}try{return JSON.parse(ab)}catch(ae){return ac=ae,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",ac):void 0}}},D=function(){function ab(){}return ab.prototype.on=function(af,ag,ac,ad){var ae;return null==ad&&(ad=!1),null==this.bindings&&(this.bindings={}),null==(ae=this.bindings)[af]&&(ae[af]=[]),this.bindings[af].push({handler:ag,ctx:ac,once:ad})},ab.prototype.once=function(ad,ae,ac){return this.on(ad,ae,ac,!0)},ab.prototype.off=function(af,ag){var ac,ad,ae;if(null!=(null!=(ad=this.bindings)?ad[af]:void 0)){if(null==ag){return delete this.bindings[af]}for(ac=0,ae=[];ac<this.bindings[af].length;){ae.push(this.bindings[af][ac].handler===ag?this.bindings[af].splice(ac,1):ac++)}return ae}},ab.prototype.trigger=function(){var ac,ad,ae,af,ag,ah,ai,aj,ak;if(ae=arguments[0],ac=2<=arguments.length?w.call(arguments,1):[],null!=(ai=this.bindings)?ai[ae]:void 0){for(ag=0,ak=[];ag<this.bindings[ae].length;){aj=this.bindings[ae][ag],af=aj.handler,ad=aj.ctx,ah=aj.once,af.apply(null!=ad?ad:this,ac),ak.push(ah?this.bindings[ae].splice(ag,1):ag++)}return ak}},ab}(),G=window.Pace||{},window.Pace=G,S(G,D.prototype),c=G.options=S({},R,window.paceOptions,U()),t=["ajax","document","eventLag","elements"],p=0,r=t.length;r>p;p++){j=t[p],c[j]===!0&&(c[j]=R[j])}F=function(ab){function ac(){return u=ac.__super__.constructor.apply(this,arguments)}return y(ac,ab),ac}(Error),aa=function(){function ab(){this.progress=0}return ab.prototype.getElement=function(){var ac;if(null==this.el){if(ac=document.querySelector(c.target),!ac){throw new F}this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=ac.firstChild?ac.insertBefore(this.el,ac.firstChild):ac.appendChild(this.el)}return this.el},ab.prototype.finish=function(){var ac;return ac=this.getElement(),ac.className=ac.className.replace("pace-active",""),ac.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},ab.prototype.update=function(ac){return this.progress=ac,this.render()},ab.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(ac){F=ac}return this.el=void 0},ab.prototype.render=function(){var ag,ah,ai,ac,ad,ae,af;if(null==document.querySelector(c.target)){return !1}for(ag=this.getElement(),ac="translate3d("+this.progress+"%, 0, 0)",af=["webkitTransform","msTransform","transform"],ad=0,ae=af.length;ae>ad;ad++){ah=af[ad],ag.children[0].style[ah]=ac}return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(ag.children[0].setAttribute("data-progress-text",""+(0|this.progress)+"%"),this.progress>=100?ai="99":(ai=this.progress<10?"0":"",ai+=0|this.progress),ag.children[0].setAttribute("data-progress",""+ai)),this.lastRenderedProgress=this.progress},ab.prototype.done=function(){return this.progress>=100},ab}(),E=function(){function ab(){this.bindings={}}return ab.prototype.trigger=function(ag,ah){var ai,ac,ad,ae,af;if(null!=this.bindings[ag]){for(ae=this.bindings[ag],af=[],ac=0,ad=ae.length;ad>ac;ac++){ai=ae[ac],af.push(ai.call(this,ah))}return af}},ab.prototype.on=function(ad,ae){var ac;return null==(ac=this.bindings)[ad]&&(ac[ad]=[]),this.bindings[ad].push(ae)},ab}(),o=window.XMLHttpRequest,n=window.XDomainRequest,m=window.WebSocket,T=function(af,ag){var ab,ac,ad;ad=[];for(ac in ag.prototype){try{ad.push(null==af[ac]&&"function"!=typeof ag[ac]?"function"==typeof Object.defineProperty?Object.defineProperty(af,ac,{get:function(){return ag.prototype[ac]},configurable:!0,enumerable:!0}):af[ac]=ag.prototype[ac]:void 0)}catch(ae){ab=ae}}return ad},Y=[],G.ignore=function(){var ac,ad,ab;return ad=arguments[0],ac=2<=arguments.length?w.call(arguments,1):[],Y.unshift("ignore"),ab=ad.apply(null,ac),Y.shift(),ab},G.track=function(){var ac,ad,ab;return ad=arguments[0],ac=2<=arguments.length?w.call(arguments,1):[],Y.unshift("track"),ab=ad.apply(null,ac),Y.shift(),ab},i=function(ab){var ac;if(null==ab&&(ab="GET"),"track"===Y[0]){return"force"}if(!Y.length&&c.ajax){if("socket"===ab&&c.ajax.trackWebSockets){return !0}if(ac=ab.toUpperCase(),X.call(c.ajax.trackMethods,ac)>=0){return !0}}return !1},H=function(ab){function ac(){var ad,ae=this;ac.__super__.constructor.apply(this,arguments),ad=function(ag){var ah;return ah=ag.open,ag.open=function(aj,ai){return i(aj)&&ae.trigger("request",{type:aj,url:ai,request:ag}),ah.apply(ag,arguments)}},window.XMLHttpRequest=function(ag){var ah;return ah=new o(ag),ad(ah),ah};try{T(window.XMLHttpRequest,o)}catch(af){}if(null!=n){window.XDomainRequest=function(){var ag;return ag=new n,ad(ag),ag};try{T(window.XDomainRequest,n)}catch(af){}}if(null!=m&&c.ajax.trackWebSockets){window.WebSocket=function(ah,ai){var ag;return ag=null!=ai?new m(ah,ai):new m(ah),i("socket")&&ae.trigger("request",{type:"socket",url:ah,protocols:ai,request:ag}),ag};try{T(window.WebSocket,m)}catch(af){}}}return y(ac,ab),ac}(E),q=null,V=function(){return null==q&&(q=new H),q},h=function(ae){var af,ab,ac,ad;for(ad=c.ajax.ignoreURLs,ab=0,ac=ad.length;ac>ab;ab++){if(af=ad[ab],"string"==typeof af){if(-1!==ae.indexOf(af)){return !0}}else{if(af.test(ae)){return !0}}}return !1},V().on("request",function(ac){var ab,ad,ae,af,ag;return af=ac.type,ae=ac.request,ag=ac.url,h(ag)?void 0:G.running||c.restartOnRequestAfter===!1&&"force"!==i(af)?void 0:(ad=arguments,ab=c.restartOnRequestAfter||0,"boolean"==typeof ab&&(ab=0),setTimeout(function(){var al,ak,am,ah,ai,aj;if(al="socket"===af?ae.readyState<2:0<(ah=ae.readyState)&&4>ah){for(G.restart(),ai=G.sources,aj=[],ak=0,am=ai.length;am>ak;ak++){if(j=ai[ak],j instanceof Z){j.watch.apply(j,ad);break}aj.push(void 0)}return aj}},ab))}),Z=function(){function ab(){var ac=this;this.elements=[],V().on("request",function(){return ac.watch.apply(ac,arguments)})}return ab.prototype.watch=function(af){var ag,ac,ad,ae;return ad=af.type,ag=af.request,ae=af.url,h(ae)?void 0:(ac="socket"===ad?new K(ag):new L(ag),this.elements.push(ac))},ab}(),L=function(){function ab(af){var ag,ah,ai,aj,ac,ad,ae=this;if(this.progress=0,null!=window.ProgressEvent){for(ah=null,af.addEventListener("progress",function(ak){return ae.progress=ak.lengthComputable?100*ak.loaded/ak.total:ae.progress+(100-ae.progress)/2},!1),ad=["load","abort","timeout","error"],ai=0,aj=ad.length;aj>ai;ai++){ag=ad[ai],af.addEventListener(ag,function(){return ae.progress=100},!1)}}else{ac=af.onreadystatechange,af.onreadystatechange=function(){var ak;return 0===(ak=af.readyState)||4===ak?ae.progress=100:3===af.readyState&&(ae.progress=50),"function"==typeof ac?ac.apply(null,arguments):void 0}}}return ab}(),K=function(){function ab(ag){var ah,ac,ad,ae,af=this;for(this.progress=0,ae=["error","open"],ac=0,ad=ae.length;ad>ac;ac++){ah=ae[ac],ag.addEventListener(ah,function(){return af.progress=100},!1)}}return ab}(),A=function(){function ab(af){var ag,ac,ad,ae;for(null==af&&(af={}),this.elements=[],null==af.selectors&&(af.selectors=[]),ae=af.selectors,ac=0,ad=ae.length;ad>ac;ac++){ag=ae[ac],this.elements.push(new B(ag))}}return ab}(),B=function(){function ab(ac){this.selector=ac,this.progress=0,this.check()}return ab.prototype.check=function(){var ac=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return ac.check()},c.elements.checkInterval)},ab.prototype.done=function(){return this.progress=100},ab}(),z=function(){function ab(){var ad,ae,ac=this;this.progress=null!=(ae=this.states[document.readyState])?ae:100,ad=document.onreadystatechange,document.onreadystatechange=function(){return null!=ac.states[document.readyState]&&(ac.progress=ac.states[document.readyState]),"function"==typeof ad?ad.apply(null,arguments):void 0}}return ab.prototype.states={loading:0,interactive:50,complete:100},ab}(),C=function(){function ab(){var ag,ah,ac,ad,ae,af=this;this.progress=0,ag=0,ae=[],ad=0,ac=b(),ah=setInterval(function(){var ai;return ai=b()-ac-50,ac=b(),ae.push(ai),ae.length>c.eventLag.sampleCount&&ae.shift(),ag=N(ae),++ad>=c.eventLag.minSamples&&ag<c.eventLag.lagThreshold?(af.progress=100,clearInterval(ah)):af.progress=100*(3/(ag+3))},50)}return ab}(),J=function(){function ab(ac){this.source=ac,this.last=this.sinceLastUpdate=0,this.rate=c.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=e(this.source,"progress"))}return ab.prototype.tick=function(ad,ae){var ac;return null==ae&&(ae=e(this.source,"progress")),ae>=100&&(this.done=!0),ae===this.last?this.sinceLastUpdate+=ad:(this.sinceLastUpdate&&(this.rate=(ae-this.last)/this.sinceLastUpdate),this.catchup=(ae-this.progress)/c.catchupTime,this.sinceLastUpdate=0,this.last=ae),ae>this.progress&&(this.progress+=this.catchup*ad),ac=1-Math.pow(this.progress/100,c.easeFactor),this.progress+=ac*this.rate*ad,this.progress=Math.min(this.lastProgress+c.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},ab}(),k=null,g=null,O=null,l=null,M=null,P=null,G.running=!1,W=function(){return c.restartOnPushState?G.restart():void 0},null!=window.history.pushState&&(s=window.history.pushState,window.history.pushState=function(){return W(),s.apply(window.history,arguments)}),null!=window.history.replaceState&&(v=window.history.replaceState,window.history.replaceState=function(){return W(),v.apply(window.history,arguments)}),I={ajax:Z,elements:A,document:z,eventLag:C},(a=function(){var ac,ag,ah,ai,ab,ad,ae,af;for(G.sources=k=[],ad=["ajax","elements","document","eventLag"],ag=0,ai=ad.length;ai>ag;ag++){ac=ad[ag],c[ac]!==!1&&k.push(new I[ac](c[ac]))}for(af=null!=(ae=c.extraSources)?ae:[],ah=0,ab=af.length;ab>ah;ah++){j=af[ah],k.push(new j(c))}return G.bar=O=new aa,g=[],l=new J})(),G.stop=function(){return G.trigger("stop"),G.running=!1,O.destroy(),P=!0,null!=M&&("function"==typeof Q&&Q(M),M=null),a()},G.restart=function(){return G.trigger("restart"),G.stop(),G.start()},G.go=function(){var ab;return G.running=!0,O.render(),ab=b(),P=!1,M=f(function(ad,af){var ah,ai,aj,ak,am,an,ap,aq,ac,ae,ag,al,ao,ar,at,au;for(aq=100-O.progress,ai=ag=0,aj=!0,an=al=0,ar=k.length;ar>al;an=++al){for(j=k[an],ae=null!=g[an]?g[an]:g[an]=[],am=null!=(au=j.elements)?au:[j],ap=ao=0,at=am.length;at>ao;ap=++ao){ak=am[ap],ac=null!=ae[ap]?ae[ap]:ae[ap]=new J(ak),aj&=ac.done,ac.done||(ai++,ag+=ac.tick(ad))}}return ah=ag/ai,O.update(l.tick(ad,ah)),O.done()||aj||P?(O.update(100),G.trigger("done"),setTimeout(function(){return O.finish(),G.running=!1,G.trigger("hide")},Math.max(c.ghostTime,Math.max(c.minTime-(b()-ab),0)))):af()})},G.start=function(ab){S(c,ab),G.running=!0;try{O.render()}catch(ac){F=ac}return document.querySelector(".pace")?(G.trigger("start"),G.go()):setTimeout(G.start,50)},"function"==typeof define&&define.amd?define(["pace"],function(){return G}):"object"==typeof exports?module.exports=G:c.startOnPageLoad&&G.start()}).call(this);
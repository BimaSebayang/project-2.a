/*!
 * Validator v0.10.2 for Bootstrap 3, by @1000hz
 * Copyright 2016 Cina Saffary
 * Licensed under http://opensource.org/licenses/MIT
 *
 * https://github.com/1000hz/bootstrap-validator
 */
+function(d){function e(f){return f.is('[type="checkbox"]')?f.prop("checked"):f.is('[type="radio"]')?!!d('[name="'+f.attr("name")+'"]:checked').length:d.trim(f.val())}function a(f){return this.each(function(){var h=d(this),i=d.extend({},b.DEFAULTS,h.data(),"object"==typeof f&&f),g=h.data("bs.validator");(g||"destroy"!=f)&&(g||h.data("bs.validator",g=new b(this,i)),"string"==typeof f&&g[f]())})}var b=function(h,f){this.options=f,this.$element=d(h),this.$inputs=this.$element.find(b.INPUT_SELECTOR),this.$btn=d('button[type="submit"], input[type="submit"]').filter('[form="'+this.$element.attr("id")+'"]').add(this.$element.find('input[type="submit"], button[type="submit"]')),f.errors=d.extend({},b.DEFAULTS.errors,f.errors);for(var g in f.custom){if(!f.errors[g]){throw new Error("Missing default error message for custom validator: "+g)}}d.extend(b.VALIDATORS,f.custom),this.$element.attr("novalidate",!0),this.toggleSubmit(),this.$element.on("input.bs.validator change.bs.validator focusout.bs.validator",b.INPUT_SELECTOR,d.proxy(this.onInput,this)),this.$element.on("submit.bs.validator",d.proxy(this.onSubmit,this)),this.$element.find("[data-match]").each(function(){var i=d(this),j=i.data("match");d(j).on("input.bs.validator",function(){e(i)&&i.trigger("input.bs.validator")})})};b.INPUT_SELECTOR=':input:not([type="submit"], button):enabled:visible',b.FOCUS_OFFSET=20,b.DEFAULTS={delay:500,html:!1,disable:!0,focus:!0,custom:{},errors:{match:"Does not match",minlength:"Not long enough"},feedback:{success:"glyphicon-ok",error:"glyphicon-remove"}},b.VALIDATORS={"native":function(f){var g=f[0];return g.checkValidity?g.checkValidity():!0},match:function(f){var g=f.data("match");return !f.val()||f.val()===d(g).val()},minlength:function(f){var g=f.data("minlength");return !f.val()||f.val().length>=g}},b.prototype.onInput=function(h){var f=this,g=d(h.target),i="focusout"!==h.type;this.validateInput(g,i).done(function(){f.toggleSubmit()})},b.prototype.validateInput=function(p,q){var g=e(p),i=p.data("bs.validator.previous"),j=p.data("bs.validator.errors");if(i===g){return d.Deferred().resolve()}p.data("bs.validator.previous",g),p.is('[type="radio"]')&&(p=this.$element.find('input[name="'+p.attr("name")+'"]'));var f=d.Event("validate.bs.validator",{relatedTarget:p[0]});if(this.$element.trigger(f),!f.isDefaultPrevented()){var h=this;return this.runValidators(p).done(function(k){p.data("bs.validator.errors",k),k.length?q?h.defer(p,h.showErrors):h.showErrors(p):h.clearErrors(p),j&&k.toString()===j.toString()||(f=k.length?d.Event("invalid.bs.validator",{relatedTarget:p[0],detail:k}):d.Event("valid.bs.validator",{relatedTarget:p[0],detail:j}),h.$element.trigger(f)),h.toggleSubmit(),h.$element.trigger(d.Event("validated.bs.validator",{relatedTarget:p[0]}))})}},b.prototype.runValidators=function(h){function i(k){return h.data(k+"-error")||h.data("error")||"native"==k&&h[0].validationMessage||g.errors[k]}var j=[],f=d.Deferred(),g=this.options;return h.data("bs.validator.deferred")&&h.data("bs.validator.deferred").reject(),h.data("bs.validator.deferred",f),d.each(b.VALIDATORS,d.proxy(function(n,k){if((e(h)||h.attr("required"))&&(h.data(n)||"native"==n)&&!k.call(this,h)){var l=i(n);!~j.indexOf(l)&&j.push(l)}},this)),!j.length&&e(h)&&h.data("remote")?this.defer(h,function(){var k={};k[h.attr("name")]=e(h),d.get(h.data("remote"),k).fail(function(l,o,p){j.push(i("remote")||p)}).always(function(){f.resolve(j)})}):f.resolve(j),f.promise()},b.prototype.validate=function(){var f=this;return d.when(this.$inputs.map(function(){return f.validateInput(d(this),!1)})).then(function(){f.toggleSubmit(),f.focusError()}),this},b.prototype.focusError=function(){if(this.options.focus){var f=d(".has-error:first :input");0!==f.length&&(d(document.body).animate({scrollTop:f.offset().top-b.FOCUS_OFFSET},250),f.focus())}},b.prototype.showErrors=function(h){var j=this.options.html?"html":"text",p=h.data("bs.validator.errors"),f=h.closest(".form-group"),g=f.find(".help-block.with-errors"),i=f.find(".form-control-feedback");p.length&&(p=d("<ul/>").addClass("list-unstyled").append(d.map(p,function(k){return d("<li/>")[j](k)})),void 0===g.data("bs.validator.originalContent")&&g.data("bs.validator.originalContent",g.html()),g.empty().append(p),f.addClass("has-error has-danger"),f.hasClass("has-feedback")&&i.removeClass(this.options.feedback.success)&&i.addClass(this.options.feedback.error)&&f.removeClass("has-success"))},b.prototype.clearErrors=function(g){var f=g.closest(".form-group"),h=f.find(".help-block.with-errors"),i=f.find(".form-control-feedback");h.html(h.data("bs.validator.originalContent")),f.removeClass("has-error has-danger"),f.hasClass("has-feedback")&&i.removeClass(this.options.feedback.error)&&e(g)&&i.addClass(this.options.feedback.success)&&f.addClass("has-success")},b.prototype.hasErrors=function(){function f(){return !!(d(this).data("bs.validator.errors")||[]).length}return !!this.$inputs.filter(f).length},b.prototype.isIncomplete=function(){function f(){return !e(d(this))}return !!this.$inputs.filter("[required]").filter(f).length},b.prototype.onSubmit=function(f){this.validate(),(this.isIncomplete()||this.hasErrors())&&f.preventDefault()},b.prototype.toggleSubmit=function(){this.options.disable&&this.$btn.toggleClass("disabled",this.isIncomplete()||this.hasErrors())},b.prototype.defer=function(f,g){return g=d.proxy(g,this,f),this.options.delay?(window.clearTimeout(f.data("bs.validator.timeout")),void f.data("bs.validator.timeout",window.setTimeout(g,this.options.delay))):g()},b.prototype.destroy=function(){return this.$element.removeAttr("novalidate").removeData("bs.validator").off(".bs.validator").find(".form-control-feedback").removeClass([this.options.feedback.error,this.options.feedback.success].join(" ")),this.$inputs.off(".bs.validator").removeData(["bs.validator.errors","bs.validator.deferred","bs.validator.previous"]).each(function(){var f=d(this),g=f.data("bs.validator.timeout");window.clearTimeout(g)&&f.removeData("bs.validator.timeout")}),this.$element.find(".help-block.with-errors").each(function(){var f=d(this),g=f.data("bs.validator.originalContent");f.removeData("bs.validator.originalContent").html(g)}),this.$element.find('input[type="submit"], button[type="submit"]').removeClass("disabled"),this.$element.find(".has-error, .has-danger").removeClass("has-error has-danger"),this};var c=d.fn.validator;d.fn.validator=a,d.fn.validator.Constructor=b,d.fn.validator.noConflict=function(){return d.fn.validator=c,this},d(window).on("load",function(){d('form[data-toggle="validator"]').each(function(){var f=d(this);a.call(f,f.data())})})}(jQuery);
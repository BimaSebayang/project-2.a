/*! bootstrap-timepicker v0.2.3 
* http://jdewit.github.com/bootstrap-timepicker 
* Copyright (c) 2013 Joris de Wit 
* MIT License 
*/
(function(i,e,h,j){var g=function(b,a){this.widget="";this.$element=i(b);this.defaultTime=a.defaultTime;this.disableFocus=a.disableFocus;this.isOpen=a.isOpen;this.minuteStep=a.minuteStep;this.modalBackdrop=a.modalBackdrop;this.secondStep=a.secondStep;this.showInputs=a.showInputs;this.showMeridian=a.showMeridian;this.showSeconds=a.showSeconds;this.template=a.template;this.appendWidgetTo=a.appendWidgetTo;this.upArrowStyle=a.upArrowStyle;this.downArrowStyle=a.downArrowStyle;this.containerClass=a.containerClass;this._init()};g.prototype={constructor:g,_init:function(){var a=this;if(this.$element.parent().hasClass("input-append")||this.$element.parent().hasClass("input-prepend")){if(this.$element.parent(".input-append, .input-prepend").find(".add-on").length){this.$element.parent(".input-append, .input-prepend").find(".add-on").on({"click.timepicker":i.proxy(this.showWidget,this)})}else{this.$element.closest(this.containerClass).find(".add-on").on({"click.timepicker":i.proxy(this.showWidget,this)})}this.$element.on({"focus.timepicker":i.proxy(this.highlightUnit,this),"click.timepicker":i.proxy(this.highlightUnit,this),"keydown.timepicker":i.proxy(this.elementKeydown,this),"blur.timepicker":i.proxy(this.blurElement,this)})}else{if(this.template){this.$element.on({"focus.timepicker":i.proxy(this.showWidget,this),"click.timepicker":i.proxy(this.showWidget,this),"blur.timepicker":i.proxy(this.blurElement,this)})}else{this.$element.on({"focus.timepicker":i.proxy(this.highlightUnit,this),"click.timepicker":i.proxy(this.highlightUnit,this),"keydown.timepicker":i.proxy(this.elementKeydown,this),"blur.timepicker":i.proxy(this.blurElement,this)})}}if(this.template!==false){this.$widget=i(this.getTemplate()).prependTo(this.$element.parents(this.appendWidgetTo)).on("click",i.proxy(this.widgetClick,this))}else{this.$widget=false}if(this.showInputs&&this.$widget!==false){this.$widget.find("input").each(function(){i(this).on({"click.timepicker":function(){i(this).select()},"keydown.timepicker":i.proxy(a.widgetKeydown,a)})})}this.setDefaultTime(this.defaultTime)},blurElement:function(){this.highlightedUnit=j;this.updateFromElementVal()},decrementHour:function(){if(this.showMeridian){if(this.hour===1){this.hour=12}else{if(this.hour===12){this.hour--;return this.toggleMeridian()}else{if(this.hour===0){this.hour=11;return this.toggleMeridian()}else{this.hour--}}}}else{if(this.hour===0){this.hour=23}else{this.hour--}}this.update()},decrementMinute:function(a){var b;if(a){b=this.minute-a}else{b=this.minute-this.minuteStep}if(b<0){this.decrementHour();this.minute=b+60}else{this.minute=b}this.update()},decrementSecond:function(){var a=this.second-this.secondStep;if(a<0){this.decrementMinute(true);this.second=a+60}else{this.second=a}this.update()},elementKeydown:function(a){switch(a.keyCode){case 9:this.updateFromElementVal();switch(this.highlightedUnit){case"hour":a.preventDefault();this.highlightNextUnit();break;case"minute":if(this.showMeridian||this.showSeconds){a.preventDefault();this.highlightNextUnit()}break;case"second":if(this.showMeridian){a.preventDefault();this.highlightNextUnit()}break}break;case 27:this.updateFromElementVal();break;case 37:a.preventDefault();this.highlightPrevUnit();this.updateFromElementVal();break;case 38:a.preventDefault();switch(this.highlightedUnit){case"hour":this.incrementHour();this.highlightHour();break;case"minute":this.incrementMinute();this.highlightMinute();break;case"second":this.incrementSecond();this.highlightSecond();break;case"meridian":this.toggleMeridian();this.highlightMeridian();break}break;case 39:a.preventDefault();this.updateFromElementVal();this.highlightNextUnit();break;case 40:a.preventDefault();switch(this.highlightedUnit){case"hour":this.decrementHour();this.highlightHour();break;case"minute":this.decrementMinute();this.highlightMinute();break;case"second":this.decrementSecond();this.highlightSecond();break;case"meridian":this.toggleMeridian();this.highlightMeridian();break}break}},formatTime:function(b,d,a,c){b=b<10?"0"+b:b;d=d<10?"0"+d:d;a=a<10?"0"+a:a;return b+":"+d+(this.showSeconds?":"+a:"")+(this.showMeridian?" "+c:"")},getCursorPosition:function(){var a=this.$element.get(0);if("selectionStart" in a){return a.selectionStart}else{if(h.selection){a.focus();var c=h.selection.createRange(),b=h.selection.createRange().text.length;c.moveStart("character",-a.value.length);return c.text.length-b}}},getTemplate:function(){var b,f,a,c,n,d;if(this.showInputs){f='<input type="text" name="hour" class="bootstrap-timepicker-hour form-control" maxlength="2"/>';a='<input type="text" name="minute" class="bootstrap-timepicker-minute form-control" maxlength="2"/>';c='<input type="text" name="second" class="bootstrap-timepicker-second form-control" maxlength="2"/>';n='<input type="text" name="meridian" class="bootstrap-timepicker-meridian form-control" maxlength="2"/>'}else{f='<span class="bootstrap-timepicker-hour"></span>';a='<span class="bootstrap-timepicker-minute"></span>';c='<span class="bootstrap-timepicker-second"></span>';n='<span class="bootstrap-timepicker-meridian"></span>'}d='<table><tr><td><a href="#" data-action="incrementHour"><i class="'+this.upArrowStyle+'"></i></a></td><td class="separator">&nbsp;</td><td><a href="#" data-action="incrementMinute"><i class="'+this.upArrowStyle+'"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond"><i class="'+this.upArrowStyle+'"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><i class="'+this.upArrowStyle+'"></i></a></td>':"")+"</tr><tr><td>"+f+'</td> <td class="separator">:</td><td>'+a+"</td> "+(this.showSeconds?'<td class="separator">:</td><td>'+c+"</td>":"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td>'+n+"</td>":"")+'</tr><tr><td><a href="#" data-action="decrementHour"><i class="'+this.downArrowStyle+'"></i></a></td><td class="separator"></td><td><a href="#" data-action="decrementMinute"><i class="'+this.downArrowStyle+'"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond"><i class="'+this.downArrowStyle+'"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian"><i class="'+this.downArrowStyle+'"></i></a></td>':"")+"</tr></table>";switch(this.template){case"modal":b='<div class="bootstrap-timepicker-widget modal hide fade in" data-backdrop="'+(this.modalBackdrop?"true":"false")+'"><div class="modal-header"><a href="#" class="close" data-dismiss="modal">Ã—</a><h3>Pick a Time</h3></div><div class="modal-content">'+d+'</div><div class="modal-footer"><a href="#" class="btn btn-primary" data-dismiss="modal">OK</a></div></div>';break;case"dropdown":b='<div class="bootstrap-timepicker-widget dropdown-menu">'+d+"</div>";break}return b},getTime:function(){return this.formatTime(this.hour,this.minute,this.second,this.meridian)},hideWidget:function(){if(this.isOpen===false){return}if(this.showInputs){this.updateFromWidgetInputs()}this.$element.trigger({type:"hide.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}});if(this.template==="modal"&&this.$widget.modal){this.$widget.modal("hide")}else{this.$widget.removeClass("open")}i(h).off("mousedown.timepicker");this.isOpen=false},highlightUnit:function(){this.position=this.getCursorPosition();if(this.position>=0&&this.position<=2){this.highlightHour()}else{if(this.position>=3&&this.position<=5){this.highlightMinute()}else{if(this.position>=6&&this.position<=8){if(this.showSeconds){this.highlightSecond()}else{this.highlightMeridian()}}else{if(this.position>=9&&this.position<=11){this.highlightMeridian()}}}}},highlightNextUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMinute();break;case"minute":if(this.showSeconds){this.highlightSecond()}else{if(this.showMeridian){this.highlightMeridian()}else{this.highlightHour()}}break;case"second":if(this.showMeridian){this.highlightMeridian()}else{this.highlightHour()}break;case"meridian":this.highlightHour();break}},highlightPrevUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMeridian();break;case"minute":this.highlightHour();break;case"second":this.highlightMinute();break;case"meridian":if(this.showSeconds){this.highlightSecond()}else{this.highlightMinute()}break}},highlightHour:function(){var a=this.$element.get(0);this.highlightedUnit="hour";if(a.setSelectionRange){setTimeout(function(){a.setSelectionRange(0,2)},0)}},highlightMinute:function(){var a=this.$element.get(0);this.highlightedUnit="minute";if(a.setSelectionRange){setTimeout(function(){a.setSelectionRange(3,5)},0)}},highlightSecond:function(){var a=this.$element.get(0);this.highlightedUnit="second";if(a.setSelectionRange){setTimeout(function(){a.setSelectionRange(6,8)},0)}},highlightMeridian:function(){var a=this.$element.get(0);this.highlightedUnit="meridian";if(a.setSelectionRange){if(this.showSeconds){setTimeout(function(){a.setSelectionRange(9,11)},0)}else{setTimeout(function(){a.setSelectionRange(6,8)},0)}}},incrementHour:function(){if(this.showMeridian){if(this.hour===11){this.hour++;return this.toggleMeridian()}else{if(this.hour===12){this.hour=0}}}if(this.hour===23){this.hour=0;return}this.hour++;this.update()},incrementMinute:function(a){var b;if(a){b=this.minute+a}else{b=this.minute+this.minuteStep-this.minute%this.minuteStep}if(b>59){this.incrementHour();this.minute=b-60}else{this.minute=b}this.update()},incrementSecond:function(){var a=this.second+this.secondStep-this.second%this.secondStep;if(a>59){this.incrementMinute(true);this.second=a-60}else{this.second=a}this.update()},remove:function(){i("document").off(".timepicker");if(this.$widget){this.$widget.remove()}delete this.$element.data().timepicker},setDefaultTime:function(b){if(!this.$element.val()){if(b==="current"){var f=new Date,a=f.getHours(),c=Math.floor(f.getMinutes()/this.minuteStep)*this.minuteStep,n=Math.floor(f.getSeconds()/this.secondStep)*this.secondStep,d="AM";if(this.showMeridian){if(a===0){a=12}else{if(a>=12){if(a>12){a=a-12}d="PM"}else{d="AM"}}}this.hour=a;this.minute=c;this.second=n;this.meridian=d;this.update()}else{if(b===false){this.hour=0;this.minute=0;this.second=0;this.meridian="AM"}else{this.setTime(b)}}}else{this.updateFromElementVal()}},setTime:function(b){var c,a;if(this.showMeridian){c=b.split(" ");a=c[0].split(":");this.meridian=c[1]}else{a=b.split(":")}this.hour=parseInt(a[0],10);this.minute=parseInt(a[1],10);this.second=parseInt(a[2],10);if(isNaN(this.hour)){this.hour=0}if(isNaN(this.minute)){this.minute=0}if(this.showMeridian){if(this.hour>12){this.hour=12}else{if(this.hour<1){this.hour=12}}if(this.meridian==="am"||this.meridian==="a"){this.meridian="AM"}else{if(this.meridian==="pm"||this.meridian==="p"){this.meridian="PM"}}if(this.meridian!=="AM"&&this.meridian!=="PM"){this.meridian="AM"}}else{if(this.hour>=24){this.hour=23}else{if(this.hour<0){this.hour=0}}}if(this.minute<0){this.minute=0}else{if(this.minute>=60){this.minute=59}}if(this.showSeconds){if(isNaN(this.second)){this.second=0}else{if(this.second<0){this.second=0}else{if(this.second>=60){this.second=59}}}}this.update()},showWidget:function(){if(this.isOpen){return}if(this.$element.is(":disabled")){return}var a=this;i(h).on("mousedown.timepicker",function(b){if(i(b.target).closest(".bootstrap-timepicker-widget").length===0){a.hideWidget()}});this.$element.trigger({type:"show.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}});if(this.disableFocus){this.$element.blur()}this.updateFromElementVal();if(this.template==="modal"&&this.$widget.modal){this.$widget.modal("show").on("hidden",i.proxy(this.hideWidget,this))}else{if(this.isOpen===false){this.$widget.addClass("open")}}this.isOpen=true},toggleMeridian:function(){this.meridian=this.meridian==="AM"?"PM":"AM";this.update()},update:function(){this.$element.trigger({type:"changeTime.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}});this.updateElement();this.updateWidget()},updateElement:function(){this.$element.val(this.getTime()).change()},updateFromElementVal:function(){var a=this.$element.val();if(a){this.setTime(a)}},updateWidget:function(){if(this.$widget===false){return}var b=this.hour<10?"0"+this.hour:this.hour,c=this.minute<10?"0"+this.minute:this.minute,a=this.second<10?"0"+this.second:this.second;if(this.showInputs){this.$widget.find("input.bootstrap-timepicker-hour").val(b);this.$widget.find("input.bootstrap-timepicker-minute").val(c);if(this.showSeconds){this.$widget.find("input.bootstrap-timepicker-second").val(a)}if(this.showMeridian){this.$widget.find("input.bootstrap-timepicker-meridian").val(this.meridian)}}else{this.$widget.find("span.bootstrap-timepicker-hour").text(b);this.$widget.find("span.bootstrap-timepicker-minute").text(c);if(this.showSeconds){this.$widget.find("span.bootstrap-timepicker-second").text(a)}if(this.showMeridian){this.$widget.find("span.bootstrap-timepicker-meridian").text(this.meridian)}}},updateFromWidgetInputs:function(){if(this.$widget===false){return}var a=i("input.bootstrap-timepicker-hour",this.$widget).val()+":"+i("input.bootstrap-timepicker-minute",this.$widget).val()+(this.showSeconds?":"+i("input.bootstrap-timepicker-second",this.$widget).val():"")+(this.showMeridian?" "+i("input.bootstrap-timepicker-meridian",this.$widget).val():"");this.setTime(a)},widgetClick:function(b){b.stopPropagation();b.preventDefault();var a=i(b.target).closest("a").data("action");if(a){this[a]()}},widgetKeydown:function(c){var a=i(c.target).closest("input"),b=a.attr("name");switch(c.keyCode){case 9:if(this.showMeridian){if(b==="meridian"){return this.hideWidget()}}else{if(this.showSeconds){if(b==="second"){return this.hideWidget()}}else{if(b==="minute"){return this.hideWidget()}}}this.updateFromWidgetInputs();break;case 27:this.hideWidget();break;case 38:c.preventDefault();switch(b){case"hour":this.incrementHour();break;case"minute":this.incrementMinute();break;case"second":this.incrementSecond();break;case"meridian":this.toggleMeridian();break}break;case 40:c.preventDefault();switch(b){case"hour":this.decrementHour();break;case"minute":this.decrementMinute();break;case"second":this.decrementSecond();break;case"meridian":this.toggleMeridian();break}break}}};i.fn.timepicker=function(b){var a=Array.apply(null,arguments);a.shift();return this.each(function(){var d=i(this),f=d.data("timepicker"),c=typeof b==="object"&&b;if(!f){d.data("timepicker",f=new g(this,i.extend({},i.fn.timepicker.defaults,c,i(this).data())))}if(typeof b==="string"){f[b].apply(f,a)}})};i.fn.timepicker.defaults={defaultTime:"current",disableFocus:false,isOpen:false,minuteStep:15,modalBackdrop:false,secondStep:15,showSeconds:false,showInputs:true,showMeridian:true,template:"dropdown",appendWidgetTo:".bootstrap-timepicker",upArrowStyle:"glyphicon glyphicon-chevron-up",downArrowStyle:"glyphicon glyphicon-chevron-down",containerClass:"bootstrap-timepicker"};i.fn.timepicker.Constructor=g})(jQuery,window,document);
/*!
 ColVis 1.1.2
 Â©2010-2015 SpryMedia Ltd - datatables.net/license
*/
(function(d,f,e){d=function(a){var b=function(g,i){(!this.CLASS||"ColVis"!=this.CLASS)&&alert("Warning: ColVis must be initialised with the keyword 'new'");"undefined"==typeof i&&(i={});var c=a.fn.dataTable.camelToHungarian;c&&(c(b.defaults,b.defaults,!0),c(b.defaults,i));this.s={dt:null,oInit:i,hidden:!0,abOriginal:[]};this.dom={wrapper:null,button:null,collection:null,background:null,catcher:null,buttons:[],groupButtons:[],restore:null};b.aInstances.push(this);this.s.dt=a.fn.dataTable.Api?(new a.fn.dataTable.Api(g)).settings()[0]:g;this._fnConstruct(i);return this};b.prototype={button:function(){return this.dom.wrapper},fnRebuild:function(){this.rebuild()},rebuild:function(){for(var c=this.dom.buttons.length-1;0<=c;c--){this.dom.collection.removeChild(this.dom.buttons[c])}this.dom.buttons.splice(0,this.dom.buttons.length);this.dom.groupButtons.splice(0,this.dom.groupButtons.length);this.dom.restore&&this.dom.restore.parentNode(this.dom.restore);this._fnAddGroups();this._fnAddButtons();this._fnDrawCallback()},_fnConstruct:function(j){this._fnApplyCustomisation(j);var k=this,c,g;this.dom.wrapper=f.createElement("div");this.dom.wrapper.className="ColVis";this.dom.button=a("<button />",{"class":!this.s.dt.bJUI?"ColVis_Button ColVis_MasterButton":"ColVis_Button ColVis_MasterButton ui-button ui-state-default"}).append("<span>"+this.s.buttonText+"</span>").bind("mouseover"==this.s.activate?"mouseover":"click",function(h){h.preventDefault();k._fnCollectionShow()}).appendTo(this.dom.wrapper)[0];this.dom.catcher=this._fnDomCatcher();this.dom.collection=this._fnDomCollection();this.dom.background=this._fnDomBackground();this._fnAddGroups();this._fnAddButtons();c=0;for(g=this.s.dt.aoColumns.length;c<g;c++){this.s.abOriginal.push(this.s.dt.aoColumns[c].bVisible)}this.s.dt.aoDrawCallback.push({fn:function(){k._fnDrawCallback.call(k)},sName:"ColVis"});a(this.s.dt.oInstance).bind("column-reorder.dt",function(m,h,i){c=0;for(g=k.s.aiExclude.length;c<g;c++){k.s.aiExclude[c]=i.aiInvertMapping[k.s.aiExclude[c]]}m=k.s.abOriginal.splice(i.iFrom,1)[0];k.s.abOriginal.splice(i.iTo,0,m);k.fnRebuild()});a(this.s.dt.oInstance).bind("destroy.dt",function(){a(k.dom.wrapper).remove()});this._fnDrawCallback()},_fnApplyCustomisation:function(j){a.extend(!0,this.s,b.defaults,j);!this.s.showAll&&this.s.bShowAll&&(this.s.showAll=this.s.sShowAll);!this.s.restore&&this.s.bRestore&&(this.s.restore=this.s.sRestore);var j=this.s.groups,k=this.s.aoGroups;if(j){for(var c=0,g=j.length;c<g;c++){if(j[c].title&&(k[c].sTitle=j[c].title),j[c].columns){k[c].aiColumns=j[c].columns}}}},_fnDrawCallback:function(){for(var p=this.s.dt.aoColumns,q=this.dom.buttons,r=this.s.aoGroups,g,h=0,o=q.length;h<o;h++){g=q[h],g.__columnIdx!==e&&a("input",g).prop("checked",p[g.__columnIdx].bVisible)}q=0;for(g=r.length;q<g;q++){p:{for(var h=r[q].aiColumns,o=0,c=h.length;o<c;o++){if(!1===p[h[o]].bVisible){h=!1;break p}}h=!0}if(h){a("input",this.dom.groupButtons[q]).prop("checked",!0),a("input",this.dom.groupButtons[q]).prop("indeterminate",!1)}else{p:{h=r[q].aiColumns;o=0;for(c=h.length;o<c;o++){if(!0===p[h[o]].bVisible){h=!1;break p}}h=!0}h?(a("input",this.dom.groupButtons[q]).prop("checked",!1),a("input",this.dom.groupButtons[q]).prop("indeterminate",!1)):a("input",this.dom.groupButtons[q]).prop("indeterminate",!0)}}},_fnAddGroups:function(){var g;if("undefined"!=typeof this.s.aoGroups){for(var i=0,c=this.s.aoGroups.length;i<c;i++){g=this._fnDomGroupButton(i),this.dom.groupButtons.push(g),this.dom.buttons.push(g),this.dom.collection.appendChild(g)}}},_fnAddButtons:function(){var j,k=this.s.dt.aoColumns;if(-1===a.inArray("all",this.s.aiExclude)){for(var c=0,g=k.length;c<g;c++){-1===a.inArray(c,this.s.aiExclude)&&(j=this._fnDomColumnButton(c),j.__columnIdx=c,this.dom.buttons.push(j))}}"alpha"===this.s.order&&this.dom.buttons.sort(function(o,h){var i=k[o.__columnIdx].sTitle,n=k[h.__columnIdx].sTitle;return i===n?0:i<n?-1:1});this.s.restore&&(j=this._fnDomRestoreButton(),j.className+=" ColVis_Restore",this.dom.buttons.push(j));this.s.showAll&&(j=this._fnDomShowXButton(this.s.showAll,!0),j.className+=" ColVis_ShowAll",this.dom.buttons.push(j));this.s.showNone&&(j=this._fnDomShowXButton(this.s.showNone,!1),j.className+=" ColVis_ShowNone",this.dom.buttons.push(j));a(this.dom.collection).append(this.dom.buttons)},_fnDomRestoreButton:function(){var c=this;return a('<li class="ColVis_Special '+(this.s.dt.bJUI?"ui-button ui-state-default":"")+'">'+this.s.restore+"</li>").click(function(){for(var i=0,g=c.s.abOriginal.length;i<g;i++){c.s.dt.oInstance.fnSetColumnVis(i,c.s.abOriginal[i],!1)}c._fnAdjustOpenRows();c.s.dt.oInstance.fnAdjustColumnSizing(!1);c.s.dt.oInstance.fnDraw(!1)})[0]},_fnDomShowXButton:function(g,i){var c=this;return a('<li class="ColVis_Special '+(this.s.dt.bJUI?"ui-button ui-state-default":"")+'">'+g+"</li>").click(function(){for(var k=0,h=c.s.abOriginal.length;k<h;k++){-1===c.s.aiExclude.indexOf(k)&&c.s.dt.oInstance.fnSetColumnVis(k,i,!1)}c._fnAdjustOpenRows();c.s.dt.oInstance.fnAdjustColumnSizing(!1);c.s.dt.oInstance.fnDraw(!1)})[0]},_fnDomGroupButton:function(g){var i=this,c=this.s.aoGroups[g];return a('<li class="ColVis_Special '+(this.s.dt.bJUI?"ui-button ui-state-default":"")+'"><label><input type="checkbox" /><span>'+c.sTitle+"</span></label></li>").click(function(k){var h=!a("input",this).is(":checked");"li"!==k.target.nodeName.toLowerCase()&&(h=!h);for(k=0;k<c.aiColumns.length;k++){i.s.dt.oInstance.fnSetColumnVis(c.aiColumns[k],h)}})[0]},_fnDomColumnButton:function(j){var k=this,c=this.s.dt.aoColumns[j],g=this.s.dt,c=null===this.s.fnLabel?c.sTitle:this.s.fnLabel(j,c.sTitle,c.nTh);return a("<li "+(g.bJUI?'class="ui-button ui-state-default"':"")+'><label><input type="checkbox" /><span>'+c+"</span></label></li>").click(function(h){var i=!a("input",this).is(":checked");if("li"!==h.target.nodeName.toLowerCase()&&("input"==h.target.nodeName.toLowerCase()||null===k.s.fnStateChange)){i=!i}var m=a.fn.dataTableExt.iApiIndex;a.fn.dataTableExt.iApiIndex=k._fnDataTablesApiIndex.call(k);g.oFeatures.bServerSide?(k.s.dt.oInstance.fnSetColumnVis(j,i,!1),k.s.dt.oInstance.fnAdjustColumnSizing(!1),(""!==g.oScroll.sX||""!==g.oScroll.sY)&&k.s.dt.oInstance.oApi._fnScrollDraw(k.s.dt),k._fnDrawCallback()):k.s.dt.oInstance.fnSetColumnVis(j,i);a.fn.dataTableExt.iApiIndex=m;null!==k.s.fnStateChange&&("span"==h.target.nodeName.toLowerCase()&&h.preventDefault(),k.s.fnStateChange.call(k,j,i))})[0]},_fnDataTablesApiIndex:function(){for(var c=0,g=this.s.dt.oInstance.length;c<g;c++){if(this.s.dt.oInstance[c]==this.s.dt.nTable){return c}}return 0},_fnDomCollection:function(){return a("<ul />",{"class":!this.s.dt.bJUI?"ColVis_collection":"ColVis_collection ui-buttonset ui-buttonset-multi"}).css({display:"none",opacity:0,position:!this.s.bCssPosition?"absolute":""})[0]},_fnDomCatcher:function(){var c=this,g=f.createElement("div");g.className="ColVis_catcher";a(g).click(function(){c._fnCollectionHide.call(c,null,null)});return g},_fnDomBackground:function(){var c=this,g=a("<div></div>").addClass("ColVis_collectionBackground").css("opacity",0).click(function(){c._fnCollectionHide.call(c,null,null)});"mouseover"==this.s.activate&&g.mouseover(function(){c.s.overcollection=!1;c._fnCollectionHide.call(c,null,null)});return g[0]},_fnCollectionShow:function(){var o=this,p;p=a(this.dom.button).offset();var c=this.dom.collection,h=this.dom.background,g=parseInt(p.left,10),n=parseInt(p.top+a(this.dom.button).outerHeight(),10);this.s.bCssPosition||(c.style.top=n+"px",c.style.left=g+"px");a(c).css({display:"block",opacity:0});h.style.bottom="0px";h.style.right="0px";n=this.dom.catcher.style;n.height=a(this.dom.button).outerHeight()+"px";n.width=a(this.dom.button).outerWidth()+"px";n.top=p.top+"px";n.left=g+"px";f.body.appendChild(h);f.body.appendChild(c);f.body.appendChild(this.dom.catcher);a(c).animate({opacity:1},o.s.iOverlayFade);a(h).animate({opacity:0.1},o.s.iOverlayFade,"linear",function(){a.browser&&(a.browser.msie&&a.browser.version=="6.0")&&o._fnDrawCallback()});this.s.bCssPosition||(p="left"==this.s.sAlign?g:g-a(c).outerWidth()+a(this.dom.button).outerWidth(),c.style.left=p+"px",h=a(c).outerWidth(),a(c).outerHeight(),g=a(f).width(),p+h>g&&(c.style.left=g-h+"px"));this.s.hidden=!1},_fnCollectionHide:function(){var c=this;!this.s.hidden&&null!==this.dom.collection&&(this.s.hidden=!0,a(this.dom.collection).animate({opacity:0},c.s.iOverlayFade,function(){this.style.display="none"}),a(this.dom.background).animate({opacity:0},c.s.iOverlayFade,function(){f.body.removeChild(c.dom.background);f.body.removeChild(c.dom.catcher)}))},_fnAdjustOpenRows:function(){for(var k=this.s.dt.aoOpenRows,l=this.s.dt.oApi._fnVisbleColumns(this.s.dt),c=0,g=k.length;c<g;c++){k[c].nTr.getElementsByTagName("td")[0].colSpan=l}}};b.fnRebuild=function(j){var k=null;"undefined"!=typeof j&&(k=a.fn.dataTable.Api?(new a.fn.dataTable.Api(j)).table().node():j.fnSettings().nTable);for(var c=0,g=b.aInstances.length;c<g;c++){("undefined"==typeof j||k==b.aInstances[c].s.dt.nTable)&&b.aInstances[c].fnRebuild()}};b.defaults={active:"click",buttonText:"Show / hide columns",aiExclude:[],bRestore:!1,sRestore:"Restore original",bShowAll:!1,sShowAll:"Show All",sAlign:"left",fnStateChange:null,iOverlayFade:500,fnLabel:null,bCssPosition:!1,aoGroups:[],order:"column"};b.aInstances=[];b.prototype.CLASS="ColVis";b.VERSION="1.1.2";b.prototype.VERSION=b.VERSION;"function"==typeof a.fn.dataTable&&"function"==typeof a.fn.dataTableExt.fnVersionCheck&&a.fn.dataTableExt.fnVersionCheck("1.7.0")?a.fn.dataTableExt.aoFeatures.push({fnInit:function(c){var g=c.oInit;return(new b(c,g.colVis||g.oColVis||{})).button()},cFeature:"C",sFeature:"ColVis"}):alert("Warning: ColVis requires DataTables 1.7 or greater - www.datatables.net/download");a.fn.dataTable.ColVis=b;return a.fn.DataTable.ColVis=b};"function"===typeof define&&define.amd?define(["jquery","datatables"],d):"object"===typeof exports?d(require("jquery"),require("datatables")):jQuery&&!jQuery.fn.dataTable.ColVis&&d(jQuery,jQuery.fn.dataTable)})(window,document);